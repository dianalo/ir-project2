<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-108-106  </DOCNO><DOCID>07 108 106.andM;</DOCID><JOURNAL>PC Magazine  April 11 1989 v8 n7 p164(1)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1989.andM;</JOURNAL><TITLE>Extending the virtual 8086 environment. (With DOS under Unixstory)</TITLE><AUTHOR>Christian, Kaare.andM;</AUTHOR><SUMMARY>In order to use DOS hardware peripherals, users who work withinthe Unix operating environment must address the 8086 BIOS withinthe 80386 processor.andP;  Direct DOS Attach (DDA) , as it is called inthe VP-ix operating environment, a single DOS session is used toaddress a hardware device not among standard Unix devices.andP;  DDA iseasy to use, only I-O ports, memory addresses, interrupt vectorsand DMA channels are identified by the user.andP;  Network interfacesand other complex devices are a more difficult programming chore.andO;Another extension of the 8086 environment is accomplished bywriting distributed applications that address both Unix and DOSapplications.andM;</SUMMARY><DESCRIPT>Product:   VP/ix 1.1 (Operating system enhancement) (usage)Merge 386 (Computer program) (usage)Intel 80386 (Microprocessor) (usage).andO;Topic:     Operating EnvironmentsPeripheralsDevice HandlingMemory Management.andM;</DESCRIPT><TEXT>EXTENDING THE VIRTUAL 8086 ENVIRONMENTandM;Emulating the standard hardware/BIOS enviroment of a PC using the 80386processor's virtual 8086 mode is no small feat, but it's necessary if youwant your DOS-under-Unix system to be able to use the slew of periphernalsand facilities--scanners, networks, mainframe communications, graphicstablets, joysticks, trackballs, and others--that are part of the PC'severyday environment.andP;  None of these are emulated in the standard VP/ix orMerge 386 environments, but they can be accommodated by extending thoseenvironments.andM;The first level of support offered by both products allows a DOS sessiondirect access to a device on the PC bus.andP;  In Merge 386 parlance, this iscalled DDA (direct DOS attach).andP;  In VP/ix, it's also called DDA, but itstands for &quot;direct device access.&quot;andP;  In both cases, DDA lets a single DOSsession use a hardware device that isn't in the standard set of supporteddevices.andM;When you use DDA, the virtual 8086 environment is set up so that accesses tothe device's addresses go directly to the device, just as if the program wererunning in real mode on a standard DOS system.andP;  This happens even as allother accesses to &quot;standard&quot; hardware addresses go to emulated devices ratherthan directly to the bus.andP;  Interrupts by DDA devices activata a generic Unixinterrupt handler, which relays each interrupt into the proper virtual 8086session.andM;The big advantage of DDA is that it is easy to sue.andP;  &quot;(Both Locus Computingand Interactive Systems report that a sizeable number of their users areworking with DDA.)andP;  You just specify the I/O ports, memory addresses,interrupt vectors, and DMA (direct memory access) channels that are used bythe device in question; then you ask to use that device when you are startinga DOS session.andP;  VP/ix and Merge 386 have similar capabilities in this area,except that only Merge 386 supports DMA.andM;VP/ix and Merge 386 also allow you to create drivers for specialized devicessuch as network interfaces.andP;  This process is much more complicated andexpensive than DDA, and you need a talented systems programmer to write thecode.andP;  For the most part, this step is taken by OEMs and system integratorsto meet the needs of a large client base.andP;  Few and users, if any, writedevice drivers.andM;Although it takes a lot of talent and effort to write device drivers, thesetools have several advantages.andP;  With a device driver, you can fieldinterrupts more rapidly and with less overhead than when you use DDAinterrupt handling.andP;  Another advantage is that some devices, such as networkinterfaces, can be shared by multiple DOS sessions if they are accessedthrough a device driver.andP;  (When they are accessed through DDA, only onesession at a time can use the device.)andP;  And with VP/ix, you must use a devicedriver to interface to a device that uses DMA data transfers.andP;  (Merge 386 canhandle many such devices with DDA.)andP;  VP/ix comes with all you need to createa device driver, whereas Locus recommends that you contact its technicalsupport staff and work closely with them if you choose to create one.andM;Another approach to extending the environment involves developing programsthat bridge the chasm between DOS and Unix.andP;  With Merge 386's PCILib facilityor VP/ix's Channels facility, you can write a distributed application--forexample, a DOS user interface program that uses a Unix database server.andO;PCILib costs $995; Channels is included with VP/ix package.andM;DDA lets DOS sessions access unusual hardware.andP;  Device drivers, while moredemanding to create, let you manage more hardware, more eficiently.andP;  bothMerge 386 and VPix offer software libraries that let you gain mastery overdistributed applications.andP;  Both products cover the bases and the turf inbetween.andO;</TEXT></DOC>