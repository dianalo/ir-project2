<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF208-027-204  </DOCNO><DOCID>08 027 204.andM;</DOCID><JOURNAL>Data Based Advisor  Nov 1989 v7 n11 p120(6)* Full Text COPYRIGHT Data Based Solutions 1989.andM;</JOURNAL><TITLE>db_Vista: the C solution. (Software Review) (Raima Corp's db_VistaIII; includes related article on db_Vista add-on applications)(evaluation)</TITLE><AUTHOR>Watterson, Karen.andM;</AUTHOR><SUMMARY>Raima Corp's db_Vista III is an interesting, hybrid data basemanagement system that is available for $695 for either thesingle-user DOS or Macintosh version.andP;  db_Vista is available onother platforms as well, including VAX/VMS, ULTRIX, UNIX, OS/2,Microsoft Windows and XENIX, and it supports most C compilers.andO;db_Vista combines the best elements from the worlds of relationaldata bases, such as flexibility, with those of the network model,such as speed.andP;  db_Vista also comes with a C language library ofalmost 120 functions for accessing and maintaining the database.andO;db_Vista is easy to learn and comes with extensive documentation,making it an excellent product.andM;</SUMMARY><DESCRIPT>Company:   Raima Corp. (products).andO;Product:   db-Vista III (Data base management system).andO;Topic:     EvaluationData Base Management SystemsRelational Data BasesC Programming Language.andO;Feature:   illustrationchartprogram.andO;Caption:   db_Vista component overview. (chart)What happens during compile and link. (chart)Using db_QUERY in interactive mode. (program)andM;</DESCRIPT><TEXT>db VISTA: The C SolutionandM;If you're a C programmer, chances are, you've heard of Raima Corp. and dbVISTA III.andP;  db VISTA, originally billed as a C language database develomentsystem based on the network model, has been on the market since 1984.andP;  Afterfive years, Raima is positioning db VISTA III a bit differently--as a Clanguage database management system combining &quot;the flexibility of arelational DBMS with the speed of the network database model.&quot;andP;  db VISTA is ahybrid, combining what the company considers the best of the relational andnetwork models.andP;  When you buy db VISTA, you are really purchasing a Clanguage library with almost 120 functions for accessing and maintaining dbVISTA databases.andP;  It's your responsibility to write the C applicationprograms which may incorporate other C libraries that use the databases.andM;Relational bindandM;Raima's caught in a bit of a bind.andP;  Government and corporate Request ForProposals (RFPs) increasingly specify relational DBMSs.andP;  To make mattersworse, many people confuse the network database model with networks as inLANs and WANs.andP;  Network model supporters cite its proven track record inperformance.andP;  Many of Raima's customers switched to db VISTA because theirrelational DBMSs failed to perform at acceptable levels.andP;  But detractorscomplain that network DBMS speed is purchased at the expense offlexibility--the flexibility provided by relational databases.andP;  db VISTAusers think that mainframe DBMSs like IDMS have given the network model a badreputation and point out that db VISTA databases aren't inflexible.andM;The network approachandM;A relational database contains organized data that we perceive as being acollection of tables.andP;  Tables are related by common key fields.andP;  There aretwo types of overhead associated with the relational model; repeated commonfields and index files established for each table's key fields.andP;  It'sgenerally pretty easy to set up and modify databases using DBMSs base on therelational model.andM;The network-model is based on records and sets.andP;  Network-model records arecollections of data items.andP;  Raw data resides in the records.andP;  A record in dbVISTA is analogous to a table in relational databases.andP;  A set, on the otherhand, defines a one-to-many relationship between two record types in much thesame way that tables in a relational database can be related.andP;  In the networkmodel, common columns aren't used as the link; instead, the network modeluses record pointers.andP;  Most network DBMSs use backward and forward pointerswith the addresses of the previous and next records.andP;  The result is a networkof interconnected records.andP;  (A third, little-used database model, thehierarchical model, can be thought of as a limited form of the network model.andO;In the hierarchical model, records can &quot;belong&quot; to only one parent.andP;  In thenetwork model, records can belong to many parents.)andM;The idea of &quot;hard wiring&quot; information concerning physical location into therecords is blasphemous to relational model devotees, but it's the secret tothe network model's speed.andP;  Behind the scenes, of course, relational DBMSsalso rely on pointers via index files.andP;  The binary-tree (B-tree) index methodis probably the most popular method of maintaining index files in relationalDBMSs--it's also available in db VISTA.andP;  Neither model handles many-to-manyrelationships directly.andP;  In relational databases a many-to-many relationshipis decomposed into two one-to-many relationships by creating an intersect orlink table.andP;  This intermediate table contains the keys from the two tablesbeingandM;related.andP;   The network model, on the other hand, requires youandM;to define a special intersect record that contains two sets: one representingthe A to B relation, and another representing the B to A relation.andP;  Intersectrecords are made up of pointers.andM;db VISTA componentsandM;Raima provides the &quot;db VISTA Component Overview&quot;, illustrated in Fig.andP;  1.andP;  Aquick tour of these components should give you a feel for how to use the dbVISTA III DBMS system.andM;The SCHEMA is a text file you create.andP;  It defines files, records, and sets.andO;A simple schema containing only one record type might look like this:andM;database tims { /* total information management system */ data file&quot;tims.d01: contains info; key file tims.k01&quot; contains id code; key file&quot;tims.k02&quot; contains author;andM;record info { unique key char id code[16]; /* dewey decimal or own codingtechnique */ char info title[81];  /*title of book, article, magazine */ keychart author[32]; char publisher[32];  /* name of publisher - probably coded*/ char pub date[12];  /* date of publication */ int info type;  /* 0 = book,1 = magazine, 2 = article */ } }andM;After you create a schema, you run DDLP, the Database Definition LanguageProcessor, to create the database header (dbname.h) and data dictionary(dhname.dbd) files used by both db VISTA runtime routines and applicationprograms written in C.andP;  Running DDLP on the sample schema above yielded thisscreen output:andM;Runtime dictionary memory reqts:andM;file table : 180 record table: 12 field tabel : 120 set table : 0 membertable: 0 sort table : 0 key table : 0andM;total : 312andM;0 errors detectedandM;and this header file:andM;/* database tims record/key structure declarations */andM;struct info { char id code[16]; char info title[81]; char au thor[32]; charpublisher[32]; char pub date[12]; int info type; };andM;/* record, field and set table entry definition */andM;/* File Id Constants */andM;/* Record Name Constants */ #define INFO 10000andM;/* Field Name Constants */ #define ID CODE 0L #define IMFO TITLE 1L #defineAUTHOR 2L #define PUBLISHER 3L #define PUB DATE 4L #define INFO TYPE 5LandM;PRDBD can be used to print the DataBase Definition (DBD) file, revealinginformation about the default page sizes for each database file, along withfile, record, field, set, and key information.andM;Once the dictionary and header files are available, you use INITDB to createthe files specified in the schema for your operating system.andP;  db VISTAsupports two kinds of files: data files and optional key files.andP;  Data filescan contain one or more record types.andP;  db VISTA files are composed of pages.andO;Aside from special sy stem pages, db VISTA pages consist of one or morefixed-length slots where individual records are stored.andP;  Along with theactual field data, information about record type, deletion or lock status,slot address, optional key flags, and pointers is maintained.andM;Many users use DBIMP to load the database; it can be used to create, store,and form set connections of one or more record types.andP;  Before running DBIMP,you need to set up a simple text file with transfer specifications.andP;  The dbVISTA User's Guide has almost 25 pages that explain how to useandM;Figure 2--The IDA main menuandM;IDA - db VISTA Interactive Database Access Utility Open Access InitializeClose Parameters Quit Open a db VISTA databaseandM;db VISTA's import and export utilities.andP;  A separate module called WKSLibrary, a collection of C functions that let you open and read from andwrite to dBASE and/or Lotus files directly, is also available at additionalcost.andP;  DBIMP only works with ASCII files.andP;  IDA, an Interactive DatabaseAccess utility (see Fig.andP;  2), is a menu-driven front end to db VISTAdatabases.andP;  With it, users can add, edit, or view records, connect newlyadded records to sets, and so on.andP;  It's useful for testing database designsand learning db VISTA.andP;  The db VISTA User's Guide explains IDA's options inabout 35 pages.andM;db QUERY 2.1 is a separate product.andP;  db QUERY provides a SQL interface to dbVISTA databases, so users can submit ad hoc SQL queries to the database.andO;Because db QUERY supports conditional and arithmetic expressions and includesa variety of built-in functions, many db VISTA developers use db QUERY as areport generator, rather than depending on C functions (like printf) orexporting data to an ASCII file via DBEXP.andP;  db QUERY can be used ininteractive mode (as an executable program shown in Fig.andP;  3) or from within aC application program linked to the db QUERY library.andM;Figure 3--Using db QUERY in interactive modeandM;C:\TIMSdb query -o tims db QUERY Version 2.10 Apr 3, 1989 Database QueryLanguage Processor for use with db VISTA V3.10 Copyright (C) 1986-1989 byRaima CorporationandM;queryandgt; show field *; PAGE 1  OF FIELD LISTING FIELD NAME  DEFINITION DESCRIPTION ID CODE  Field in INFO INFO TITLE  Field in INFO AUTHOR  Field inINFO PUBLISHER  Field in INFO PUB DATE  Field in INFO INFO TYPE  Field inINFO queryandgt; select author, info title; PAGE 1 AUTHOR  INFO TITLE Knut Sorting and Searching Tufte  The Visual Display of Information Sedgewick Algorithms Kernighan  The C Programming Language The Waite Group  C PrimerPlus queryandgt;andM;db REVISE 1.0 is a another, virtually mandatory, program for anyone who needsto make changes in a db VISTA database's design.andP;  (The alternate is to unloadand reload the database with DBEXP and DBIMP.)andP;  To use db REVISE, all you dois create a new schema file.andP;  db REVISE actually makes a new copy of theoriginal database and dictionary files, incorporates changes to names, datatypes, data lengths, page sizes, file organization, and set organization.andP;  dbREVISE comes with a 120-plus-page manual, and the disks include a sampledatabase used in the manual.andP;  After changes in database design, or in case ofkey file corruption, db VISTA's KEYBUILD can be used to reconstruct the keyfiles.andM;DAL, the Data Access Language utility new with db VISTA 3.1, comes withwarnings about its experimental nature.andP;  DAL lets developers test db VISTAfunction calls interactively or in batch mode without going through thecompile and link processes.andP;  db VISTA function calls virtually all begin with&quot;d&quot;; when you use DAL, you woul omit these characters.andM;Tools for DBAsandM;db VISTA comes with a variety of utilities for database administrators.andP;  Forexample, DBCHECK is a utility program that checks and verifies the locationand key values for each record in record and key files and optionally checksset consistency.andP;  Its output locates any corruption problems.andM;DATDUMP and KEYDUMP display formatted dumps of data and key files,respectively.andP;  Novices can learn a lot about how db VISTA stores data, keys,and pointers by using these programs.andP;  DCHAIN is a utility that reorganizesdb VISTA-maintained delete chains to optimize reuse of file space containingdeleted records.andM;Multiuser db VISTAandM;LOCKMGR is the background program to manage systemwide lock information inmultiuser versions of db VISTA.andP;  (A &quot;General Lock Manager&quot; is available withsingle-user versions of db VISTA.)andP;  LOCKMGR works with the systemwide TAF(Transaction Activity File) and the log files for any needed databaserecoveries.andP;  db VISTA comes with a host of file and record locking functionsas well as transaction processing functions that bracket transactions.andO;NetBIOS Emulator, a utility that fools LOCKMGR into thinking NetBIOS ispresent in single-user mode, allows single-user applications to benefit fromLOCKMGR's features rather than the slower single-user General Lock Manager.andM;Finally, CLEARDB is a utility used in multiuser operations to clear adatabase user whose system powered off before the database files wereproperly closed.andM;Using db VISTAandM;The single-user DOS version of db VISTA object code used for this review cameon six floppy disks.andP;  The install program warned me that subdirectories forheader files, runtime libraries, executable programs, the tims databaseexample, and the general lock manager (a lock manger for single-user mode)would be created with default names.andP;  I could override the defaults orinterrupt the installation process with Ctrl-C.andM;The User's Guide is as an excellent tutorial that provides increasinglycomplex examples of db VISTA databases.andP;  The schema from the beginning of thearticle represents the structure of the first database you create.andP;  Tointroduce you to db VISTA functions, the manual provides a sample C program.andO;A portion of that program is reproduced here:andM;#include andless;stdio.handgt; #include &quot;vista.h&quot; #include &quot;tims.h&quot;andM;struct info irec; /* Technical Information Management System */ main() { charcmd[20];  /* command entry string */ d open(&quot;tims&quot;); /* open the &quot;tims&quot;database */andM;for ( ; ; ) { printf(&quot;\nTIMS Commands:\n&quot;);  /* display command menu */printf(&quot;  1 - Enter technical information\n&quot;); printf(&quot;  2 - Delete technicalinformation\n&quot;); printf(&quot;  3- Find technical info by id code\n&quot;); printf(&quot;  4- Find technical info by author\n&quot;); printf(&quot;  q - Quit\n&quot;); printf(&quot;entercommand: &quot;); gets (cmd); switch ( cmd[0] ) { case '1': ent info();  break;case '2': del info();  break; case '3': by id();  break; case '4': byauthor();  break; case 'q': d close();  exit(0); default : printf(&quot;***incorrect command -- re-enter\n&quot;); } } } ent info() /* Check for unique idcode, end of data entry */ { char s[32];  /* generic string variable */ while( get info() !=EOF ) { if ( d fillnew (INFO, andamp;irec) ==S DUPLICATE )priNTF(&quot;DUPLICATE ID CODE: %s\n&quot;, irec.andP;  id code); } } int get info() /* Fillirec, arec with info data from user */ { char txt[40]; printf (&quot;author  : &quot;);if (gets(irec.andP;  author) == NULL || irec.author[10+ == '\0' ) return (EOF);else { for (;;) { printf(&quot;id code :&quot;); gets (irec.id code); printf(&quot;title  :&quot;); gets (irec.andP;  info title); printf(&quot;publisher: &quot;); gets (irec.publisher);printf(&quot;pub.andP;  date: &quot;); gets (irec.andP;  pub date); for (;;) { printf (&quot;infotype: &quot;); gets (txt); sscanf(txt, &quot;%d&quot;, andamp;irec.info type); if ( irec.infotypeandgt;= 0 andamp;andamp; irec.info type andless;= 2) break; printf (&quot;invalid info type - correcttypes are:\n&quot;); printf(&quot;0 - book, 1 = magazine, 2 = article\n&quot;); } printf(&quot;enter data (y/n)? &quot;); gets (txt); if ( txt [10] == 'y' || txt [0] == 'Y' )return ( 0); } } } /* More code goes here */ by id()  /* Find technicalinformation by id code */ { char id[16];andM;printf(&quot;id code: &quot;); gets (id);  /* search for matching key */ if ( d keyfind(ID CODE, id) == S NOTFOUND ) printf(&quot;id code %s not on file\n&quot;, id); else {/* read found record and print contents */ d recread (andamp;irec); pr info (); } }/* More code goes here */ pr info () /* Display record contents on screen */{ printf (&quot;id code : %s\n&quot;, irec.id code); printf(&quot;author : %s\n&quot;,irec.author); printf(&quot;title : %s\n&quot;, irec.info title); printf(&quot;publisher:%s\n&quot;, irec.publisher); printf(&quot;pub date : %s\n&quot;, irec.pub date);printf(&quot;info type: &quot;); switch ( irec.info type ) { case 0: printf(&quot;book\n&quot;);break; case 1: printf(&quot;magazine\n&quot;); break; case 2: printf(&quot;article\n&quot;);break; } }andM;db VISTA function calls are identified, as I've mentioned, by names thatalmost always start with &quot;d &quot;.andP;  Most of the functions have logical names(those in the sample C program include: d open, d close, d keyfind, dkeynext, d recread, d fillnew, and d delete).andP;  The db VISTA runtime libraryhas about 115 functions.andM;To compile and link the sample program (called intro.c) using Microsoft C5.1, you simply type:andM;CL /AM intro.c dbvistam.libandM;The /AM tells the compiler to use the medium memory model, with theappropriate db VISTA library.andP;  db VISTA also comes with a library thatsupports the large memory model for database files larger than 64K.andP;  Anoperational view of what happens is provided in Fig.andP;  4.andM;The compiler took our C program (intro.c), our database's C header file(tims.h), and the header files that come with db VISTA (Vista.h) and producedobject code.andP;  The linker then combined db VISTA's runtime library(dbvistam.lib) with the object code to create an executable file.andP;  Theresulting EXE application program (about 90K in this case) displays a menuand lets the user add, delete, or retrieve data from the tims database's&quot;info&quot; records.andP;  The program uses our database's dictionary file (tims.dbd)to access the database.andP;  The lock manager would probably have only been usedfor multiuser applications.andM;Error handlingandM;All db VISTA functions return an integer database status code to reflect 1)normal function results, 2) system errors, or 3) user errors.andP;  These statuscodes are accessed via the external integer variable db status, and users aregenerally satisfied with the 41 user error codes and 23 system error codes.andM;DocumentationandM;db VISTA comes with two comprehensive manuals, the User's Guide and theReference Manual.andP;  Together, they provide almost 500 pages of progressivetutorial, design tips, and implementation examples.andP;  The manuals assume youalready know how to program in C and use your compiler.andP;  Disk files thataccompany the examples in the User's Guide are on the distribution disks.andP;  Ifyou're unfamiliar with network model terminology, you'll get a lot of usefrom the six-page glossary.andM;My only complaint with the documentation is that the enhancements to version3.1 were &quot;tacked on&quot; to the end of the documentation as a 15-page addendum.andM;One of db VISTA's strengths is that it's available on many platforms.andP;  It'shardware-independent and runs in the following operating environments:VAX/VMS, ULTRIX, SunOS, UNIX System V and BSD, QNX, XENIX, OS/2, DOS,Microsoft Windows, and Macintosh.andP;  Numerous C compilers are supported(Microsoft C, Lattice C, Turbon C, and Lightspeed C in the microenvironment).andP;  Pricing varies according to the platform (a single-user DOS orMacintosh version of db VISTA costs $695.andP;  Single-user source code isavailable to db VISTA object code purchasers for $895).andP;  db VISTA uses amodest 384KRAM and supports Microsoft C's medium and large memory models.andO;Purchasing db VISTA also gives you a royalty-free runtime.andP;  None of Raima'sproducts is copy-protected.andM;Most db VISTA users buy it for multiuser applications.andP;  db VISTA supports3Com, Netware, Banyan, LifeNet, and any other DOS NetBIOS-compatiblenetworks.andP;  AppleShare and network-independent versions are also available.andO;Multiuser versions of db VISTA take advantage of record- and file-locking andtimestamping functions.andP;  Both single- and multiuser versions providetransaction logging and automatic recovery.andP;  Many users have integrated CDROMs (see the accompanying article) into their applications.andM;SpecificationsandM;db VISTA supports records up to 32,757 bytes long, and accepts any number offields within that limit.andP;  Databases can consist of up to 256 files, andfiles can contain up to 16,777,215 records as long as the total number ofdatabase records doesn't exceed 4,294,967,040.andP;  More than one database can beopen simultaneously, depending on your system's available memory.andM;db VISTA supports a variety of storage media: standard 5.25-inch and 3.5-inchdisks, fixed disks, and nine-track, TK-50, and .25-inch tapes.andP;  AlthoughRaima doesn't provide specific support for optical drives, many users havesuccessfully connected them to their db VISTA applications.andM;SupportandM;db VISTA, db QUERY, db REVISE, and WKS Library purchasers get 60 days freetechnical support; extended support is available.andP;  Raima maintains a FidonetBBS with file and message areas and also supports a vendor area on the BIX(Byte Information Exchange) network.andP;  Registered users get a bimonthlyeight-page newsletter, &quot;Raima Record.&quot;andP;  Raima also offers up to five days ofmodular training worldwide.andP;  I attended three days of training and wasimpressed with the quality of instruction and the training materials.andP;  ARaima subsidiary also provides consulting for project design and development.andM;On the horizonandM;Raima's current development focuses on two areas: dynamic link libraries(DLLs) to better support the Microsoft Windows and OS/2 environments, andenhancing performance, especially multisuer db VISTA.andP;  New product releaseswith these features are scheduled for this Fall and extend through the Springof 1990.andM;Raima is also exploring other product areas, including database design tools,application code generators, and the &quot;entire graphical user interface area.&quot;andM;SummaryandM;If you're a vertern C programmer, you'll find db VISTA easy to learn and use.andO;I appreciate the wealth of database manipulation functions provided in the dbVISTA library and the flexibility to incorporate other C libraries.andM;The learning curve for understanding the network database design with dbVISTA will, of course, depend on your individual backgrounds.andP;  Based on myexperience in relational database design, I found the User's Guidedocumentation easy to follow in getting up and developing with the package.andM;Raima doesn't want to attack the relational model--it simply wants to offer asolution-based hybrid that combines the strengths of both the network andrelational models.andP;  For C programmers who need the performance, flexibility,and portability, Raima Corp. offers a cost-effective solution.andM;ContactandM;Raima Corp. is located at 3245 146th Place SE, Bellevue, Wash.andP;  98007, phone(800)327-2462 or (206)744-5570.andM;Karen Watterson is on sabbatical from her normal teaching duties at ShorelineCommunity College in Seattle.andP;  She's using her time to set up and benchmark avariety of database servers, to explore CASE and expert system technology,and to continue writing for a variety of publications.andP;  You can reach theauthor c/o SCC, 16101 Greenwood Avenue North, Seattle, Wash.andP;  98133 or viaMCI Mail (KWATTERSON).andO;</TEXT></DOC>