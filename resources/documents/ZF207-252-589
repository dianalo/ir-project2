<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-252-589  </DOCNO><DOCID>07 252 589.andM;</DOCID><JOURNAL>Digital Review  Jan 9 1989 v6 n1 p37(6)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1989.andM;</JOURNAL><TITLE>Formula for faster relations. (Software Review) (Enterprise:DBdatabase for the VAX from Cullinet) (evaluation)</TITLE><AUTHOR>Forman, Betty Y.; Fegreus, Jack.andM;</AUTHOR><SUMMARY>Enterprise:DB, a relational data base management system (DBMS)from Cullinet Software Inc, can provide top level performance.andO;The package is available for three ranges of VAX platforms:microcomputers, minicomputers and mainframes.andP;  Prices for CPUssuch as the VAX 8200, VAX-11-780, VAX-11-750 and MicroVAX II (withunlimited users) are $70,000 for a development license to runEnterprise:DB, Enterprise:Builder and Enterprise:Generator.andO;Annual support is an additional $10,500; annual updates are$5,250.andP;  An 'execute only' license is $33,400.andP;  Casual and noviceusers may have trouble setting up the data base.andP;  Corporate MISdepartments can benefit from indexing and retrieval withoutincurring high overhead.andP;  Documentation is well written and wellorganized.andP;  Benchmark comparisons with Informix and Ingres DBMSare included.andM;</SUMMARY><DESCRIPT>Company:   Cullinet Software Inc. (products).andO;Ticker:    CUL.andO;Product:   Enterprise:DB (Data base management system).andO;Topic:     EvaluationRelational DBMSProgram Development Tools.andO;Feature:   illustrationgraphchart.andO;Caption:   Enterprise:DB was often the clear winner over Ingres and Informix.andO;(graph)Effect of archiving. (chart)Effect of optimizing database structure. (chart)andM;</DESCRIPT><TEXT>FORMULA FOR FASTER RELATIONSandM;In the MIS world, the name Cullinet has always been synonymous withmainframe-class databases.andP;  But, as the mainframe market stagnated, Cullinetturned its eyes last year to the fast-growing world of VAX corporateaccounts.andM;Hoping to use its image as an MIS giant to do more than just gain entree tothe &quot;Grand Prix&quot; of VAX/VMS high-performance relational database managementsystems--the key to the nascent on-line transaction processing (OLTP)market--this software behemoth has borrowed a line from DEC's &quot;enterprisenetworking&quot; slogans and renamed its first database for the VAX--from IDMS/SQLto Enterprise:DB.andM;In addition to a core relational database management system, Enterprise:DBprovides a set of integrated development tools--renamed from KnowledgeBuildto Enterprise:Builder--that work with both Enterprise:DB and standard RMSfiles.andP;  These tools provide such functions as data definition, form andreport painting, menu maintenance and ad hoc query.andP;  They also provide fornon-procedural program specification and give users the ability to generatecode for applications in third-generation languages (Basic, Cobol, Fortran)for maximally efficient run-time performance.andM;For corporate customers with the staff and resources to experiment with andapply leading-edge technology, Cullinet goes one step further by offeringEnterprise:Expert (formerly Application Expert).andP;  This artificialintelligence toolkit can be used for building expert systems that implementrule-based programming and inference processing either in stand-alone form orembedded in other business applications.andM;DR Labs tested release 1.1, the current commercial version of Enterprise:DBalong with its associated tools.andP;  We will present our results in two phases.andM;For this article, we evaluated Enterprise:DB's performance in the classicrole of a decision-support tool.andP;  We did this by setting up a testcirculation database and running our standard suite of SQL benchmarksinteractively as a single user.andM;For the second phase of our investigation, we will employmultiple-simultaneous-user simulations to model OLTP conditions, and we willuse and evaluate the Enterprise:DB development tools.andM;Enterprise:DB was designed from the ground up as a database management systemfor VMS.andP;  It is not a port of any of Cullinet's IDMS products, which areprominent in the IBM world.andM;Nonetheless, our first impression of this VMS database is that it bears thedefinitive stamp of a software technology that was strongly inspired by theIBM mainframe environment.andM;FILE SPACE SCROOGEandM;Any database management system that lacks the ability to allocate additionalfile space dynamically will appear distinctly unforgiving, and even a bitDickensian, to longtime VAX/VMS mavens.andP;  So it is with Enterprise:DB.andO;Database administrators may find themselves unpleasantly reminded of pastinvolvements with IBM's Job Control Language.andM;Administrators must take care to allocate file space for every aspect of anew database.andP;  If insufficient file space has been allocated and more isneeded, the process under way will abort, leaving the unwary and perplexeddatabase administrator unable to restart until new, larger files areallocated.andM;This contrasts invidiously with such competing VAX products as Ingres fromRelational Technology or Informix from Informix Software, both of whichhandle file allocation dynamically and offer a much faster and friendlierroad to getting a database up and running.andM;Ingres first ran under Unix in scientific research contexts, and it stillsuffers from an unfriendly, unwieldy documentation set.andM;However, Ingres demonstrates notable ease of use when it comes to setting upa database.andP;  (See &quot;Ingres' Star Rises in the DBMS Firmament,&quot; Digital Review,April 20, 1987, page 43.)andM;Informix, although not quite as robust in its first VMS version as the moremature Ingres when we tested it (&quot;Informix-SQL Journeys out of Unix,&quot; DigitalReview, Dec. 7, 1987, page 77), also allows users to set up a databaseeasily.andM;Despite their origins in Unix--Itself not renowned for being userfriendly--neither of these database systems requires that an administratorspend days calculating file sizes, setting up logicals for every file in thesystem or reallocating space when faced with unexpected blowups.andM;We found building a database with Enterprise: DB quite reminiscent of JCLprogramming, something that those of us with previous IBM experience had noregrets about leaving far behind.andM;Yet despite its seemingly IBM view of information systems, Enterprise:DB doesnot suffer from an overreliance on batch processing.andP;  On the contrary, wefound that when it comes to loading bulk data into tables--a job that criesout for batch processing--users are restricted to interactive processing,which can effectively tie up a terminal for hours on end.andM;In practical terms, this all boils down to one crucial question for theprospective Enterprise: DB user: Is the performance it provides worth theeffort involved in getting it up and running?andM;MAPPING THE CIRCUITandM;In this first phase, we developed a database with Enterprise: DB and used itto benchmark the Enterprise:DB database management system.andP;  We used a MicroVAX II on which we were the sole users.andP;  The Micro VAX was running VMSversion 4.7 and was equipped with 9MB of memory and a CDC XMD II disk drivecoupled with an Emulex QD33 controller.andM;Initially, we followed Enterprise:DB's basic instructions for setting up andloading a database, without doing the additional calculations and creatingthe files necessary to optimize performance.andM;This meant first putting all our file types on the disk drive and performing&quot;quick and dirty&quot; calculations of table and index sizes instead of goingthrough the recommended meticulous calculations.andM;Following Cullinet's exhaustive instructions in the manual, and using as amodel the helpful SQL script that Cullinet used to create its tutorial Demodatabase (provided with the software), we created our Circ test database.andM;First, we provided for a single (default) tablespace to contain all tablesand indexes, to be created by default in Cullinet's own system tablespace.andO;(A tablespace is a logical grouping of the table and index files that make upa database.)andP;  Then we computed the size of journal files (at least one isrequired, and Cullinet recommends two), as well as data and index files.andM;One note of caution: While preliminary calculations are done in bytes,Enterprise: DB allocates file space solely in terms of pages, and these pagesare not always the same size.andP;  A journal page is 512 bytes (one VMS diskblock), while data and index pages are 4,096 bytes (eight VMS disk blocks).andM;As in all of our previous database management system reviews, DR Labs' testdata consisted of three tables derived from the 1986 list of 78,461 DigitalReview subscribers.andP;  To link the tables, a unique common field, thesubscriber's eight-byte account number (account_no), is included in eachtable as the primary key.andM;The table User consists of 15 columns containing such subscriber informationas subscriber name; company name, division and address; job title; jobfunction; industry code and phone number.andP;  It has three indexes: a primarykey on account number (account_no) and secondary keys on job title(job_title) and job functions (job_funct).andP;  Record size is 211 bytes.andM;The second table Sys, consists of 13 columns, with 12 containing dataspecifying the operating systems being run at the subscriber's site.andP;  Thetable has three indexes: a primary index on account number and secondaryindexes on VMS (vax_vms)) and Unix (unix).andP;  Record size is 20 bytes.andM;The third table, Mach, contains 76 columns specifying subscribers' hardware(both present and projected).andP;  Record size is 158 bytes.andP;  The table has threekeys, the primary key on account number and two subsidiary keys on currentCPU holdings of Micro VAXes (microvaxco) and VAX 8600s (vax_8600_co).andM;To interact with Enterprise: DB (submit queries or execute other SQLcommands), users enter SQL at the DCL prompt.andP;  After first creating andstarting a database, a table within it can be created from an SQL commandfile (generated from a text file) or from commands entered directly on thedialogue screen.andM;Given than one of DR Labs' tables had 76 fields, we felt more comfortableediting our SQL script in EVE and then running it as a command file from thedialogue screen.andM;Once we had created the tables and indexes, we needed to load the data, whichhad been dumped from our Ingres tables in the form of ASCII files with nodemarcation character between fields.andP;  To do so, we ran Enterprise:DB's LOADEXTERNAL command.andP;  Unfortunately, in the present release of the product, thisprocedure can be done only interactively from the dialogue screen and can tieup the user's terminal for hours.andM;While loading data from an external file into a database table, the user mustenter each field name, along with its starting position and its size inbytes.andP;  One false keystroke means the user must abort the entire process andbegin all over again--and mistakes are easy to make with a table of 76 fieldsthat often have similar field names.andM;DR Labs believes that most users would prefer to create databases and tables,as well as load tables, using batch processes instead of just by interactivemethods.andP;  Savvy database administrators--especially those in the largeMIS-dominated mainframe sites that are Enterprise:DB targets--are used torunning these processes in the background when using other database products.andM;Queries, however, can be submitted to the user's database eitherinteractively or in batch mode with Enterprise:DB.andM;In this first round of DR Labs' tests, we submitted our standard benchmarksuite of SQL queries interactively.andP;  (See table on page 38.)andP;  To do this, wefirst started our database, then at the SQL: prompt on Enterprise:DB'sdialogue screen we entered the query command followed by a semicolon (;) andhit andless;Returnandgt;.andM;Enterprise:DB users who wish to investigate their database's query-processingefficiency, but who do not have a second terminal handy to monitor the queryprocess using the DCL SHOW PROCESS command, can get the CPU time and numberof direct I/O operations and buffered I/O operations performed during thequery process quite easily.andP;  Simply by entering the command SET STATISTICS ONbefore submitting any queries on the dialogue screen, users will be given adisplay of CPU time, direct I/Os (DIOs) and buffered I/Os used to processeach query immediately after the results of that query are displayed.andP;  Inaddition, users can spawn out to DCL at any time by typing a dollar sign ($)in place of a query at the SQL: prompt.andM;Another nice feature of Enterprise:DB's dialogue screen is its Recallfeature.andP;  Like its VMS counterpart the command RECALL will display the lastcommand submitted, while RECALL ALL will display the last 20 commandssubmitted.andP;  Users can then submit the command RUN n--where n is a number from1 to 20--to rerun any of those recalled commands.andM;TUNING THE TEST DBMSandM;Our first pass at creating DR Labs' Circ database in Enterprise:DB had all ofCirc's tables in one tablespace, no logical names set up for its entities,and indexes that were not separated from the table data.andM;The performance of this database left something to be desired, so we set outto optimize it.andP;  This meant setting up a second database using the same datawhile strictly observing Cullinet's design requirements for optimizingperformance.andM;To optimize the performance of Circ, we took the following steps.andP;  (Thesesame steps can be used to tune the performance of any Enterprise:DBdatabase.)andM;First, because database processes are constantly accessing Enterprise:DB'sinternal system tables, each table in the user's database should be given itsown tablespace.andP;  By default, Enterprise:DB assigns all user tables andindexes to the system tablespace when they are created unless it isexplicitly instructed otherwise.andP;  Furthermore, because the tablespace is alogical entity, files assigned to it do not have to be in the samedirectory--or even on the same storage device.andM;Next, we defined VMS logical names for each of the entities--database rootfile, table data files and index and journal files--specifying the VMSdirectory pathway for each.andM;Continuing to optimize the Circ database, we calculated space requirementsfor the data and indexes of each table, following the directions found inChapter X of the System Administrator's Guide.andP;  Then we created two files foreach tablespace: one for the table's data and one to hold all the table'sindexes.andP;  (Each of our tables and three or four indexes.)andM;Once the files to hold data and indexes were created, we populated eachtablespace with a table file and corresponding index file.andM;Enterprise:DB's performance can be further improved by locating differenttypes of files on different disk volumes.andP;  Ideally, for optimum performance,a database should be spread across at least three disk volumes (Fig.andP;  1).andO;The first should contain the root file for a database and all its table data,the second should contain all of the index files, and the third shouldcontain the journal file(s).andM;This is how we set up DR Labs' optimized Circ database.andP;  All data files wereput on a CDC XMD II and all index files were put on a CDC Sabre.andP;  (EachSMD-E-class drive was connected to its own Emulex QD33 controller.)andP;  Thejournal files were put on a Micropolis ESDI disk drive controlled by anEmulex QD21.andM;Now we were ready to load the tables.andP;  Because the data would come from ourfirst Enterprise:DB version of the Circ database, we used Enterprise:DB'sUNLOAD INTERNAL command to dump the data in binary form.andP;  Then we invoked theLOAD INTERNAL command to load the data back into the tables of the optimizedCirc database.andM;Because the LOAD INTERNAL command gets a table in a binary form that isimmediately usable by Enterprise:DB, the process was much quicker and--moresignificantly--saved us from having to repeat the time-consumingfield-by-field entry of datafield names.andP;  After loading was completed, weupdated the statistics (number and size of records in each table) for ourdatabase.andM;Now we were ready to judge performance of Enterprise:DB.andP;  We made threecomparisons: the relative performance of the optimized vs.andP;  the unoptimizedversion of DR Labs' Circ database, the effect on overhead of runningEnterprise:DB with or without archiving enabled, and the performance of theCirc database under Enterprise:DB against similarly optimized databasesrunning under Ingres 5.0/05 (vax.vms/03) and Informix 2.10.01.andM;In our first phase of testing, we ran DR Labs' standard suite of SQLbenchmarks--single-table selects, set functions, multiple table equijoins andtable updates--interactively in single-user mode.andM;The effect of optimizing our Circ database was dramatic (Fig.andP;  2).andP;  Onaverage, most queries showed a 10 to 20 percent decrease in CPU time requiredto process them.andM;It was in the number of DIOs each query performed, however, that the timespent optimizing our database really paid off.andP;  Disk accesses were reduced by300 to 400 percent in the optimized database.andP;  This translated into real-timesavings of 50 percent on average, as queries were completed in half the time.andM;Surprisingly, archiving--which is critical to maintaining database integrityand thus is a must in OLTP applications--added a statistically negligibleamount of overhead to individual query processing times (Fig.andP;  3).andP;  Even onupdates that change a large number of rows, turning archiving off saved onlya fraction of the time needed to process queries.andP;  On the whole, archivingadded only 1 percent or 2 percent to the elapsed real time required toprocess a query.andM;Overall, in performance tests with Ingres and Informix, Cullinet'sEnterprise:DB was the clear winner (Fig.andP;  4).andP;  On most queries--whetherselects, set functions, joins or updates--Enterprise:DB required fewer CPUseconds to process the SQL command.andP;  In addition, Enterprise:DB oftenrequired fewer disk accesses, which are the dominant factor in the overallreal time required to complete a query.andM;Most important, our results show that table columns in an Enterprise:DBdatabase can be indexed for quick retrieval without incurring a great deal ofoverhead during an update.andP;  Updating 110 entries of the indexed vax_8600_cofield in the Mach table, Ingres 5.0/05 took 1,844 CPU seconds and 28,273DIOs.andP;  By comparison, Enterprise:DB took a mere 42 CPU seconds and 51 DIOs.andM;Enterprise:DB is the clear winner when it comes to performance.andP;  Furthermore,Cullinet gets high praise for the quality of the documentation that comeswith its database.andP;  The manuals are well-organized, well-written and haveexcellent reference sections and a useful tutorial.andP;  The documentation setsupplied with Enterprise:DB and Enterprise:Builder consists of fourwell-indexed, 7-by-9-inch D-ring binders with sturdy laminated tab pagesdemarcating each section.andM;Volumes include System Administration, a combined SQL user's guide (UsingSQL) and SQL Referece volume, an Enterprise:DB Generator volume and acombined Application Development Tools Reference and Precompiler Reference.andO;In addition, there is a handy, spiral-bound Quick Reference volume.andP;  Thefirst two volumes were essential to completing this first phase of ourevaluation.andM;Cullinet's tutorial includes a demostration database, provided with a fullSQL schema to create and index it as well as data to populate it.andP;  For userswho are not familiar with SQL, the demonstration database is easily installedfor performing practice queries.andP;  This database is also an excellent paradignfor creating and implementing a database of one's own design.andM;Technical support from Cullinet's Westwood, Mass., Communications Center isavailable to licensed users by calling a toll-free number.andP;  When called, thecenter's personnel log each problem and have an appropriate technical supportperson return the call to advise on a solution.andM;Although normal hours for technical support are Monday through Friday from8:30 a.m.andP;  to 8:30 p.m.andP;  EST, help is also available through an answeringservice on evenings, holidays and weekends for emergency production problems.andM;Telephone support is provided under warranty for the first 12 months, and isavailable for 15 percent to 50 percent of the software's list pricethereafter.andP;  The help we received from Cullinet Customer Support workersJackie Martin, software engineer, and Yung Nguyen, software consultant,during the setup phase of our reviewing process was prompt, knowledgeable andgladly given.andM;Other support services are bundled into the purchase of Enterprise:DBsoftware in the form of &quot;service units,&quot; with the number of units determinedby a customer's CPU and number of users.andP;  These can be spent on education (atCullinet headquarters or the customer's site) or on other support servicestailored to the customer's needs.andP;  These include database design reviews,application design reviews, product usage reviews, coding strategies andproject management.andM;Enterprise:DB is available for three ranges of VAX platforms: mainframes(&quot;corporate computers,&quot; as Cullinet phrases it), departmental (minicomputers)and personal computers (minicomputers).andP;  The software is sold in varyingconfigurations involving different mixes of the database core product(Enterprise:DB) and associated modules.andM;Cullinet licenses its Enterprise database products according to a rathercomplex price schedule.andP;  Perhaps the best way to illustrate this scheme is tooffer some typical prices.andM;For the category of CPUs that includes the VAX 8200, VAX-11/780, VAX-11/750and MicroVAX II (with unlimited users), the initial price of a developmentlicense to run Enterprise:DB, Enterprise:Builder and Enterprise:Generator is$70,000, with an additional $10,500 for annual support and $5,250 for annualupdates.andM;The initial price for just Enterprise:DB and Enterprise:Builder on the samerange of machines is $56,000, while for a product mix consisting of DB,Builder, Generator and Expert the initial license is $88,000, with similarappropriate additional charges for support and updates.andM;An &quot;execute-only&quot; license for this same range of machines is priced at$33,400 for DB, Builder and Generator (with $2,505 additional for updates);$39,600 for DB, Builder, Generator and Expert; and $13,000 for Generator andExpert alone.andM;For another range of CPUs that includes the VAX 8350, VAX-11/785 and MicroVAX3600 (with more than 20 users), a developer's license is $105,000 for DB,Builder and Generator; $84,000 for DB and Builder; and $129,000 for DB,Builder, Generator and Expert, with additional charges for support andupdates.andP;  A basic &quot;execute-only&quot; license for this CPU range is $49,800 forDB, Builder and Generator; $58,600 for DB, Builder, Generator and Expert; and$18,700 for Generator and Expert alone.andM;Other product mixes involving Enterprise:Expert and Knowledge Link are alsoavailable, as are volume and cluster prices.andM;When it comes down to the bottom line, Enterprise:DB is not cheap.andP;  Nor is ita database that can be set up quickly by casual or novice users.andP;  But thenthat's not what Enterprise:DB is supposed to be.andP;  In the right hands--thehands of a corporate MIS department--Cullinet's VAX/VMS database will providetop-level performance, the kind that will have users calling it a &quot;screamer.&quot;andO;</TEXT></DOC>