<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-326-074  </DOCNO><DOCID>07 326 074.andM;</DOCID><JOURNAL>Data Based Advisor  June 1989 v7 n6 p116(6)* Full Text COPYRIGHT Data Based Solutions 1989.andM;</JOURNAL><TITLE>The R:BASE Compiler. (includes a lexicon of compiler terms)(Software Review) (evaluation)</TITLE><AUTHOR>Watterson, Karen.andM;</AUTHOR><SUMMARY>Microrim Inc's $895 R:BASE Compiler for DOS allows developers tocreate executable files that can be run by users without R:BASE.andO;The compiler supports single or multiuser mode and can be run on anetwork.andP;  A Code View-like symbolic debugger and the ability tocreate User-Defined Functions in R:BASE, Microsoft C or MicrosoftAssembler are among the more useful features.andP;  Several R:BASEcommands are not supported and other receive only limited support.andO;The compiler tends to be less forgiving of R:BASE syntax errorsand the EXE files generated are enormous, but tangible performancegains on compiled applications are common.andP;  R:BASE Compilerrequires an IBM PC, XT, AT or PS-2 compatible with a floppy diskand a hard disk.andP;  The Software Maintenance Plan costs $145 peryear.andM;</SUMMARY><DESCRIPT>Company:   Microrim Inc. (products).andO;Product:   R:base Compiler (Compiler).andO;Topic:     CompilersEvaluation.andM;</DESCRIPT><TEXT>The R:BASE CompilerandM;The incentive for buying and using a compiler is simple: It enhancesperformance.andP;  Compilers generate executable (EXE) files that can run fromDOS.andP;  The program, R:BASE in this case, normally translates programs one lineat a time.andP;  With compiled applications, the program doesn't have to beinvolved and the compiled application will run faster than an uncompiledapplication.andM;The R:BASE Compiler for DOS lets a developer create executable files anddistribute them, at no charge, to users.andP;  The user doesn't need R:BASE to runthe compiled R:BASE applciation, nor does the developer need to distributethe application with a copy of R:BASE Runtime.andP;  No special license fees areinvolved, and developers can distribute multiple copies of compiledapplications.andP;  Plus, developers can compile an infinite number ofapplications.andM;The R:BASE Compiler supports applications written for either single ormultiuser mode and can be installed on a network.andP;  The licensing agreement,however, specifies that if the R:BASE Compiler itself is on a network, onlyone user should use it at a time.andM;A historyandM;Microrim began shipping R:BASE Compiler for DOS version 1.0 on Feb. 14, withmuch fanfare.andP;  According to David Hull, Microrim's President and CEO,pre-shipment orders exceeded $2 million, reflecting users' excitement (andneed) for the product.andP;  Developers had asked Microrim for an R:BASE compilerfor years and wee told that it wasn't feasible.andP;  Then a company named AIWareannounced and shipped R:Turbo (a compiler for R:BASE System V).andP;  The Microrimsoftware development team was forced to admit that, yes, an R:BASE compilerwas possible after all.andP;  Micro rim began negotiations with AIWare late in1987.andP;  The negotiations ended with the two parties signing a co-developmentagreement.andM;Richard Sheng, of Sheng Laboratories in Beaverton, Oregon, was the seniorprogrammer for the R:BASE Compiler.andP;  Dr. Sheng earned his PhD in computerscience from the University of Calif.andP;  at Berkeley in 1984 and wrote hisfirst compiler--for dBASE II--that year.andP;  Compilers for dBASE III (1985) andQuicksilver (1986) soon followed.andM;This review will examine how well the R:BASE Compiler works and answer thatage-old question: Should you spend your money on it?andM;InstallationandM;Installation is straightforward and bulletproof.andP;  After running the INSTALLprogram, all that's left is to set up a batch file with the appropriate PATHand environment statements.andP;  The PATH statement shouldn't allow access to theLINK.EXE, LINK.COM, or LLIBCE.LIB programs if they exist on your system.andP;  Youmay have a problem if you set a path to your DOS subdirectory or if you'veinstalled Microsoft C, giving a different version of the linker higherpriority on the path.andM;FeaturesandM;One of the most popular features of the R:BASE Compiler is its CodeView-like(the popular Microsoft programmer utility) symbolic debugger.andP;  The debuggerwill be used by R:BASE programmers more during application development thanduring compilation.andM;The compiler also allows developers to extend the R:BASE programming languageby creating new User-Defined Functions (UDFs) written in R:BASE, Microsoft C(version 5.0 or higher) or MASM (the Microsoft Assembler, version 4.0 orhigher).andP;  These functions let you use subroutines, procedures and functionsthat can accept parameters and return values.andM;Other advantages are:andM;* Applications can be compiled into overlays to reduce the amount of memoryrequired.andM;* Applications can call Microsoft C or MASM routines directly.andM;* It expands the EXIT command to allow DOS-level error trapping using theERRORLEVEL condition.andM;* It supports the LIM Expanded Memory Specification (EMS) and an 80287coprocessor.andM;* It supports parameter passing from batch files.andM;* It replaces the 10-condition and 10-level nesting limits on WHILE and IFstatements with 20.andP;  It supports a combination of 20 IF blocks and 20 WHILEblocks for a grand total of 40 open conditional levels.andM;* It removes the six level nesting limit on RUN commands.andP;   Microrim hassuccessfully nested 23 RUNs.andM;* It supports more than nine-item vertical menus.andM;* It supports variable forms (as implemented in R:BASE 5000) with limitedextensions.andM;LimitationsandM;R:BASE developers obviously want all R:base commands supported, as well asforms and report processing.andP;  They also want the compiler now, or better yet,yesterday.andP;  So, in the rush to get the product to market, the company chosenot to support the following commands: CODELOCK HELP RBDEFINE SET (withoutarguments) EXPRESS PLAYBACK RBEDIT FORMS PROMPT RECORD GATEWAY RBASE REPORTSSHOW (without arguments) INPUT TERMINAL INPUT KEYBOARD ZIP ROLLOUTandM;Many users are disappointed that mice and macro key definitions (RECORD)aren't supported.andP;  Support for the semi-undocumented pop-up windowmenus--used with the CHOOSE command--is also missing.andP;  Your level ofdisappointment will, of course, depend on how much you use these features inyour applications.andM;These R:BASE commands are supported with some limitations:andM;DEFINE--This must be followed by your database definition commands and theDEFINE block followed with an END.andM;LOAD--This must be followed by the values to be loaded and the END statementor used with the WITH PROMPTS clause.andM;SET--Character options must be specified with a special R:BASE Compilerenvironment format in the application, so the characters can be recognizedwhen the application is compiled.andM;andamp;var--The R:BASE Compiler doesn't interpret the ampersand variable until theapplication is executed.andP;  Likewise, the compiler must know what all of thecommand keywords are during compile.andP;  Therefore, ampersand variables can'tcontain keywords.andP;  However, they can be used to replace a list of WHEREclause conditions, a list of columns (as in a SORT BY), a file, and adatabase name or table name.andM;The R:BASE Compiler has other features that you may find limiting ordisappointing.andP;  For example, the EXE files generated tend to be large, as isthe case with most compiled programs.andP;  In fact, Microrim says that thesmallest EXE file they've generated is 250K.andM;The 5K sample application file becomes a 293K EXE file; a 13K file blossomedto 435K.andP;  Compiled EXE files are large because they include your applicationcode and code for translating every supported R:BASE command into machinelanguage.andM;The compiler is also less forgiving--as far as syntax goes--than R:BASE forDOS.andP;  R:BASE for DOS, for example, lets you define column, table, or variablenames that start with a number.andP;  The compiler doesn't.andP;  With R:BASE for DOS,you can sometimes get away without dotting a variable that should be dotted.andO;The compiler doesn't like that either.andP;  So, the best bet is to startdisciplining yourself to using the syntax laid out in the R:BASE CommandDictionary.andM;Slower?andM;Users have also discovered that, in some cases, the compiled applicationactually runs slower than the original.andP;  This is most likely to occur whenyou use a lot of relational commands or when the application requires lots ofdisk I/O.andP;  Why?andP;  When I asked Dr. Sheng, the developer, he went back to thegenesis of the R:BASE Compiler.andP;  Sheng and his team developed R:Turboindependently--without Microrim's help or knowledge.andP;  His team developedtheir own algorithms for key processing and handling complex relationaloperations.andP;  Sheng admitted that Microrim's current techniques are better,but retrofitting them to the compiler would have been too big a job.andM;The vast majority of compiled applications, however, yield tangibleperformance gains.andP;  Here are some specific examples: For a complex formaccess (EDIT USING), it took 21 seconds to get the form up with R:BASE, 19seconds with the compiled version.andP;  On the other hand, a fairly sophisticatedreport with two breakpoints took just over eight minutes using R:BASE andalmost 12 minutes running the compiled version.andM;The results from a benchmark application file that creates a database withtwo tables that together represent all data types and then performs variousactions on them are shown below.andP;  I ran the test on a 10MHz AT on a fairlyslow and full 20M hard disk.andM;Using the compilerandM;One of the great things about the R:BASE Compiler is how easy it is to use.andO;In fact, the first page of the manual tells you how to compile a sampleapplication that comes with the compiler.andP;  I strongly recommend taking anhour of your time to browse through the manual (it's only about 75 pageslong), because it's extremely well organized and contains plenty ofinformation, tips, and caveats.andM;Fig.andP;  1 shows the compiler screen in interactive mode.andP;  The sampleapplication (SAMPLE.APP) is compiled.andP;  The application includes a function(to return the number of blanks in a text string) defined in an R:BASEfunction block, a call to a C routine (that reports on the status of up tofour passed  parameters), and a random number generator UDP written in C.andO;Note the context-sensitive help in the lower window for tips on filling inthe blanks.andM;SAMPLE.APP is only 4,860 bytes long and took about a minute and a half tocompile and link on my 10MHz 286.andP;  During the process, your screen displaysan activity log as follows: (C) Copyright 1988 Microrim, Inc. All rightsreserved.andP;  R:BASE Compiler Version 1.0 Copyright - Microsoft Corporation,1983-1987 All rights reserved.andP;  Compiling SAMPLE.APP Microsoft (R) OverlayLinker Version 3.65 Copyright (C) Microsoft Corp 1983-1988.andP;  All rightsreserved.andP;  Object Modules [.OBJ]: /NOE /F /PAC /STACK:18500+ Object Modules[.OBJ]: /SEG:300 /E+ Object Modules [.OBJ]: SAMPLE+ Object Modules [.OBJ]:SAMP$0+ Object Modules [.OBJ]: CSAMP1.OBJ+ Object Modules [.OBJ]: CSAMP2.OBJ+Object Modules [.OBJ]: SAMP$2+ Object Modules [.OBJ]: D:\RCFILES\LIB\RCJUMP+Object Modules [.OBJ]: (D:\RCFILES\LIB\RCINITI)+ Object Modules [.OBJ]:(D:\RCFILES\LIB\RCRUN)+ Object Modules [.OBJ]: (D:\RCFILES\LIB\RCCMPC)8 RunFile [SAMPLE.EXE]: SAMPLES,, Libraries [.LIB]: D:\RCFILES\LIB\RCLIB1+Libraries [.LIB]: D:\RCFILES\LIB\RCLIB2+ Libraries [.LIB]:D:\RCFILES\LIB\RCLIB3; Temporary file .\In013577 has been created.andM;Assuming the absence of error messages, all you have to do at this point istype SAMPLE to run the application.andM;But what if you get an error message that points to a syntax or program logicproblem?andP;  Then you use the debugger.andM;Using the debuggerandM;Like Microsoft's CodeView debugger, Microrim's debugger supports line by linetracing, breakpoint execution, and source code and Call sequence display.andO;You can watch your application output on one screen while the debugger checksfor errors in the background, switching screens at will.andP;  You can also watchvariables change, or you can change them while the application runs.andP;  Thedebugger also provides access to database information via R:BASE commands,and lets you drop to DOS without leaving debug mode.andM;So what's the process?andP;  The first step is to compile the application withoutlinking it.andP;  You do this by accessing the compiler from DOS via the commandline interface: RC-D sample.appandM;By using the -D (debugger) switch, you're telling the compiler not to botherlinking, which saves time.andP;  Then you start the debugger with: RCD sampleandM;You'll see a screen like Fig.andP;  2 that displays the first 18 lines of theapplication's source code.andP;  At this point, you'll probably run the program byselecting Go or trace through the logic by pressing Enter The debugger has afew limitations and problems.andP;  It won't trace an R:BASE UDF when the UDF isused in a form or report, or in certain other circumstances; it won't debug Cor MASM UDFs; and it won't let you abort a report that calls a USF.andP;  Butother than these, it's a remarkably clean tool.andM;BugsandM;I don't imagine that any of today's oftware packages ship bug free--R:BASECompiler is no exception.andP;  To Microrim's credit, they mailed a letter to allpurchasers within a week of the initial release, warning of five potentialproblems and work-arounds.andP;  The problems were:andM;PACK--This converts all views to tables.andP;  The best solution is to replace thePACK with RELOAD.andP;  If this isn't possible, Microrim provides a work-aroundthat involves backing up the structure, removing the views, PACKing thedatabase, and RESTORing the view definitions.andP;  Curt Miller, Product Managerand Microrim's liaison to Sheng Labs, said this problem was fixed in a newrelease nfree to registered users) that is to be shipped soon.andM;ENTER--&quot;ENTER andless;formnameandgt; FROM andless;filespecandgt;&quot; doesn't work on a local drive ineither single or multiuser mode; subsequent loading overwrites data enteredfrom the file.andP;  The proposed work-around is to create extra copies of thetables into which the data should have gone by using a keyed WHERE clausewith the PROJECT command.andP;  This problem will also be fixed in the replacementdisk.andM;MULTI-TABLE FORMS--In a multi-table form, where you can edit a common columnin the primary table, but not in subsequent tables, any changes you make tothat column won't be reflected in the subsequent tables.andP;  To solve theproblem, one can either make the offending column editable or substitutevariables for column locations in the secondary tables.andM;PASSWORDS--The GRANT/REVOKE passwords are ignored during forms processing.andO;The solution is to create a form password.andM;ZIP--R:BASE Compiler doesnht give an error message if there's not enoughmemory to execute a ZIP.andP;  The solution is to use the -S option whencompiling, in order to reserve more space for the program that will becalled.andM;Some other problems, some of which the company said will be fixed inmid-April, include:andM;* Pressing Ctrl-Break or Ctrl-C in a compiled program hangs the system.andP;  Thisproblem has been fixed on the replacement disk.andM;* Report Footers don't always print properly.andP;  There are also some problemswith wrapping at page breaks.andP;  This problem has also been fixed.andM;* Executing a global RENAME COLUMN results in a fatal error.andM;* Entering data into a form that uses autonumbering in R:BASE for DOS afterRESTORing the database with the compiler will increment by five instead ofone.andM;* In a form, expressions using.*DATE and .*TIME may not re-evaluate properly.andM;* If you run a compiled application with a corrupted database with bad keysand do an EDIT USING, you may be returned to DOS with the message &quot;-FATALERROR- Disk problem.andP;  Check for a full disk.&quot;andP;  You can cause even more damageto a database that just has bad keys, if your compiled application does aLOAD WITH PROMPTS.andM;Again, Microrim has provided advice and work-arounds for each of theseproblems.andM;QuirksandM;In addition to the bugs, there are some differences between how applicationsrun under R:BASE for DOS and incompiled form.andP;  Most of these differences areinnocuous, but surprising.andP;  For example:andM;* In a multi-table form, a global delete will give you a message that it'sbeing done.andP;  You won't see that in R:BASE for DOS.andM;* When you use F2 to delete a record during an EDIT ALL command, the compiledversion of the program moves subsequent records to where the empty one was.andO;This doesnht happen in R:BASE.andM;* The compiled version doesnht add bogus empty rows when the last key pressedin a serelling region is Enter.andM;* In forms, recalculating computed columns is done immediately, not just whenyou access the form menu.andM;* Certain commands (SELECT and COUNT) allocate slightly different fieldlengths than R:BASE for DOS to display certain data types.andM;* Function key usage in multi-table forms nthe use of the F8 and F9 keys) isslightly different.andM;* In forms, when a standard look-up fails, the cursor is left at a differentposition than it is in R:BASE.andM;* Disk I/O is done in a region as each row is added, not just when the formmenu is accessed.andM;* TEXT and NOTE fields scroll somewhat differently in forms.andM;* If a rule is broken during data entry from a form, the user must access theform menu and select Edit to correct the problem.andM;* The R:BASE Compiler concatenates blanks differently than R:BASE for DOSwhen one of the items being concatenated with an andamp; has a blank or NULL value.andM;* The compiler doesn't limit you to nine vertical menu choices, but bases themaximum menu size on the total length of the menu items.andP;  So, you may be ableto get more than nine menu choices.andP;  On the other hand, nine verbose itemsmay not all fit.andP;  Horizontal menus can probably contain a maximum of about 35options, rather than the 40 R:BASE for DOS allows.andM;* Although variable forms are supported via the DRAW, ENTER VAR, and EDIT VARcommands, variable forms can't contain features borrowed from table forms; noexpressions, no customization other than clearing the screen before and afteruse, and no displaying the status line.andM;* What R:BASE for DOS calls an EDIT lock is called a REMOTE lock in compiledapplications during a LIST TABLE on a locked table.andM;Special multiuser issuesandM;Applications compiled with the compiler's default settings generally won'trun on a network, because there wonht be enough available memory.andP;  You'llneed to change the compiler memory allocation settings and use the Bothoverlay option (the default) to overlay your application.andP;  In most cases,you'll need to reduce the scratch space, the number of variables, and theamount of text space for variables.andP;  The idea is to optimize memory withinthe application as much as possible, then use the memory allocation optionsto reduce the memory set aside by the compiler.andP;  You donht want to set asidememory the application won't use.andP;  You may have to try several iterations ofan application to find the optimal combinations.andM;In a compiled application, if a user is using a form with edit-locks on oneor more tables and a second user tries to issue a command like, EDIT ALL,that also requires a table lock, the second user gets a &quot;Waiting in lockqueue for required resource, n% complete&quot; message.andP;  If the wait reaches 100percent before the first user releases the table, the second user receivesanother message: &quot;-ERROR- Edit aborted.andP;  Resource unavailable&quot; and theapplication continues on to the next command.andP;  In an R:BASE for DOSapplication, the second user has a chance to get back in the queue to tryagain.andM;SummaryandM;Should you buy R:BASE Compiler for DOS?andP;  In spite of the laundry list ofproblems I've outlined in this review, my answer is a tentative yes,especially if your situation could benefit from distributing royalty-free EXEfiles.andP;  Microrim wants this product to succeed and is going out of its way toget an upgrade to market quickly.andP;  Furthermore, the company has made a pointof being &quot;up front&quot; about known problems and providing work-arounds throughTech Support, the Microrim Exchange, and on their BBS.andP;  I suspect (and hope)that the next release will address the problems of 1.0.andM;More problematic, however, are Microrim's long-range plans for the compiler.andO;Microrim has announced a new version of R:BASE for DOS (3.0).andP;  According tothe company, if you don't use the enhancements of the new R:BASE, you'll beable to use the compiler.andP;  However, the company has also announced version3.1, the R:BASE that will act as a front end to Atlas, their server (see&quot;DataLine&quot; in the May 1989 issue).andP;  Will the compiler also be updated?andO;Microrim hasn't resolved that question.andP;  And what about the current compiler?andO;Will it be rewritten to solve performance problems?andP;  With the company'smassive development effort focusing on the Atlas project, that, too, remainsto be seen.andM;What you'll needandM;R:BASE Compiler users will need an IBM PC/XT/AT or PS/2 compatible witheither a 5.25 inch or 3.5 inch floppy drive, a hard disk with at least 2.3Mavailable space, and MS/PC-DOS 3.1 or higher.andP;  PS/2 machines require DOS 3.3or higher.andP;  Although the compiler specifications state that &quot;at least 456Kbytes of available memory&quot; is required, the debugger seems to require atleast 526K and for all practical purposes, you'll need 640K.andM;The retail price for R:BASE Compiler is $895, and the Software MaintenancePlan is available for $145 per year.andP;  R:BASE Compiler comes on six 5.25 inchor three 3.5 inch disks (you get them all), and excellent 75-page User'sManual, and a 16-page Question-and-Answer pamphlet with tips and last-minuteinformation.andM;Microrim, Inc. is located at 3925-159th Ave. NE, Redmond, Wash.andP;  98073-9722,phone (206) 885-2000 or (206) 883-3366 (order desk).andM;Karen Watterson is the Program Coordinator of Shoreline Community College'sBusiness Computer Program in Seattle.andP;  She is co-author with Alan Simpson of&quot;Understanding R:BASE&quot; (Sybex).andP;  You can contact the author at SCC, 16101Greenwood Ave. N., Seattle, Wash.andP;  98133 or via MCI mail (111-9390).andO;</TEXT></DOC>