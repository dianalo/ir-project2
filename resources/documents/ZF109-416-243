<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF109-416-243  </DOCNO><DOCID>09 416 243.andM;</DOCID><JOURNAL>PC-Computing  Sept 1990 v3 n9 p220(2)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1990.andM;</JOURNAL><TITLE>Prompt contest: your arty entry could win! (how to change systemprompt in DOS) (tutorial)</TITLE><AUTHOR>DeVoney, Chris.andM;</AUTHOR><SUMMARY>A guide to customizing the DOS interface by changing the systemprompt and enhancing the PROMPT command with ASCII characters andANSI screen commands is presented.andP;  The PROMPT and SET PROMPT =commands in DOS let users substitute ASCII commands for thestandard prompt via the ANSI.SYS driver.andP;  PROMPT defines thesystem prompt, sending commands to the ANSI.SYS device driver.andO;ANSI.SYS can position characters anywhere on the screen.andP;  Creatinga customized prompt involves building meta-strings and ANSIcommands which the user can then store in a batch file.andP;  A prizeis offered to the reader who designs the most creative promptusing the commands discussed.andM;</SUMMARY><DESCRIPT>Topic:     MicrocomputersSystems ProgrammingMS-DOSTutorialUser InterfaceCustomization.andO;Feature:   illustrationtable.andO;Caption:   Dossier: PROMPT and ANSI.SYS. (table)andM;</DESCRIPT><TEXT>Use PROMPT and ANSI.SYS to dress up your command line.andM;WHO SAYS THE DOS prompt has to be ugly? By enhancing DOS's PROMPT commandwith ASCII characters and ANSI screen commands you can turn the prompt into,well, if not a thing of beauty, at least a thing of fun.andM;Prompt design simply requires a little imagination, and since we think ourreaders are an imaginative bunch, we're sponsoring a contest to see which Ofyou comes up with the most creative prompt.andP;  Entries will be judged onoriginality and whatever most tickles our fancy.andP;  If we select your prompt asthe best, we'll give you a T-shirt emblazoned with your prompt.andP;  Send a diskwith a batch file containing the commands for your prompt to Prompt Contest,PC/Computing, Four Cambridge Center, Cambridge, Mass.andP;  01242.andM;Contest ToolsandM;To create your prompt use the tools provided by the prompt or SET PROMPT =commands and by the device driver ANSI.SYS.andP;  Dossier tells you how to useboth.andP;  Here's an example of what you can do.andP;  At the command line, enter thefollowing all on one line, substituting a blank space for each number signandM;(#):PROMPT $e[6C/$b$_###andM;\'o.0'$_###$q(_ _ _)andM;$q$_ ######$e[1;5;31mU$e[andM;0;37m$_ACK!#THPTPHH!#$pandM;The result is a prompt straight from Bloom County that looks like Figure 1[omitted] on the next page  with Bill the Cat's tongue blinking on and off).andM;Here's another, more complicated prompt especially for our readers in Texas.andO;Again enter the following lines all as one line, substituting a space foreach number sign:andM;PROMPT $e[0;44m###[solid full-size bar]andM;0m$_$e[44m#*#$e[41m[solid half-size bar]andM;$e[0m$_$e[31;44m###[solid full-size bar]andM;$e[0m#$n$gandM;To create the two [solid full-size bar] blocks, hold down your Alt key, enter219 on the keypad (do not use the numbers at the top of the keyboard) andrelease Alt.andP;  Repeat four times.andP;  To create the half-sized [solid half-sizebar] block, use the same procedure, but enter the number 223.andP;  For a list ofother handy ASCII characters, see Fast Facts, June 1989, page 263.) Theresult looks like Figure 2  [omitted] on the next page.andP;  How PROMPT andANSI.SYS Work PROMPT is the DOS command that defines your system's prompt.andO;Any characters that follow the command become part of the prompt.andP;  The $e andall the other characters preceded by $ are &quot;meta-strings&quot; used by the PROMPTcommand to generate other characters.andM;$e is the most powerful of the meta-strings because it sends commands to theANSI.SYS device driver, which can add color or move your prompt around thescreen.andP;  You must load ANSI.SYS into your CONFIG.SYS file with the commandDEVICE=ANSI.SYS (include the path to ANSI.SYS if it's not in your rootdirectory).andP;  For example, in the Bill the Cat prompt, the meta-string$e[1;5;31mU highlights the U character, turns it red on a color monitor andmakes it blink.andM;One of the most versatile features of ANSI.SYS is the ability to positioncharacters anywhere on the screen.andP;  For example, the command $e[6C in theBill the Cat prompt inserts six blank spaces between the PROMPT command andthe / character.andP;  After the first character, DOS reads all spaces normally.andM;The following prompt makes more elaborate use of the ANSI positioningcommands by placing the date and time on the first line of the display.andM;PROMPT  e[s$e[1;33;44m$e[1;53H$dandM;$e[1;69H$t$e[0m$h$h$h$h$h$h$e[25;1HandM;$e[1;31;40m$e[u$p$e[0;32;40m$gandM;The result looks like the top part of a screen as shown in Figure 3[omitted], to the right.andM;This  prompt uses $e[s to store the current position of the cursor.andP;  Next,ANSI.SYS colors the date and time and places these fields in row 1, column 53and row 1, column 69, respectively.andP;  Using $h six times inserts sixbackspaces and trims the seconds and hundredths of seconds from the displayedtime.andP;  $e[u restores the cursor to the position it was in when $e[s wasinvoked.andP;  The remaining commands color the current drive and directory andadd the andgt;.andM;Dossier lists the other special effects PROMPT and ANSI.SYS can create.andM;Clues and CaveatsandM;To make it easier to design your contest entry, create the meta-strings andANSI commands with a text editor and store them in a batch file--for example,TEXFLAG.BAT.andM;Because  PROMPT  and  SET PROMPT= are entered at the DOS command line, theentire line cannot be longer than 127 characters--the limit for any commandline.andM;Creating long prompts can produce other problems.andP;  If you enter a prompt andget the message &quot;Out of Environment Space,&quot; DOS may truncate your prompt.andP;  Toremedy the situation in DOS 3.2 and later, increase your environment space byadding the following all as one line to your CONFIG.SYS:andM;SHELL=C:\DOS\COMMAND.COMandM;C:\DOS /P /E:800andM;Be sure to include the second C:\DOS, or else DOS will set COMSPEC to\COMMAND.COM.andP;  This can create problems when you reload COMMAND.COM afterexiting an application.andM;The /E: switch is the size of the environment in bytes; for most situations,800 is sufficient.andP;  If you need more space, /E: can be any multiple of 16between 160 and 32,768.andP;  Chris DeVoney is a consultant and the author ofseveral books, including DOS Tips, Tricks, and Traps, published by the QueCorporation.andM;Dossier PROMPT and ANSI.SYSandM;Usage:andM;PROMPT Text or meta-strings orandM;SET PROMPT = Text or meta-stringsandM;ANSI.SYS must be included in CONFIG.SYS with the line:andM;DEVICE=[drive][path]ANSI.SYSandM;Important meta-strings:andM;$t  current timeandM;$d  current dateandM;$n  current driveandM;$p  current drive and pathandM;$_  (underline) moves cursor toandM;next lineandM;$b  |andM;$g  andgt;andM;$l  andless;andM;$h  backspaces one characterandM;$qandM;Positioning:andM;$e[rA     moves cursor up r rowsandM;$e[rB     moves cursor down r rowsandM;$e[cC     moves cursor right c columnsandM;$e[cD     moves cursor left c columnsandM;$e[r;cf   moves cursor to row r, column candM;$e[r;cH   also moves cursor to row r, column candM;$e[H      moves cursor to upper left cornerandM;$e[2J     clears screen and leaves cursor in upper left cornerandM;$e[K      erases current line from cursor to end of lineandM;$e[s      records cursor's current positionandM;$e[u      moves cursor to where it was when $e[s was issuedandM;Color strings:andM;$e[xx;xx;...mandM;where xx is a number that changesandM;the foreground or background colorandM;or the display attribute, such asandM;blinking.andP;  Semicolons separate eachandM;number and m ends the metastring.andM;Colors:andM;Foreground    Color        BackgroundandM;30            black        40andM;31            red          41andM;32            green        42andM;33            yellow       43andM;34            blue         44andM;35            magenta      45andM;36            cyan         46andM;37            white        47andM;Display attributes:andM;0  normalandM;1  highlightandM;4  underlineandM;5  blinkandM;7  inverse</TEXT></DOC>