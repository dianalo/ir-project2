<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF108-673-774  </DOCNO><DOCID>08 673 774.andM;</DOCID><JOURNAL>PC Magazine  August 1990 v9 n14 p447(3)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1990.andM;</JOURNAL><TITLE>Databases.andO;</TITLE><AUTHOR>Neuhaus, Trudy.andM;</AUTHOR><DESCRIPT/><TEXT>What's the difference between a flat-file and a multifile database? How can Idetermine which is better suited to a particular task?andM;Mark LindquistandM;Richmond, VirginiaandM;You are not the first to ask! I've received letters from many readers askingme the same questions.andP;  Sometimes it's valuable to explain a concept and totake a look at an example.andP;  Using Reflex, a recently selected Editor's Choiceflat-file database as our example, we'll do just that.andM;One way to look at a database is as a set of relations between data:one-to-one, one-to-many, and many-to-many relations.andP;  The kind of relationsyou need to track will determine the kind of database you require.andM;A flat-file database is best suited for one-to-one relations.andP;  Anaddress-book application containing names, addresses, and phone numbers is agood example.andP;  For every name there's one address and one phone number.andP;  Avideo store is a second example: for each tape, you could have the name ofthe movie, the location, running time, top three stars, and maybe a memofield with notes about the film.andM;You could use a flat-file database for one-to-many relations, but not withoutduplicating data.andP;  Let's suppose our video store wanted to record salesinstead.andP;  If you choose a flat-file database for this task, you'll wind upstoring a customer's name and address every time he purchases a tape.andP;  Forrepeat customers, this means the same data is stored over and over again.andM;Duplicating data has disadvantages.andP;  It not only wastes disk storage space,but if something changes (such as a customer's address), you must find andchange all the instances of that entry.andP;  In addition, it's very easy tocreate two different versions of one data entry: simply enter Joe Smith onone invoice and Joseph Smith on another invoice.andP;  You know it's the sameperson, but the program won't; Smith will be counted as two customers.andP;  Then,if you count your customers by counting all the unique names, the total willbe incorrect.andP;  In this case, data duplication defeats the purpose of keepinga database in the first place !andP;  The efficient way to represent one-to-manyrelations is using multifile  databases.andP;  In a multifile database, you haveone table containing data about  each customer: name, address, customernumber, and so on.andP;  Another table holds  the invoice information, including alinking field for the customer number.andP;  Using these types of databases, eachcustomer's address data appears only once.andP;  Note that each separate table isa flat file.andM;REFLEX 2.0andM;One of the more-versatile flat-file databases is Reflex, from BorlandInternational.andP;  This product has many advanced features more commonly foundin the feature-rich (read, more-expensive) multifile databases.andP;  Forinstance, some flat-file databases let you enter or edit data only in thedata-entry form and output a report.andP;  But Reflex also lets you view andanalyze this data in other ways.andP;  Reporting options include cross-tabulationand graphing; a large selection of @ functions let you perform complexcalculations; functions such as Compound Growth Rate, Future Value, andPresent Value let you perform financial calculations.andM;A big difference between multifile databases and Reflex is that multifilersoften have a &quot;language,&quot; which lets you store a series of commands in a fileand create reusable &quot;programs.&quot; Until recently multifile database languageshave been proprietary.andP;  But now a growing number of multifile databases arestandardizing on SQL (Structured Query Language), a data-manipulationlanguage.andP;  SQL assumes a multifile database; much of its power resides in theway it can relate different tables.andP;  Unfortunately, each implementation ofSQL is quite different.andP;  Reflex, on the other hand, has no language and nostored programs, and only sometimes does it have equivalents for somecommands from other languages.andP;  For example, in the R:base implementation ofSQL, the statementandM;PRINT DonorRpt WHERE ID IN (SELECT ID FROMandM;DONATIONS WHERE AMOUNT andgt; 1000)andM;prints a report that's linked to the main donor list.andP;  It selects records toprint, based on data drawn from the donations table.andP;  In this case, there isno Reflex equivalent since this operation spans two different databases (ortables).andM;The R:base commandandM;SELECT ALL FROM VIDEOS WHERE NOTES CONTAINS &quot;effects&quot;andM;selects all fields from the VIDEOS database where the NOTES field containsthe word &quot;effects&quot;.andP;  To perform this same function in Reflex, you would bringup Records/Filter and put &quot;..effects..&quot; in the NOTES field of the FilterConditions Table.andP;  Then choose Apply Filter and view the data in any way youplease.andM;Note that the R:base syntax is English-like, but it produces output thatscrolls away.andP;  The Reflex equivalent, on the other hand, lets you view, edit,print-and even graph-the results, without reselecting the data.andM;Here's another R:base command:andM;COMPUTE COUNT LNAME FROM MAILLIST WHERE LNAME EXISTSandM;The purpose of this command is to return the number of records that havesomething in the LNAME field.andP;  One way to do this in Reflex is to apply afilter by putting &quot; (a null string) in the LNAME field and then selectingOpposite of Conditions.andP;  Next, bring up the Crosstab View, hit F9, and choose@COUNT for the summary field.andP;  Press F9 in the next slot and pick any fieldto count.andP;  Bingo, you have a count.andP;  The nice thing is that if you want tobreak down this count by state, for example, you're already prepared.andP;  Justfill in State in the Row or Column slot.andP;  In askSam, the (arcane) statementandM;Smith {IN} LName[ {sortandM;FName[}{value}FName[ LName[andM;will list on-screen the first and last names of any records in which the lastname contains Smith, sorted by first name.andP;  Its Reflex equivalent is to applya filter with &quot;..Smith..&quot; in the LNAME field; next, sort on FNAME; and then,in the Mail Merge View, insert fields for FNAME and LNAME and view theresult.andP;  Otherwise, you can bring up the List View and look at the FNAME andLNAME fields.andP;  Paradox has a language, but for simple searching and queryingsuch as you can do in Reflex, you would just use Query By Example.andM;CREATING A DATABASEandM;Here are a few tips that will come in handy if you're just beginning to workwith Reflex.andP;  First, don't create any more fields than you have to.andP;  If yourbusiness has 40 products, don't create a field for each one.andP;  Rather, createa single field and simply call it PRODUCT.andM;To illustrate this, let's suppose you ignore this advice and create 40 fieldsfor 40 products.andP;  Then you decide to generate a report that reflects thetotal sales for each product.andP;  You'll quickly find that you have to eithercreate 40 separate reports, or create one report and modify it 40 times.andP;  Inaddition, assuming that each record references just one product, 39 fieldswill be wasted in each record, and you could accidentally fill in more thanone of them in a single record.andP;  With a single PRODUCT field, on the otherhand, you create one report, sorted by product, with a subtotal field thatprints once for each product type.andP;  When your product line expands, you'll beglad you did it this way.andM;Some flat-file databases will require you to go through contortions to changethe structure once there's data loaded.andP;  Reflex is unusual in that you don'thave to get it perfect on the first try.andP;  Using the Field Properties dialogbox, you can add, rename, or remove fields-even if you've already entereddata.andP;  Most multifile databases are sophisticated enough to allow this.andP;  InR:base, for example, you can use the EXPAND and REMOVE commands to add andremove fields, and the CHANGE command to change field TYPE.andM;You can use spaces to name fields, but there are certain words and charactersthat are not allowed.andP;  For example, you can't name a field &quot;Mutt And Jeff,&quot;because AND has a special meaning in Reflex formulas.andP;  But &quot;Mutt andamp; Jeff&quot; isfine.andM;You don't have to assign field TYPEs (for example, numeric, text, date) atthe outset; Reflex will assign these automatically when you start enteringinput.andP;  In addition, every text or memo field can contain up to the maximumnumber of characters, but you can set the number of characters to bedisplayed.andP;  You can also set the display format and justification in thesame.andM;ENTERING DATAandM;You can enter data using the Form View or the List View.andP;  Bring up the FormView and you'll find there's already a form here.andP;  Reflex creates a defaultform as soon as you build a database.andP;  If you wish, you can enter Form Designmode to clean up the form by adding a header and moving and resizing thefields.andP;  Reflex puts a label next to every field-the label is the same as thefield name.andP;  However, you can override this; just type another label.andM;Make use of floating formulas in Reflex 2.0: add them to a Form Design.andO;Floating formulas aren't saved to disk, but they are useful.andP;  Suppose youkeep a database of invoices, including when they were sent out and when theywere paid.andP;  You can put a floating formula in the form that prints the age ofan invoice only if it hasn't yet been paid.andP;  For example,andM;@IF( @ISNULL( PayDate), @FMT( @DAYSBTWN( InvDate,andM;@TODAY()), *)+' days old',  PAID')andM;In English, this statement says: If the PayDate field is empty, display thenumber of days between the invoice date and today's date followed by thewordsandM;day s o 1 d Otherwise display the word  PAID I .andM;Most databases let you put calculated fields into reports.andP;  Some also let youput calculated fields into the database (that is, they are Stored in thedatabase file) and show them in data entry forms.andP;  However, it's less commonfor a database to let you put calculated fields in forms without forcing youto store them in the database file on disk.andP;  The List View is often betentering numeric or tabular data.andP;  Bring up the view and adjust the columnwidths to your satisfaction.andP;  You may wish to move columns around: justDelete the old column, Insert a new column, and type the field name at thetop.andP;  Deleting a column affects only the View; it does nothing to thedatabase itself.andM;The &quot; key serves as a ditto mark.andP;  Press it to copy a particular field's datafrom the previous record to the current record.andP;  To add records to anexisting database with List, hit the End key or Shift-F8 to go to the end ofthe database.andP;  There, you'll find a blank line where you can start typing.andM;You can add calculated columns to the display.andP;  They don't affect the storeddatabase; they just show on the screen.andP;  For example, you might display acolumn that's the sum of three other columns.andM;DATA IMPORT/EXPORTandM;A database that can import and export data has definite advantages.andP;  It givesyou the flexibility to move from a flat-file to a multifile database.andP;  Youalso have access to files from other database systems.andP;  Reflex translatesReflex 1.x, Quattro, PFS:File, dBASE (II, III, and IV), .DIF, Lotus 1-2-3,Symphony, Paradox, and ASCII-delimited files.andP;  If the program you want toexport to isn't listed, try exporting to an ASCII file that your otherprogram will read.andP;  Reflex lets you control how the ASCII file is created: itcan be a fixed-format file, in which a field is always found in the samelocation in each line; or it can be a delimited file, in which user-specifiedcharacters separate the fields.andP;  For instance,andM;Smith,Adam,100andM;is a file in which the fields are delimited by commas.andM;As you export a file, you can specify which fields to send out and add newfields calculated from the existing ones.andM;Once you arrange an import or export specification so that it works exactlyright, you can save it for later use.andP;  This way, for example, if you export asummary of each week's data for import into another program, you can reusethe same specification.andM;Import will Create a database.andP;  If you tweak the result to match thestructure of an existing database, you can then Append an imported databaseto an existing one.andM;DATA ENTRY VIA FORMULASandM;Alt-F9 brings up a menu of Reflex's @functions.andP;  Combined with the F9 key tobring up a list of fields, it's easy to enter complicated formulas withoutmaking typographical errors.andP;  To do this, bring up the Field Propertieswindow and enter a formula for a particular field.andP;  The effect of this willdepend on which of the following storage options you choose: you can put avalue into all records that don't already have a local value; put a valueinto all records, replacing the local value; or remove the field from beingStored in the database and just calculate it on demand.andM;Actually, the best way to enter data using a formula is to take a fieldthat's defined by a formula and convert all of the results into local values.andO;As an example, let's have Reflex create a deck of cards and shuffle it.andO;Create a new database with just one field, CARD.andP;  Bring up Field Propertiesand make CARD an Integer.andP;  Bring up Records/Generate Records, put CARD in theField slot, check the Range box, fill in &quot;From 0 to 51 by 1,&quot; and selectProceed.andP;  Choose Field Properties again.andP;  Create a field called RANDOM,select Numeric for the field TYPE, and enter @RAND().andP;  Then create a textfield SUIT and enterandM;@CHOOSE(@INT(Card/13)+1, 'Clubs', 'Hearts',andM;'Spades', 'Diamonds')andM;In English, this formula means: divide the Card number by 13, throw away theremainder, and add 1.andP;  This gives a number from I to 4.andP;  Then from the listof four values, choose the first, second, third, or fourth, depending on thenumber.andM;Next, create a text field called RANK and enter the formulaandM;@IF( @MOD(Card, 13) andless; 8, @CHAR( @MOD(card, 13)+50,andM;@CHOOSE( @MOD(card, 13)-7, 'T', 'J', 'Q', 'K', 'A'))andM;If the remainder is less than 8 when the Card number is divided by 13, inserta number 2 greater than that remainder.andP;  Otherwise, insert the correspondingletter.andM;Bring up the List View and delete the columns for CARD and RANDOM.andP;  (To dothis, select Shift-F3 to highlight columss, move to the column, and delete).andO;Note that this does not delete them from the database, merely from the view.andM;Finally, choose Records, Sort, and sort on the RANDOM field.andP;  Each time youwant to shuffle again, bring up Records/Update, choose to Update the RANDOMfield, and choose Formula.andP;  The existing formula will appear.andP;  Then selectProceed, the program will sort on RANDOM again.andM;A TESTandM;The bottom line, of course, is this: can the database you have in mind handlethe job you need done? To decide, take this test: Can you detail your data intabular form, with each row corresponding to a record and each columncorresponding to a field? If the answer is yes, you can use a flat-filedatabase.andP;  And there are quite a few besides Reflex.andP;  Our June 26, 1990,issue also reviewed PC-File, Professional File, Qandamp;A, Reflex, RapidFile, andSuperbase 2.andP;  Go back and take a look.andM;LET US HEAR FROM YOUandM;Share your database experience, tips, and techniques, and we'll pay you $50for anything we print.andP;  Submissions must be made on-disk, and be sure toinclude a printout.andP;  Mail them to Databases, PC Magazine, One Park Avenue,New York, NY 10016, or upload them to PC MagNet (see the &quot;By Modem&quot; sidebarin the Utilities column for instructions).andM;Research for this article was provided by Neil J. Rubenking, a contributingeditor of PC Magazine.andO;</TEXT></DOC>