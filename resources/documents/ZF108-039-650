<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF108-039-650  </DOCNO><DOCID>08 039 650.andM;</DOCID><JOURNAL>Communications of the ACM  Jan 1990 v33 n1 p20(9)* Full Text COPYRIGHT Association for Computing Machinery 1990.andM;</JOURNAL><TITLE>Bounding delay on a multifarious token ring network. (designissues in implementing document retrieval system on token-ringLAN) (technical)</TITLE><AUTHOR>Gaitonde, S.S.; Jacobson, D.W.; Pohm, A.V.andM;</AUTHOR><SUMMARY>Issues in designing a document-retrieval system for facsimiletransmissions on token-ring networks are discussed.andP;  Facsimileretrieval is part of an overall approach that integrates voice anddata transmissions on LANs.andP;  The token ring protocol providesordered access to networks via priority service and has favorablewiring, performance, and cost attributes.andP;  Components of adocument-retrieval system include the information base, terminals,and data search algorithms.andP;  First packet delay and late packetpolicy are the basic characteristics distinguishing playoutstrategies from each other.andP;  The Modified Three Priority Protocolprovides superior performance despite extra delay for video anddata traffic.andM;</SUMMARY><DESCRIPT>Topic:     Local Area NetworksToken Ring NetworksDocument Management SystemsIntegrated Voice-Data.andO;Feature:   illustrationtablechart.andO;Caption:   Traffic characteristics. (table)Brady's voice model. (chart)A typical terminal. (chart)andM;</DESCRIPT><NOTE>Only Text is presented here; see printed issues for graphics.andO;</NOTE><TEXT>Bounding Delay on a Multifarious Token Ring Network The interest in localarea network (LANs) is primarily motivated by two reasons.andP;  The first is toconnect together a collection of computers, terminals, and peripheralslocated in the same or in adjacent buildings, allowing them to communicatewith each other and remote hosts.andP;  The other reason is to exploit theadvantages of functionally distributed computing.andP;  Specifically, some of themachines are dedicated to perform specific functions, such as file storageand database management, thus making implementation simpler, and probablymore efficient.andM;The motivations for considering integrated voice and data traffic in a sharednetwork environment include: the advent of new voice related applicationswith the technology now existing to support them, and the desire to plan forand design future integrated networks for reasons of economy and flexibility[8].andM;Extensive research has been done on integrating voice and data (bothinteractive and bulk).andP;  Data transfers that require a small delay arereferred to as interactive and data transfers that do not require a smalldelay are referred to as bulk data.andM;The focus of this article is on transmitting text images (facsimile) alongwith voice and data on a token ring local network.andP;  The first sectioncompares the three traffic types and reviews the current research in thearea.andP;  The components of a document retrieval system are described in thenext section.andP;  The following sections discuss the protocol design problemsand the simulated protocols and the results.andM;Traffic CharacteristicsandM;Table I compares voice, data and facsimilar traffics.andP;  The nature of the datatraffic is self-explanatory from the table and the facsimile traffic (a termused synonymously for document traffic in this exposition) will be discussedlater in more detail.andP;  Voice traffic, however, needs further clarification.andO;Voice was considered for a long time as a source of continuous or streamtraffic.andP;  Hence, only the circuit switching method, which provided guaranteedchannel bandwidth was considered suitable for supporting voice.andP;  Brady'sexperiments [1], however, indicated that voice is not a continuous trafficsource but, in fact, is made of alternating talkspurts and silence periods.andO;Brady went on to show further that these talkspurts and silence periods areapproximately exponentially distributed with means 1.34 secs and 1.67 secsrespectively.andP;  Figure 1 illustrates this phenomenon and we have used thisobservation in the simulations.andM;LAN ProtocolsandM;The three major LAN protocols--CSMA/CD, Token Ring, Token Bus--wereconsidered for voice/data integration.andM;Carrier-sense multiple access with collision detection (CSMA/CD) may beviewed as a &quot;listen before talk protocol.&quot;andP;  Each station will listen to thenetwork before transmitting a packet.andP;  If the network is busy the stationwill wait until the network is free.andP;  If two or more stations try to transmitat the same time, a collision will be detected by each transmitting station.andO;A transmitting station that detects a collision will wait a random timeinterval before attempting to retransmit the packet.andP;  The CSMA/CD accessprotocol is non-deterministic and requires modification to provide theintegrated services.andP;  The CSMA/CD protocol does not provide for priorityaccess methods.andM;The token bus uses a special packet called a token to provide access to thenetwork.andP;  The token is passed from station to station in a logical order.andO;This logical ring remains constant and the token passing order cannot bechanged.andP;  When a station receives the token it may transmit until there is nomore data or until a token hold timer has expired.andP;  The station then passesthe token to its logical neighbor.andP;  The only priority method in the token busaccess method is internal to astation.andP;  A station has a queue for eachpriority level and will drain the higher priority queues first.andP;  There is noway to receive the token for high priority traffic use.andM;The token ring protocol uses a special packet called a token that circulatesaround the ring to grant the right of access.andP;  The station that receives afree token may transmit a packet by marking the token as used and appendingthe data at the end of the token.andP;  When the station is done transmitting thetoken is changed from a busy token into a free token and the next stationwith data can transmit.andP;  The station gives up the token when either thestation has no more data or the station has held the token for apredetermined length of time.andM;The token ring provides a priority service where a station can reserve thebusy or free token by setting its priority and only stations of a higherpriority can use the token.andP;  If the station reserving the token receives afree token with the access priority equal to the station's priority, then thestation may transmit its data.andP;  This priority method can alter the logicalrotation of the token.andP;  The token ring protocol provides an ordered access tothe network.andM;Current Voice Data ProtocolsandM;This section provides an overview of current research in synchronousprotocols which may be defined as those protocols which address therequirement of delivering data within a predetermined delay.andP;  (It should benoted here that the requirement is not to deliver data in the shortest time.)andM;Since the channel access delay is not guaranteed to be bounded in CSMA/CDnetworks, it is generally difficult to transmit voice in these networkswithout either modifying its basic operation or developing complex algorithmsfor handling voice.andP;  Three different protocols for voice/data on a CSMA/CDnetwork are as follows:andM;1.andP;  The CSMA/CD channel capture protocol has been developed for a local areanetwork with a unidirectional global bus architecture, in which a reaystation captures the bus for one packet time only if no other upstreamstations transmit along the it [19].andP;  This protocol has a dynamic prioritystructure in which each station priority changes according to the state ofthe system.andP;  The protocol ensures fairness.andM;2.andP;  A multivariate voice coding protocol is used to control traffic intensityon the network [5].andP;  By decreasing the voice coding rate for short periods oftime (and thus compromising the voice quality) when the network trafficincreases, network delay is reduced.andP;  In this scheme the premis is that shortterm voice quality can be traded for increased throughput on a CSMA/CDnetwork.andP;  With some added feedback circuitry this scheme seems to performbetter than the standard CSMA/CD.andM;3.andP;  A movable boundary protocol introduces a movable voice-data boundary toframe TDMA/CSMA and eliminates the requirement of system wide synchronizedclocks [18].andP;  The movable boundary has a major advantage in any system wherefluctuations in voice and data loads are expected because assignment of theidle capacity from one class to the other increases the utilization of thechannel.andM;We ruled out CSMA/CD as a voice data protol for the following reasons:andM;* CSMA/CD performance degrades rapidly at high utilizations [12].andM;* Channel access delay is not guaranteed to be bounded in CSMA/CD.andP;  Thismeans that real time delivery of voice packets becomes probabilistic, thusmaking CMSA/CD not suitable for voice transmission.andM;* CSMA/CD may be used for voice transmission, provided the basic CSMA/CDoperation is altered [14, 18].andP;  This approach may either be expensive orinfeasible.andM;* CSMA/CD may be used for voice transmission by a very complex algorithm forhandling voice [18, 20].andP;  This, again, does not seem to be a feasible ideaespecially since an alternative, the token passing protocol, is available.andM;Token bus protocol seems to be less popular for voice data integrationcompared to the token ring, probably because of its large token-passingoverhead.andP;  We had not come across a single token bus protocol with voice/dataintegration.andP;  One scheme, however, seems to have the potential for adoptingtoken bus protocol for voice/data integration.andM;Chauhan [4] described a twin-cycle protocol that is used to overcome thewell-known disadvantage of channel bandwidth waste in a lightly loadedstandard token-passing ring or bus network.andP;  It is possible to make use ofthe broadcast mechanism in token bus systems to distribute readily theup-to-date information about the state of individual stations to the entiresystem.andP;  This scheme involves the determination of a randomly varying set ofmore active stations.andP;  The stations are given a chance to form a secondlogical ring that characterizes the token bus.andP;  The transmission cycle of thesystem can thus be made to alternate between standard and improved cycles,termed as passive and active cycles, respectively.andP;  The system is shown to bemore stable than the standard token bus protocol.andM;Logically the token bus and token ring protocol are identical.andP;  Theimplementation and standardization, however, set them apart and, thus,dictate usefulness in a given situation.andP;  Since, sticking to the standards asclosely as possible is one of the primary goals of this research, thesedifferences are significant and a case can be made against the token bus.andO;The differences between the bus and ring are as follows:andM;* There is no direct way to reserve the token globally, on a token bus.andP;  Thismeans that a station may have high priority data waiting to be transmittedwhile all other stations that receive tokens before it may transmit lowerpriority data.andP;  A clever selection of timer values may improve theperformance of the high priority data but it is still marginal.andP;  The tokenring priority reservation scheme eliminates this problem, since a token canbe hurried through the network to serve high priority data.andM;* The token passing time is much higher in a token bus.andP;  This deterioratesits performance at high utilizations.andP;  A document retrieval system isexpected to cause high utilization of the channel bandwidth and hence tokenring prevails over token bus.andM;Token passing protocols have always seemed attractive for voice-dataintegration because of their bounded delay property.andP;  Three current methodsfor voice-data integration are as follows.andM;1.andP;  Voice and data may be integrated on a ring using distributed control.andP;  Inorder to enforce synchronous communication for voice packets, these packetsshould be transmitted at the same rate that they are formed by the encoder.andO;An example of a ring with distributed control is described in [9, 10].andP;  Thisprotocol defines a window of h seconds such that if the packet is expected tobe transmitted at time [t.sub.0] then if the token arrives at any instant t,the packet will be transmitted only if [t.sub.0] [is less than or equal to] t[is less than or equal to] [t.sub.0] + h.andP;  If the token arrives outside ofthis interval, the packet is discarded.andP;  Thus, the success of this protocoldepends on the value of h.andM;Two schemes were proposed in [10]: Fixed Transmission Scheme (FTS) andSliding Transmission Scheme (STS).andP;  The former scheme has fixed intervalpositions with respect to the initial packet transmission, while the latterpositions its intervals according to the previous transmission.andP;  This schemeseems to work better than using the standard token ring for voicetransmission.andM;2.andP;  Voice data integration may also be achieved using centralized control.andO;Stations are divided into two categories, voice and data [21].andP;  The networkhas a special station called a supervisor.andP;  This station looks after voicecall management, that is, granting and denying call requests and setting upand tearing down of calls.andP;  At regular time instances, the supervisorattempts to seize the circulating token.andP;  If the token is free, thesupervisor issues a priority token to be used by the voice stations.andM;Each token in talkspurt gets a chance to transmit one packet as the prioritytoken goes around the ring.andP;  After all the voice stations have had theirturn, the supervisor removes the priority token from the ring and issues anormal token.andP;  If the token is busy (when the supervisor attempts to grabit), that is, data transmission is in progress, the supervisor must waituntil the data transmission is complete before can issue the priority token.andO;The IBM token ring voice data integration is based on this idea.andM;3.andP;  Another approach to integrating voice and data on the token ring is theuse of dual rings.andP;  Welnet [13] is an example of this approach.andP;  Thismodification of the standard token ring is worth mentioning for its expensiveimplementation.andP;  Welnet is a high speed local area network with a pair ofunidirectional communication channels.andP;  While individual stations controltheir own access to the medium, global scheduling of the medium for varioustypes of traffic is controlled centrally.andP;  The central station issues threetypes of token: [C.sub.0], [C.sub.1], and [C.sub.2].andP;  [C.sub.0] is the nulltoken which is used at the beginning of every new service cycle.andP;  [C.sub.1]is the voice token, and only voice stations may transmit upon receiving it.andO;[C.sub.2] is the data token used by data stations only.andP;  The null token isused to preempt stations from using [C.sub.1] or [C.sub.2].andM;Token-ring principle was considered for LANs because of its favorableattributes regarding wiring, transmission technology, performance and thepotential for low cost implementation.andP;  Its problem, namely reliability, canbe overcome by appropriate wiring and suitable access protocols [3].andP;  Theprotocol is described in [11].andM;COMPONENTS OF AandM;DOCUMENT RETRIEVAL SYSTEMandM;The advent of optical storage devices has accelerated the use of imagearchives for storing documents [17].andP;  The technological development inproducing high speed monitors has also increased the feasibility ofimplementing online document retrieval systems.andP;  In a research environment,availability of a document retrieval system is always an asset.andP;  A typicaldocument retrieval system to serve a university campus environment isexpected to have the following basic characteristics [6].andP;  It should providethe following:andM;* Economical service to a major campus service.andM;* Quality user interface.andM;* Access to a wide variety of and a large volume of information.andM;* Easy system upgrades.andM;Also desirable are auxiliary characteristics, such as privacy of users anduser ability to update stored information.andM;The focus of this research is only on achieving the basic characteristicsoptimally.andP;  Specifically, we have concerned ourselves with only transmittingfacsimile on an underlying network (token ring) as economically and as fastas possible from a large information base with the ease of upgrading in mind.andO;In th e course of the design the following assumptions were made.andM;The Information BaseandM;The information base (also referred to as library) consists of electronicallystored bit-mapped images in digital format.andP;  A typical page (such as the onesin magazines and journals) looks like a CCITT test document type 4, whichtakes approximately 50 Kbytes of memory [22] however, this document can becompressed further.andP;  We have conservatively assumed the size to be 50 Kbytesper page.andM;Terminal RequirementsandM;A typical terminal is depicted in Figure 2 [16].andP;  Thus.andP;  a terminal consistsof a coder (coder-decoder), a CRT screen, a computer similar to a personalcomputer and possibly a printer.andM;The Data SearchandM;The information base is assumed to have efficient search algorithms, and asuitable memory architecture.andP;  Thus, the information base is able to handleall the requests submitted to it simultaneously, either by getting therequired pages or by negating the request.andP;  The simulations, however, assumethat all requests are answered positively.andM;The ConcentratorsandM;There would be 10 concentrators planned for a typical campus.andP;  Theseconcentrators are directly hooked up to the network.andP;  Each concentratorserves 15 terminals.andP;  Figure 3 shows the schematic for a typicalconcentrator.andM;User CapacityandM;About 5000 users use the library system per workingandM;day.andP;  A working day consists of 16 hours.andP;   Each user hasandM;two sessions per day, i.e., a typical user goes to library twice a day.andM;User ModesandM;A user session consists of two modes: Browsing and Reading.andP;  In the browsingmode the user simply skims through facsimile pages (text, figures or both)and requests for more pages until he finds a page he wants to read.andP;  Oncesuch a page is found he can either read it on the screen on his terminal orprint a hard copy on a local printer.andP;  Obviously, in the browsing mode therequest rate is higher than the reading mode.andP;  It is assumed that a user isin browsing mode 2/3 of the session time and in reading mode 1/3 of thesession time.andP;  A user browses 30 pages per minute and reads 1 page every twominutes, both modes being exponentially distributed.andM;With these explicit assumptions and facts about the document retrievalsystem, the following criteria are established.andP;  The main performancecriteria are: 1) low end-to-end page request delay for document retrieval;and 2) low adverse effect on other types of traffic, especially voice.andM;Low End-to-End Page Request DelayandM;The end-to-end page request delay is defined as the time interval betweenwhen a page request is generated at the concentrator, and the time at whichthe requested page is obtained by the user.andP;  A total page request delay of 5seconds is deemed reasonable.andP;  The four factors that contributed to thisdelay are [16]: Channel speed; queuing delay at the concentrator and at theinformation base; codec speed; information base access time.andM;The channel speed probably contributes the least to the page request delay.andO;For example, a page consisting of 50 Kbytes of data takes 100 ms to betransmitted on a 4 Mbits/sec network.andP;  This factor is not under the protocoldesigner's control once the network speed is fixed.andM;The queuing delay depends on the traffic on the network and the prioritystructure.andP;  The page request delay could be minimized by assigning the pagepackets the highest priority.andP;  This, however, jeopardizes the performance ofother traffic types.andP;  The focus here is on reducing this delay to a minimum,while satisfying the requirements of the traffic types.andM;Since all the pages transmitted on the network are coded, a decodingalgorithm is necessary at the user terminal.andP;  It is assumeD, as shown inOgawa [16], that 1 second is required to execute such a decoding algorithmandM;Two feasible technological alternatives for the information base storage arethe optical memory and the high speed magnetic memory.andP;  In either case thefollowing assumption holds good.andP;  If a page is divided into 5 packets of size10 Kbytes each then the first packet requires 100 ms to be queued to betransmitted, each of the remaining packets take 25 ms more than the previouspacket to appear in the queue.andP;  Thefore, a page takes 200 ms to appear in thequeue.andM;The real time bounds posed by voice traffic restrict the protocol designerimplementing a document retrieval system on a network.andP;  In essence, theproblem reduces to an optimization problem.andM;Based on the above assumptions, the page request rate per concentrator may becalculated as follows:andM;[N.sub.u] = Total number of users = 5000 [S.sub.u] = Number of sessions peruser per day = 2 [N.sub.h] = Number of hours per day = 16 [N.sub.c] = Numterof concentrators = 10 [T.sub.sh] = Number of sessions per minute [T.sub.sc] =Number of sessions per concentrator per minuteandM;Therefore, [T.sub.sh] = [N.sub.u] x [S.sub.u]/[N.sub.h] x 60 (= 10.42) (1)andM;[T.sub.sc] = [T.sub.sh]/[N.sub.c] (= 1.042) (2)andM;Also, one session generates, on an average, 20.17 pages per minute (= 30 x2/3 + 1/2 x 1/3).andP;  This calculation is used in the simulation.andM;THE PROTOCOL DESIGNandM;This section deals with various constraints faced by the network and theireffect on the design of a suitable protocol.andP;  To optimize the parameters ofinterest the following entities may be controlled by a protocol engineer: Theplayout strategy, packet sizeS, and the priority mechanism.andM;The Playout StrategyandM;Montgomery [15] discussed the issues regarding the synchronization ofpacketized voice.andP;  Figure 4 illustrates the sender's and the receiver's viewof the generated voice packets.andP;  As is evident from the figure, the voicepackets must be played out at the same rate they are generated, in order tohave intelligible conversation.andP;  However, this task is complicated by thestochastic delay suffered by each packet being different.andP;  Thus, the voicepackets in a packet network naturally arrive at the receiver, out ofsynchronization.andP;  Therefore, much thought is given to the selection of aplayout strategy that would circumvent the above problem.andP;  Two basiccharacteristics of the playout strategies distinguish them from each other.andO;They are: First packet delay and late packet policy.andM;First Packet DelayandM;Since the stochastic delay suffered by the packets makes it impossible forthe receiver to know the exact time at which the packet was generated at thesender, a delay estimation method is adopted by the receiver.andP;  The delayexperienced by the packet compromises two components, fixed delay [D.sub.F]and variable delay [D.sub.v].andP;  The fixed component consists of thepropagation delay, the transmission delay, and the buffering delays.andP;  Thevariable delay is caused by the queuing delay at the sender.andP;  In a local areanetwork scenario, the fixed delay, as the name suggests, is deterministic fora given conversation.andP;  Also, it is the same for all packets and the packetsnever arrive out of order.andP;  (This is not the case for long haul networks.andO;The route taken by each packet may be different, thus the delay associatedwith each packet may be different.andP;  Therefore, there is a possibility of thepackets arriving out of order.)andM;The variable delay, namely the queuing delay, depends on various factors suchas the medium access protocol and the priority structure.andP;  The delayestimation methods are employed to estimate the time at which the firstpacket in a talkspurt received by the receiver is generated.andP;  With thisestimation, a target playout time is set for the first packet in a talkspurt.andO;The ensuing packets, in the same talkspurt are then scheduled to be playedregularly after intervals of (1/mu), where [mu] is the rate at which thepackets are generated.andP;  Montgomery [15], enlisted four methods that may beemployed for delay estimation.andP;  The methods suitable in the context of LANsare:andM;The blind delay method: Receiver makes the worst cast assumption about thedelay encountered by a packet, to increase the effectiveness of this method.andM;The absolute timing method: Synchronized clocks are maintained at the senderand the receiver and time stamps are used to determine the packet generationtime explicitly.andM;We favor the blind delay method because of its simplicity and due to the factthat it avoids the huge clock synchronzation problem that arises in theabsolute timing method.andP;  The blind delay method assumes that the first packetsuffered the minimal delay through the network, i.e., only the fixed delay([D.sub.F]) and it also assumes that the other packets suffered significnaltymore delays.andP;  Therefore, it plays the first packet max [D.sub.V] time unitsafter it arrives and schedules the following packets at regular intervals of(1/[mu]) time units.andP;  The packets that suffer more delay than anticipated bythis method are considered late.andM;Late Packet PolicyandM;In [7] Gopal et al.andP;  analyzed two playout strategies for voice transmission.andO;Both policies employ the blind delay method and leave it to the receiver todecide what to do with a late packet.andP;  The first strategy considers a latepacket lost and the receiver does not play out anything during the time slotin which that packet is supposed to be played out.andP;  (For our purpose all thatmatters here is that the late packet is thrown out.andP;  For completeness,however, it must be mentioned that something else may be played during thesame time slot.andP;  For example, the previous packet could be played again.)andO;When the receiver uses the second policy, the receiver waits for the latepacket, plays it whenever it arrives and reschedules the following packets tobe played out a regular intervals of (1/[mu]).andM;The first policy is easier to implement but risks losing intelligibility ifthe losses exceed 2 percent.andP;  The second policy ensures no packet loss butstill has the chance of losing intelligibility since the gaps produced by thelate packets produce the glitches in a conversation.andP;  Also, sa we found fromour simulations, the percentage of the late packets increases if these latepackets are sent on the network.andP;  Another problem arising from the secondscheme is that one has to be careful to distinguish between a genuine latepacket and a silence period.andP;  This can be done by setting a flag in eachpacket to indicate whether there is more data or not.andM;The case for the first policy is stronger in the context of local areanetworks and we opted for it with a small modification.andP;  In these schemes thereceiver is responsible for the quality of voice, but in our implementationthe sender is made responsible.andP;  The key argument here is that since thetransmission and the propagation delays between the sender and the receiverare fixed and known, the sender knows when a packet is late and can refrainfrom sending it, thus saving some transmission and propagation time.andP;  All theproperties of Gopal et al.'s first policy are still carried over.andM;In conclusion, we have adopted a blind delay policy in which the late packetsare not sent by the sender, thus making it partially responsible for thequality of voice.andM;Packet SizeandM;In a system with real time constraints packet size becomes an importantissue.andP;  In general, since a local area network does not use a store andforward policy, bigger packet size gives rise to a smaller message delay.andO;Apart from the implementation considerations, the following factors impose abound on the size of the packets: message length distribution; and the realtime bound.andM;Message Length DistributionandM;Data: The message length distribution is assumed to be exponential with themean of 1000 bits.andM;Voice:  The voice packet length is determined by the sampling rate (inbits/sec) and the packetizaton period.andP;  In this system, the sampling rate is64 kbits/sec.andP;  The packetization period is determined by the real timeconstraints and that is the topic of discussion in the next section.andM;Facsimile: The message length of facsimile is 50 Kbytes after compression ofa CCITT document size A4.andM;Real Time BoundandM;Data: Data has no real time bound, i.e., there is no constraint that a datamessage must be delivered within a certain time.andP;  However, the delay sufferedby a data message must be reasonable.andP;  Reasonability being subjective, it isthat goal of this experiment to guarantee a data delay, given the totalnetwork utilization, as obtained from the literature for the sameutilization.andP;  The data comprises interactive and bulk and it is intuitivethat interactive data should suffer less delay than bulk.andP;  This objective isalso considered.andM;Voice: Since the voice packet end-to-end delay must be less than 200 ms [8]for intelligible conversation, the packetization period cannot be arbitrarilylarge.andP;  In fact, smaller packetization period improves the quality of voice.andO;One must also keep in mind that the end-to-end delay of 200 ms is at the userlevel and not at the MAC layer level.andP;  This consideration further tightensthe constraint of 200 ms to a smaller value at the MAC layer level.andP;  We havechosen this value to be 51 ms.andP;  (30 ms for packetization and 21 ms forwaiting time after which the packet is discarded.andP;  The number 21 ms comesfrom the fact that a library packet is 20 ms long and an additional 1 ms isallowed to improve the probability of transmitting the voice packets withoutbeing late.)andP;  The packetization period, however, cannot be arbitrarily smallsince due to the presence of other types of traffic, the availability of thecommunication channel is limited.andP;  This leads to a large number of latepacketsandM;Facsimile: As stated earlier a bound of 5 seconds on the end-to-end pagerequest delay is considered tolerable.andP;  Each facsimile page is divided intofive packets.andM;The Priority MechanismandM;The token ring standard keeps provision for eight priority levels, level 0 tolevel 7 [11].andP;  However, the off-the-shelf components that are available mayimplement a lesser number of priorities.andP;  For example, the Texas Instrumentchip set TMS 380 has only four priorities available to the user.andP;  For thesystem under consideration, it turns out that these priorities aresufficient.andM;In a queuing system, specifically with cyclic queues, two simple priorityimplementations are possible.andP;  The first implementation is at the logicallink layer (LLC) or at a higher layer where a priority is first assigned to aprotocol data unit (PDU), the PDU is then queued first with respect to itspriority and then within its priority class on a first-come-first servedbasis.andP;  In the second implementation the PDU's are queued as they arrive atthe station, irrespective of their priority and then at the medium accesslayer (MAC), using the standard token ring priority reservation scheme, thehigh priority PDUs are given preference.andP;  The IEEE 802.4 token ring standarddoes not recommend either of the implementations.andP;  As can be seen, the firstway provides the best possible service to the high priority data, whereas thesecond way is fairer to the low priority data.andP;  With the availability of theoff-the-shelf components our choice was limited to the second implementation.andM;Protocol SimulationandM;The protocol chosen for simulation were based mainly on their implementationfeasibility.andP;  Furthermore, the available protocols from the literature playeda significant role in the choice of protocols to be simulated and tested.andO;Most protocols utilize the idea of prioritizing the traffic type, namely,voice, data and the facsimile.andP;  Blind prioritization, as will be evident,does not necessarily optimize the performance of even the highest prioritytraffic.andP;  In fact, it may even worsen the performance of the high prioritytraffic.andP;  The following simulation studies were conducted to study the effectof prioritization and to draw conclusions about its suitability in thisapplication.andM;The Input ParametersandM;* The input variables consist of voice, data and facsimile traffic, thecharacteristics of which were described earlier.andM;* The channel utilization by the data traffic, contributed to by 56 stations,varies from 0.1 to 0.3.andP;  It is constant for each simulation run.andP;  The datacomprises 40 percent interactive and 60 percent bulk.andM;* Sixteen simultaneous voice conversations are in effect on the network,simulated using Brady's [2] findings.andM;* Ten concentrators request documents at the rate 0.35 pages per second perconcentrator.andM;The ConstraintsandM;* Channel bit rate = 4 Mbits/secandM;* Implementation feasibility: The implementation should be feasible withoff-the-shelf components.andM;* The priority structure (Maximum priorities = 4).andM;* Various timer values: The timers include the ones specified in the IEEE802.5 standard, such as the token hold timer, and the ones implemented inmodification of the traffic.andM;Parameters to be OptimizedandM;* End-to-end data delay, for interactive and bulk data.andM;* End-to-end page request delay for documents.andM;* Percentage of lost voice packets.andM;Five integrated services protocols were simulated using SLAM simulationlanguage.andP;  The five protocols are described below:andM;Same Priority Protocol (SPPeandM;As the first step, all traffic types are assigned the same priority and thestandard token ring protocol is simulated.andP;  The results are not surprising.andO;Intuitively, since the concept of real time bounds is not addressed by thisprotocol, it is expected to fail.andP;  The simulation, however was till carriedout to put the prioritization into perspective by comparison.andP;  Table II showsthe results.andM;Four Priority Protocol (FPPeandM;This protocol uses the standard token ring protocol, using four out of eightpossible priorities for the four traffic types.andP;  The facimile, bulk data,interactive data and voice use the priorities 0, 1, 2 and 3, respectively.andO;Intuitively, it may seem that this protocol shoudl guarantee satisfactoryvoice performance, since voice is given the highest priority.andP;  It turns out,as listed in Table III, that this is not so.andP;  Voice packet loss exceeds 2percent.andP;  This is due to the fact that after the video packet has beentransmitted the voice stations waiting to transmit will be serviced in orderaround the ring.andP;  Some of the station may have been waiting much longer thanothers, however they all have equal priority.andM;Centralized Priority Protocol (CPP)andM;This scheme is similar to IBM's implementation [3].andP;  Unlike IBM'simplementation, which uses only two priorities, this implementation uses fourpriorities.andP;  The key idea in this scheme is that only one station is allowedto change the token priority.andP;  This station, called the Synchronous BandwidthManager (SBM) (The library station is the designated SBM), controls thenumber is the designated SBM), controls the number of calls and librarysessions below a predetermined value to maintain quality service on the ring.andO;The SBM interrupts asynchronous operation at a station if it sees the reservebits set to a higher priority.andP;  Once all the high priority stations get achance to transmit the priority is lowered again.andP;  To ensure fairness, theasynchronous station that was interrupted remembers it and gets the chance totransmit first.andP;  This operation becomes complex as the priorities increaseand as the results (Table IV) verify this protocol does not perform well.andM;Three Priority Protocol (TPP)andM;The assigned priorities are 0, 1 and, 2 for facsimile, bulk data, interactivedata, respectively.andP;  Voice is now assigned priority 2.andP;  As expected, morevoice packets are lost than FPP.andP;  (See Table V.)andM;Modified Three Priority Protocol (MTPP)andM;In the absence of the facsimile transmitted over the network, the voicetraffic gets the best possible service, that is, no voice packets are lost.andO;Thus, it is evident that the token ring priority scheme favors high prioritytraffic considerably, if it is given a chance to reserve the priority and ahigh priority token is issued quickly.andP;  Hence, most of the lost packets arelost during or after the transmission of a large packet, namely, a facsimilepacket.andP;  The idea used in this protocol, that circumvents this problem, is asfollows.andP;  The priority of a voice packet is stepped up from 2 to 3 only ifwaits for more than a certain time (less than the facsimile transmissiontime).andP;  Thus, long awaiting voice packets have higher priority over the otherpackets.andP;  This key step improves the performance of the protocol drastically.andO;(See Table VI.)andM;DISCUSSION OF RESULTSandM;The following conclusions are drawn from the performance of the protocolsstudied.andM;1.andP;  As expected, SPP performs badly as far as data and voice are concerned.andO;SPP has the best performance for document end-to-end delay.andP;  Overall, theperformance of this protocol is not acceptable.andP;  The performance of SPP,thus, merely demonstrates the importance of prioritization.andM;2.andP;  As may be noted, preferential treatment given to one class of traffic isat the expense of other traffic.andP;  Though the system under consideration isnot conservative (because work is destroyed within the system when voicepackets are discarded by th e source), it may be approximated to one becausethe amount of work destroyed is negligible.andP;  Thus, when a traffic type isgiven preference (or high priority) care should be taken to minimize itseffect on other traffic types.andP;  Illustrating this by example, the facsimilepages suffer a delay in seconds, say, 1.2 sec.andP;  An additional delay of a fewmilliseconds, say, 50-100, will not be noticeable to at the user level (butthe same additional delay will cause problems for data).andP;  Now, if thisadditional delay for the facsimile traffic can somehow enhance theperformance of, say, voice traffic, then it is a good trade-off.andP;  This ideais used here when protocols are compared.andM;3.andP;  CPP performs better than SPP but the voice performance is still notsatisfactory.andP;  In all fairness to the centralized priority protocol, it mustbe stated that its performance could probably be enhanced with clevermodifications to the protocol.andP;  We, however, opted for a distributed protocoldue to its better reliability.andM;4.andP;  FPP and TPP perform better than CPP and have close performanceparameters, but both exceed 2 percent voice packet loss.andM;5.andP;  The Modified Three Priority Protocol (MTPPe performs the best on allaccounts, at the expense of some extra delay for the other types of traffic(video and data).andP;  The reason for better performance of MTPP may be explainedas follows.andP;  When a facsimile packet is being transmitted the channel isoccupied for a long time (20 ms).andP;  Voice packets generated at the beginningof this transmission have to wait for a long time.andP;  As the voice packets waitthey approach their discarding time.andP;  Now, once the facsimile transmissionstops, in FPP and TPP all voice stations with high priority vie for the tokenirrespective of whether their packets are late.andP;  This may delay thetransmission of the late packets further downstream from the library.andP;  Byusing MTPP, only those packets that are late (the ones that waited for morethan 14 ms) are given a chance to transmit first.andP;  This saves a lot ofpackets from being lost.andM;In conclusion, a complete design of a voice-data integrated token ringnetwork protocol is discussed.andP;  We have opted for the Modified Three PriorityProtocol.andP;  The distributed nature of the protocol and its implementationfeasibility with off-the-shelf components makes it reliable and attractive.andM;The Computer Systems Research Group has completed the design andimplementation of this voice, video, and data network.andP;  A working protocolhas been completed and performance data collection has started.andM;REFERENCESandM;[1] Brady, P.T.andP;  A technique for investigating of-off patterns of speech.andO;B.S.T.J.andP;  44 (1954), 1-22.andM;[2] Brady, P.T.andP;  Effects on transmission delay on conversational behavior onecho free telephone circuits.andP;  B.S.T.J.andP;  50 (1971), 115-134.andM;[3] Bux, W., et al.andP;  Architecture and design of a reliable token ringnetwork.andP;  IEEE Journal on Selected Areas in Communications SAC-1, 5 (Nov.andO;1983), 756-765.andM;[4] Chauhan, v., and Sethi, A.S.andP;  Performance studies of token based localarea networks.andP;  In Proceedings of the 10th Conference on Local ComputerNetworks (Minneapolis, 1985), pp.andP;  100-107.andM;[5] Frost, V.S., Friedman, E.M., and Minden, G.J.andP;  Multirate voice coding forload control in CSMA/CD local computer networks.andP;  In Proceedings of the 10thConference on Local Computer Networks (Minneapolis, 1985), pp.andP;  10-19.andM;[6] Gifford, D.K., et al.andP;  The application of digital broadcast communicationto large scale information systems.andP;  MIT report, MIT/LCS/TM-299, April 1986.andM;[7] Gopal, P.M., Wong, J.W., and Majithia, J.C.andP;  Analysis of playoutstrategies for voice transmission using packet switching technique.andO;Performance Evaluation 4 (1984), 11-18.andM;[8] Gruber, J.G.andP;  Delay related issues in integrated voice and data networks.andO;IEEE Trans.andP;  Commun.andP;  COM-29, 6 (June 1981), 786-800.andM;[9] Ibe, O.C., and Gibson, D.T.andP;  Protocols for integrated voice and datalocal area networks.andP;  IEEE Communications Magazine, Vol.andP;  24, No.andP;  7, 1985,pp.andP;  30-36.andM;[10] Ibe, O.C., and Gibson, D.T.andP;  Synchronous communications protocols forlocal networks.andP;  In Proceedings of the 10th Conference on Local ComputerNetworks (Minneapolis, 1985), pp.andP;  4- .andM;[11] IEEE Standard 802.k Token Ring Access Method and Physical LayerSpecifications, IEEE Computer Society, Silver Spring, MD, Dec. 1984.andM;[12] Lam, S.S.andP;  A carrier sense multiple access protocol for local networks.andO;Computer Networks, 1980, 21-32.andM;[13] Mark, J.W.andP;  Priority scheduling for integrated voice/data services inlocal area networks.andP;  CCNG report E-111.andP;  University of Waterloo, Waterloo,Ontario, Canada, March 1983.andM;[14] Maxemchuk, N.F.andP;  A variation on CSMA/CD that yields movable TDM slots inintegrated voice/data networks.andP;  B.S.T.J.andP;  61, (1982), 1527-1550.andM;[15' Montgomery, W.A.andP;  Techniques for packet voice synchronization.andP;  IEEE J.andO;on Selected Areas in Commun.andP;  SAC-1, 6 (Dec.andP;  1983).andM;[16] Ogawa, et al.andP;  Experimental system document page image filing andcommunication.andP;  IEEE Globecom 1 (1985), 362-368.andM;[17] Ramakrishnan, K.K., and Howe, W. Performance of an extended local areanetwork for image applications.andP;  In Proceedings of the IEEE PhoenixConference, 1986, pp.andP;  314-320.andM;[18' Sharrock, S.M., Maly, K.J., Ghanta, S., and Du, H.C.andP;  A framed, moveableboundary protocol for integrated voice/data in a LAN.ACM SIGCOMM Sumposium,1986, pp.andP;  111-119.andM;[19] Soueid, E., and Pendse, S. CSMA/CD with channel capture.andP;  In Proceedingsof the 10th Conference on Local Computer Networks (Minneapolis, 1985), pp.andO;54-60.andM;[20] van de Legemaat, J., Daeman, J.M.A., and Niemegeers, L.G.andP;  Voicetransmission in a priority CSMA/CD LAN: An efficient protocol using hybridswitching.andP;  ACM SIGCOMM Symposium, 1986, pp.andP;  102-110.andM;[21] Wong, J.W., and Gopal, P.M.andP;  Analysis of a token ring protocol for voicetransmission.andP;  Comput.andP;  Netw.andP;  8, 4 (1984), 339-346.andM;[22] Yamazaki, Y.andP;  Recent advances in facsimile communications.andP;  IEEEGlobecom 1 (1985), 118-125.andM;CR Categories and Subject Descriptors: C.2.k [Computer-CommunicationNetworks]: Local Area Networks--access schemesandM;General Terms: DesignandM;Additional Key Words and Phrases: Integrated services, protocols, token ring,video, voiceandM;ABOUT THE AUTHORS:andM;SUNIL GAITONDE is currently an architecct workin on IBM's Distributed DataManagement Architecture.andP;  He received a Ph.D.andP;  in Computer Engineering fromIowa State University in 1988.andP;  His research interests include protocolspecification, computer simulation, and digital data communications.andO;Author's Present Address: IBM Corp., Highway 52 andamp; Northwest 37th Street,Rochester, MN 55901, rchintu@ibm.comandM;DOUG JACOBSON is currently an associate professor of Electrical and ComputerEngineering at Iowa State University.andP;  He received a Ph.D.andP;  in ComputerEngineering from Iowa State University in 1985 and has been performingresearch in the area of integrated voice, video, and data on networks andnetwork protocol verification and specification.andP;  Author's Present Address:Computer Systems Research Group, Iowa State University, Coover Hall, Ames, IA50011.andP;  doug@issue1.ee.iastate.eduandM;A.andP;  V. POHM is the Anston Marston distinguished professor in the Departmentof Electrical and Computer Engineering at ISU.andP;  His research areas includethin film magnetics and memory systems.andP;  Author's Present Address: ComputerSystems Research Group, Iowa State University, Coover Hall, Ames, IA50011.pohm@issue1.Ee.iastate.edu</TEXT></DOC>