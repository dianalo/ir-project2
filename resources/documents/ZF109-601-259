<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF109-601-259  </DOCNO><DOCID>09 601 259.andM;</DOCID><JOURNAL>Microprocessor Report  Nov 14 1990 v4 n21 p9(3)* Full Text COPYRIGHT MicroDesign Resources Inc. 1990.andM;</JOURNAL><TITLE>34020 battles RISC for graphics applications; key features arespecialized instructions, on-chip VRAM control. (Texas Instruments34020 graphics coprocessor) (reduced instruction set computers)</TITLE><AUTHOR>Koball, Bruce.andM;</AUTHOR><DESCRIPT>Company:   Texas Instruments Inc. (Products).andO;Ticker:    TXN.andO;Product:   Texas Instruments TMS34020 Graphics System Processor(Microprocessor) (Usage).andO;Topic:     Floating-Point ArithmeticReduced-Instruction-Set ComputersSemiconductor IndustryGraphics SystemsCircuit DesignGraphics Coprocessors.andO;Feature:   illustrationchart.andO;Caption:   Block diagram. (chart)andM;</DESCRIPT><TEXT>34020 Battles RISC for Graphics ApplicationsandM;Video Timing and VRAM ControlandM;An important function in any graphics display system is to provide acontinuous stream of data from the display memory to refresh the screen.andP;  Ina VRAM-based display system, this involves latching the appropriate row ofdat in the VRAM and shifting it out in sync with the horizontal and verticalmonitor control signals.andM;The 340 family devices integrate a major portion of the hardware required toperform the video timing, screen refresh, and VRAM control functions.andO;Several programmable configurations are available, including composite orseparate sync and blanking, interlaced or noninterlaced scan, and support forAmerican (RS-170/NTSC) and European (PAL or SECAM) video standards.andM;Six pins are dedicated to the video control system, some of which may beinputs or outputs depending on the programmed configuration.andP;  Limits onscreen resolution are very broad, with screen lenghts up to 64K linessupported.andP;  Each line can be up to 64K video clock (VCLK) periods in length,but since the actual dot clock can be any multiple of VCLK, the horizontalresolution is limited only by the bandwidth of the VRAM, the color palette,and the monitor.andM;The VRAM control functions allow the GSP to schedule screen-refresh cyclesautomatically: a row of VRAM data is latched in the VRAM's internal serialregister and then shifted out to refresh the display.andP;  Two types of screenrefresh are supported: refresh during blanking, in which the screen-refreshcycles are initiated during the horizontal-blanking interval, and midlinereload, in which the screen-refresh cycels are initiated during activedisplay time.andP;  the midline reload strategy permits more efficient use of aVRAM array.andM;The 34020 supports special functions, including write-mask and block-write,that are available in newer 1-Mbit VRAMs such as TI's 44C251.andP;  (In our nextissue we'll review VRAMs in general and look at the special functions in thenewer devices.)andM;Floating-Point Coprocessor InterfaceandM;Unlike the 34010, the 34020 instructions set and hardware support for acompanion floating-point processor (FPP), the TMS34082.andP;  Six 34020instructions and five special bus cycles facilitate the passing ofinstructions and data between the coprocessor and the GSP or local memory atsustained rates up to 160 Mbytes per second.andP;  The 34020 supports multiplefloating-point coprocessors in the same system.andM;The 34082 FPP is IEEE-compatible for addition, subtraction, multiplication,division, square root and comparison.andP;  The device can also handle 32-bitinteger math as well as integer-to-floating-point conversions.andO;Transcendental functions are not directly supported, but a number of complexoperations are programmed in the 34082's internal ROM.andP;  These include matrixmultiply, convolution, polynomial expansion, multiply/accumulate and vectoroperations.andP;  Several complex graphic operations are also programmed ininternal ROM.andP;  They include polygon clipping, viewport scaling andconversion, 2-D and 3-D linear interpolation, and 2-D and 3-D cubic splinefunctions.andM;Multiprocessor SupportandM;Support for multiple GSPs in a system is another major enhancement providedby the 34020.andP;  Three pins on the GSP are dedicated to controlling ashared-memory, multiprocessor interface.andP;  Asserting the grant-input signal(GI/) notifies the GSP that it is the current bus master and hasresponsibility for driving the local memory bus.andP;  Negating GI/ tells the GSPto relinquish the bus after completing the current memory cycle.andP;  Twobus-request outputs (R0/, R1/) encode request priority and statusinformation.andP;  They are used by external arbitration logic to grant busmastership.andP;  There is no explicit limit to the number of GSPs in amultiprocessor system, but TI suggests that the maximum practical number isthree processors, with diminishing performance returns after two.andM;Compatibility IssuesandM;Despite significant differences between the 34010 and the 34020, TImaintained a large degree of object code compatibility between the twodevices.andP;  Indeed, TI claims 100% object code compatibility if theircompatibility guidelines are followed.andP;  Differences in the local memoryarchitecture, GSP-host interface, and the location and function of some ofthe I/O registers, however, may require careful examination of the sourcecode when porting an application from the 34010 to the 34020.andP;  In the PCgraphics arena, using TI's TIGA standard at the applications interface level,compatibility is usually not a problem.andP;  Difficulties may occur even herewhen a board designer has not followed the compatibility guidelinescarefully.andM;The TIGA standard (see [mu]PR 11/88 p. 6 and 6/89 p. 7) is an interestingissue itself.andP;  TI has promoted this standard to encourage OC applicationsvendors to support TMS340-family products.andP;  Much lip service was paid at itsoriginal introduction by a wide variety of hardware and software vendors, butactual support for TIGA has been spotty.andP;  A portion of the blame can be laidon the state of the 1.1 release of TIGA, which was, by most reports, adeveloper-hostile package.andP;  TI also says that the lack of a robust windowingenvironment standard for PCs hindered TIGA acceptance.andM;The recent release of TIGA 2.0, however, should address many of theseconcerns.andP;  Described by some developers as a vast improvement over version1.1, TIGA 2.0 includes features that simplify porting TIGA to a givenhardware platform.andP;  In particular, a suite of incremental test proceduresfacilitates the task of bringing TIGA up on a new platform.andP;  TI will alsoprovide a TIGA-compatibility audit to promote the integrity of the standard.andO;The popular acceptance of Windows 3.0 and the imminent additiona of Windows3.0 drivers to TIGA will also be a big plus.andM;34020 vs.andP;  RISCandM;Comparing the 34020 with the current crop of high-end 32-bit microprocessors,its performance on nongraphics code clearly puts it toward the back of thepack.andP;  White it is a substantial improvement over the 34010, the 34020'sheavily microcoded design is easily out-performed in core functions by anyRISC processor.andP;  This is a potentially unfair comparison, however,considering the 34020's target market.andP;  The advantage ofsingle-clock-per-instruction execution can vanish if a complex instruction ismore efficient than the equivalent stream of simpe instructions.andP;  In theclassic argument for RISC, the complex instruction is executed soinfrequently that it is deemed to be a poor use of silicon.andP;  This argumentmay not hold, however, in specialized applications such as graphics.andP;  The keyquestion is how well the specialized, complex graphics functions provided bythe 34020 fit with the target application.andM;One example of a case where a RISC processor proved more effective is Apple's8*24 GC accelerated graphics card, which is designed to off-load theexecution of the Mac II's Quick Draw graphics code from its 680X0 host.andO;Appel's designers evaluated the 34010 and claim that it would have providedno more than a 5% performance gain over executing the equivalent code on thehost.andP;  They decided, instead, to use a 29000 RISC processor.andP;  The primaryreason for the 34010's poor showing was that its hardware-supported datastructures were not a good fit with QuickDraw and thus provided nosubstantial performance gain.andP;  There are many applications, however, forwhich the TMS340 family is a good fit, as the growing number of 34010 and34020-based PC graphics cards demonstrates.andM;The important metric for comparison is overall system performance, not MIPSor CPI.andP;  TI claims that a 32-MHZ 34020 will run 40K to 50K X-Stones (abenchmark based on X-Windows) at 8 bits per pixel and 75K to 90K X-Stones at1 bit per pixel.andP;  In comparison, the recently announced Samsung SGS-19monochromeandM;X-Windows terminal, based on a 16-MHz 29000, claims 71K X-Stones.andP;  (Rememberthat a 34020 with a 32-MHz clock has an 8-MHz instruction cycle.)andM;Another important consideration is total system cost.andP;  Here the 34020, withits simplified memory interface and integrated VRAM and display control,brings a lot to the party.andP;  A memory sybsystem for a fast RISC processor ispotentially an expensive affair.andP;  Video control may be implemented with anASIC or two, but it's still an added system cost, not to mention design costand time-to-market.andP;  Figure 1 illustrates the relative simplicity of a34020-based design.andP;  The bottom line is that the selection process is asearch of a complex, multidimensional price/performance space, and designersmust take a system-level view.andM;The FutureandM;The 34010 has several hundred design wins and is shipping aproximately500,000 units per year.andP;  TI claims that volume has doubled every year sincethe chip's introduction.andP;  The 34020-based products currently in productionnumber in the dozens, with another hundred or so in design.andP;  TI expectsshipments in 1991 to be well in excess of 100,000 units.andP;  Clearly the 34020is not yet rivaling it's older sibling in volume.andP;  TI claims, however, thatthe 34020 is ramping up much faster than was the 34010 was at an equivalenttime after its introduction.andM;Critics point to the substantial price difference between the two parts as aserious impediment to the 34020 in the cost-conscious PC market, and, afterall, that's where the volume is.andP;  In this regard, TI is actively pursuingmanufacturing cost reductions, such as smaller die sizes for both the 34010and the 34020, so a downward pricing trend should be expected.andM;It's clear that TI is in this market for the long term.andP;  The recent change inthe name of their graphics products division to Computer Video Products issupposed to emphasize TI's desire to be seen as a supplier of completegraphics systems solutions, from PC-based systems to X-Windows terminals andbeyond.andP;  TI has captured a portion of this market, but they certainly havenot yet gaines the mass acceptance in the PC world that they are looking for.andM;On the other hand, the predictions of smoke skeptics, that the supposedhigher cost of a microprocessor-based solution and competition from multiple8514/A chip vendors would severely limit the TMS340 family's success in thePC market, have not come to pass.andP;  The prices of 340-based boards continue tofall and the much-anticipated flood of 8514/A contenders has yet tomaterialize in a substantive way.andP;  The jury is still out, but TI's positionseems to be getting stronger.andM;One market segment where the 34020 has not had great success is in high-end,3-D graphics systems.andP;  Recent offerings in this market from DEC, HP,Stardent, and Sun have all chosen the i860, primarily because of itsperformance with vectorized, floating-point operations.andP;  While TI claims thata 34020 with multiple 34082s can equal the performance of an i860 in thisarea, they do amit that the focus for the 34020/34082 combination is at thelow-end of the 3-D market, primarily in PC-based applications.andM;A far more significant market in the 1990s will be imaging applications inthe form of fax machines, laser printers, scanners, photographic and documentstorage and retrieval systems, and other applications requiringhigh-resolution, high-performance, 2-D capabilities.andP;  Some estimates predictthat these applications will account for more than half of the high-endembedded controllers before the middle of the decade, outpacing the demandfor PC graphics controllers.andP;  TI is certainly aware of these trends and so isevery other semiconductor vendor.andP;  (See The Coming Embedded ControlBloodbath, [mu]PR 10/31/90 p.3.)andP;  These applications require greaterprocessor performance and memory system bandwidth, as well as DSP and imagecompression capabilities.andP;  It's clear that the existing TMS340 familyproducts won't provide adequate performance for these applications, and theywill see stiff competition from RISC processors.andP;  With this in mind, TI iscertainly not resting on its laurels.andM;Plans for future TMS340 family members have been laid and are already bearingfruit.andP;  The announcement of the new TLC34075 Video Interface Palette (see p.andO;12) reduces system chip count, and it should help further TI's ambitions asvideo standard bearer in the PC industry.andP;  Design work for next generationGSPs is already well underway.andP;  In addition to higher-performance versionsthat maintain object-code compatibility, an entirely new device is rumored tobe in development.andP;  Indications are that this part will include substantialarchitectural changes and will not be object-code compatible with existingfamily members.andP;  The &quot;software environment&quot; will remain, however, indicatingthat there will be compatibility at some level.andP;  It would not be surprisingto see more-RISC-like products join the family.andM;TI is a leader in several key technologies for the graphics and imagingapplications that will dominate the 1990s.andP;  These include graphics systemsprocessors, digital signal processors, VRAMs, and even analog design.andP;  TI hasshown that it can effectively combine its portfolio of technologies intoproducts with higher levels of integration and seems determined to remain atechnology leader.andO;</TEXT></DOC>