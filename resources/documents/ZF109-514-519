<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF109-514-519  </DOCNO><DOCID>09 514 519.andM;</DOCID><JOURNAL>IBM Systems Journal  Sept 1990 v29 n3 p371(13)* Full Text COPYRIGHT International Business Machines Corp. 1990.andM;</JOURNAL><TITLE>Image system communications. (technical)</TITLE><AUTHOR>Morris, H.M.; Orth, R.H.andM;</AUTHOR><SUMMARY>This paper discusses the communication requirements to support theIBM ImagePlus system.andP;  The analysis and approach discussed arebased on the experience gained in installing the initial ImagePlussystems at several businesses enterprises.andP;  (Reprinted bypermission of the publisher.)andM;</SUMMARY><DESCRIPT>Company:   International Business Machines Corp. (products).andO;Ticker:    IBM.andO;Product:   IBM ImagePlus High-Performance Transaction System (Imageprocessing equipment) (installation)MVS/ESA (Operating system) (usage).andO;Topic:     Imaging TechnologyInstalling a ComputerCommunications Technology.andO;Feature:   illustrationchart.andO;Caption:   ImagePlus operating concept. (chart)ImagePlus data packaging. (chart)ImagePlus communications. (chart)ImagePlus MVS/ESA example of distributed environment. (chart)ImagePlus communications - local area network. (chart)ImagePlus MVS/ESA system architecture. (chart)ImagePlus AS/400 system architecture. (chart)Four-megabit token-ring block sizes. (chart)andM;</DESCRIPT><TEXT>Image system communicationsandM;Image processing brings with it a number of unique communications engineeringrequirements.andP;  The key factor driving these requirements is the large recordsizes (typically tens of thousands of bytes) associated with digitizedimages.andP;  The movement of image objects through a communications networkrequires planning and appropriate selection of system components andoperating parameters.andP;  This paper describes a communications system tosupport ImagePlus[TM], IBM's operational image system.andP;  The challenge to thedesigners of ImagePlus is to move these large image objects through a dataprocessing complex efficiently with acceptable response times, withoutAdversely affecting overall system performance.andM;The analysis and design approaches presented were developed to support thefirst IBM ImagePlus installations at USAA (United Services AutomobileAssociation) and Lincoln National Corporation for the MVS/ESA [TM] system,and Citibank for the AS/400 [TM] system.andP;  The concepts have been validatedand refined based on the experience gained during those initial systemimplementations, and are typically included as part of the ImagePlusinstallation planning process.andM;This paper presents an overview of ImagePlus operations and a description ofthe communications subsystem components, with emphasis on designconsiderations imposed by the data flows from the Multiple VirtualStorage/Enterprise Systems Architecture (MVS/ESA) and ApplicationSystem/400[R] (AS/400) system hosts to and from the token-ring-attached IBMPersonal System/2[R] (PS/2[R]) image workstations.andP;  (Early Image Plusinstallation used IBM Personal Computer AT[R] [PC-AT] Model 339s as the basefor the image workstation.andP;  Some are still in use, but they are no longergenerally available and therefore will not be addressed in this paper.)andM;Use of the Systems Network Architecture (SNA) standards, Mixed ObjectDocument Content Architecture (MO:DCA), Image Object Content Architecture(IOCA), the Presentation Text Object Content Architecture (PTOCA) forenveloping image objects is described, as is the implementation of LogicalUnit 6.2 (LU 6.2) communications between the workstations and the host forthe movement of image objects through the system.andP;  The communicationsrequirements associated with the implementation of ImagePlus in ageographically distributed environment are also discussed.andM;Operational overviewandM;The operating concept of IBM's ImagePlus system is depicted in Figure 1.andO;Document images are captured in digitized bit map form by different types ofscanning devices.andP;  The electronic images are then processed by an IBM PS/2workstation which compresses each image using industry-standard algorithms(International Telegraph and Telephone Consultative Committee [CCITT], Group4 or Modified Modified READ [MMR]).andP;  The resulting compressed image is knownas an &quot;object.&quot;andP;  The compressed image of each page is prepared fortransmittal to the image system host by wrapping it in an Image ObjectContent Architecture (IOCA) envelope, consisting of header and trailer fieldsaround the object itself.andM;When the last page of a document has been scanned, the collection ofIOCA-wrapped page images is put in a document-level wrapper called a MixedObject Document Content Architecture (MO:DCA) envelope, which adds header andtrailer fields at the beginning and end of the document.andP;  The MO:DCA packagethen has Systems Network Architecture (SNA) header and trailer records added(see Figure 2).andP;  Using a Logical Unit 6.2 (LU 6.2) session with the ImagePlushost, the document object is then transmitted across the token-ring localarea network to the host, where it is stored.andP;  For retrievals, the process isreversed to send objects from the host to the image workstation for displayand print.andM;IBM's PS/2 image workstation processes all image compression anddecompression tasks.andP;  Incoming images are compressed to provide resolutionsof 100 and 200 picture elements, or pels, per inch (ppi).andP;  A single-spaced8.5- by 11-inch typewritten page will compress to approximately 25 000 bytesat 100 ppi, or around 50 000 bytes at 200 ppi.andM;IBM offers users of the ImagePlus MV/ESA system their choice of whether tosend either or both of the 100- and 200-ppi objects to the host for storage.andO;The ImagePlus AS/400 system stores 200-ppi objects exclusively.andP;  (AllImagePlus users to date keep the 200-ppi objects for their permanent files,which are retained on optical disk.andP;  Document images of 200 ppi have beenaccepted by courts of law as valid substitutes for the original documents.)andM;Some MVS/ESA users have opted to keep their most active files on a directaccess storage device (DASD) at 100 ppi, to speed the retrieval time.andP;  Thismeans sending both the 100- and 200-ppi images from the workstation to thehost, which for a typical page will require transmitting approximately 75 000bytes through the network.andM;Other users work with 200-ppi images exclusively, preferring to gain higherinitial throughput rates at scanning and storage time since only two-thirdsas many bytes (50 000 vs 75 000 per page) must be shipped from theworkstation to the host when the document is captured.andP;  This is just one ofmany considerations that affect the design of the image system communicationsnetwork.andM;Planning assumptions.andP;  The first key activity for the communications engineeris to study how the image system will be used in a particular application andto determine an accurate profile of that use.andP;  Daily average and peak inputand retrieval volumes must be estimated for each type of document.andP;  Detailedinformation on the attributes of each document type is required.andP;  Suchattributes include average and maximum number of pages, number of retrievalsin the first 30, 60, and 90 days after capture, retention period, annualcompound volume growth rate, etc.andP;  Other required information includes numberof shifts per work day and number of productive hours per shift.andM;Representative examples of the actual documents should be obtained andscanned to develop a more precise measurement of the compressed size for eachdocument type.andP;  Although the authors have found 50 kilobytes (50 KB) per200-ppi page to be a good rule of thumb for rough estimating, in actualpractice the number of bytes can range from less than half to more than twicethat figure, depending on how &quot;busy&quot; the document is.andP;  Large continuous areasof white or black space enable the compression algorithm to work moreefficiently, whereas just the opposite is true for pages with much fineprint, scrollwork, etc.andM;This early sizing activity is extremely important.andP;  The derived numbers willdetermine DASD and optical storage requirements, and the communicationsresources and configurations.andP;  If the customer has specified service levelrequirements for document storage and retrieval times, this analysis shouldprovide the basis for determining if those performance parameters are readilyattainable.andM;One additional consideration that affects the communication volumecalculations occurs if the customer intends to store computer-generated data,also known as coded data, along with the image objects.andP;  ImagePlus storescoded data in its normal character format, rather than converting thecharacters on a page to an image.andP;  The coded data are enveloped in anotherwrapper, this one called Presentation Text Object Content Architecture(PTOCA), which allows coded data to be merged with images of standardbusiness forms.andM;Implementation of the coded data function is practical where input to theimage system includes large numbers of standard forms containingcomputer-generated data.andP;  It is only necessary to scan the image of astandard business form once; however, it can be retrieved and overlaid withthe unique coded data for a specific display ot print request.andP;  Considerablecommunication time and storage can be saved using the coded data, since apage of coded data will rarely exceed 2000 characters, each requiring onlyone byte, or about 2 KB per page, versus 50 KB if the same page were scannedand stored and 200 ppi.andM;Communication subsystem componentsandM;Differences between MVS/ESA and AS/400 communications.andP;  The ImagePlus AS/400system features direct attachment of the workstation token rings to theAS/400 host.andP;  Optical storage devices, driven by an IBM 5363 minicomputer,are also on a host-attached token ring in this system.andP;  The AS/400 Model B10can support one directly-attached token ring; all of the larger models canaccommodate two.andP;  In the MVS/ESA system, optical storage devices are drivenby an IBM 8232 Optical Storage Controller, which is channel-attached to theImagePlus host.andM;All work-flow command and control information between the workstations andthe AS/400 flows over the token ring along with the image objects, with bothobserving the LU 6.2 protocol.andP;  Work-flow management communications in theMVS/ESA system are handled by a separate IBM 3270 (LU 2.0) link to theImagePlus host.andM;In the ImagePlus MVS/ESA system, there are intermediate levels in thecommunication hierarchy.andP;  When the workstations and the ImagePlus host are inthe same geographical location, the usual configuration for imagecommunications has the workstation token rings connected to IBM 3174 ControlUnits which provide the communications gateway to the MVS/ESA host.andP;  Whereworkstations are remotely located, their token ring can be attached to aToken-Ring Interface Coupler on an IBM 3725 or IBM 3745 CommunicationController which serves as the communications gateway at the remote site.andO;The remote 3725 or 3745 is connected to a host-attached 3725 or 3745 at thehost site via a high-speed communication link.andP;  In either the local or remoteconfiguration, there is a separate 3270 link to the host for work-flowmanagement communications.andP;  ImagePlus MVS/ESA and AS/400 single-hostconfigurations are shown in Figure 3.andM;ImagePlus MVS/ESA also supports the interconnection of image hosts atmultiple locations for distributed processing environments.andP;  For large,geographically dispersed users, this mode of operation can be used incombination with the remotely attached workstations described in thepreceding paragraph to form a network configuration such as teh one depictedin Figure 4.andP;  Satellite links are often used to provide communicationsbetween the central site and the remote locations, with a T1 carrier (1544kilobits per second) being multiplexed to provide the bandwidth needed forimage transmission (256 kilobits per second, for example).andM;The following sections describe the components of the ImagePluscommunications subsystem.andM;Token-Ring Network.andP;  IBM token rings were selected as the medium to connectthe PS/2 image workstations to the ImagePlus system because of their highperformance, cost-effectiveness, and flexibility.andP;  IBM's current token-ringproducts offer nominal data rates of 4 or 16 megabits per second (500 and2000 kilobytes per second, respectively).andP;  Even allowing for an effectivethroughput rate somewhat below the nominal data rate, the 50 KB required tostore the image of an average page at 200 ppi will transit the token ring inwell under one second.andP;  All ImagePlus token-ring communications follow the LU6.2 protocol.andM;As more workstations are added to the system, cost advantages will accrue tothe user because of the token ring's ability to support more devices on agiven ring-controller combination than could be handled with a comparable3270-like terminal-controller arrangement.andM;The characteristics of the token ring also afford the user an added dimensionof flexibility when rearranging the workstation environment.andP;  Devicesattached to the token ring can be disconnected, moved to another location onthe ring, and reconnected without having to interrupt other users or redo thering configuration parameters.andM;The PS/2 image workstations, each equipped with a Token-Ring Adapter Card,will be connected to IBM 8228 Multistation Access Units (MSAUs).andP;  Up to eightdevices can be attached to each 8228.andP;  IBM 8218 Copper Repeaters or IBM 8219Optical Fiber Repeaters can be used where necessary to expand the geographiccoverage of a particular token ring beyond the limits that can be servedwithout repeaters.andP;  (See Figure 5.)andM;The allowable distance from the MSAU to the workstation is largely dependenton the user's choice of cabling medium--shielded twisted pair, such as IBMCabling System Type 1 or Type 2 media, or telephone twisted pair (TTP), whichis unshielded.andP;  IBM recommends TTP for use only with the 4-megabit per secondtoken ring.andP;  A TTP-based token ring can accommodate the physical attachmentof up to 72 terminals, while shielded twisted pair cabling can theoreticallyhandle as many as 260 devices on a single ring.andM;In current ImagePlus MVS/ESA configurations, the limit per ring will be 64(including the controller).andP;  This limit is due to a design decision to usefour IBM 3174 Control Units on a host channel.andP;  A channel can support amaximum of 256 subchannel addresses, so 64 addresses will be available foreach of the four control units.andM;The number of active, full-function workstations that can be supported by theImagePlus AS/400 system is currently limited by the number of simultaneoussessions (100) that can be supported by the IBM 5363 minicomputer that drivesthe optical dervices, not by the capacity of the token rings.andP;  A workstationmust be in session with the 5363 minicomputer to store or retrieve objectsfrom optical storage.andP;  Each AS/400 and batch job requiring optical accessmust also be in session with the 5363 minicomputer, so the number ofworkstations that can &quot;access optical&quot; at any one time is less than 100.andO;This means that 100 or more workstations can be attached to the tokenring(s), but they will not all be able to access optical at the same time.andP;  Alikely scenario for this situation would be workstations used only on secondshift, when some of the first-shift workstations are idle.andP;  One AS/400installation has a total of 85 image workstations on two token rings and isplanning to add 15 more.andP;  The actual number of workstations installed on agiven token ring is also influenced by the usage profile and performancerequirements.andM;3174 Control Unit.andP;  The IBM 3174 Control Unit provides the gateway from theworkstation token rings to the ImagePlus MVS/ESA host at locations where ahost has been installed.andP;  The 3174 Control Unit attaches directly to a hostchannel, providing the communications capacity needed to effectively move thelarge blocks of image data.andP;  Tests run using Version 1.0 of the 3174microcode in a simulated image-processing environment yielded throughputrates in excess of 100 kilobytes (KB) per second using 1920-byte frames.andP;  Forplanning purposes, the authors used 100 KB per second to allow a margin ofsafety.andM;This paper describes the communications methodology for a system which wasinstalled in early 1988.andP;  [1]  Since that time, significant performanceimprovements have been made to the 3174 and its communication methods.andO;Included in these enhancements are support for 4 kilobyte token-ring frametransfer, faster hardware within the IBM 3174 Control Unit, and significantimprovements to the 3174 software.andP;  Taken together, a properly configured3174 controller acting as a gateway from a token ring to a host channel nowhas a throughput capability of approximately 3.5 megabits per second (437.5kilobytes per second).andM;3725 Communication Controller.andP;  IBM 3725 or 3745 Communication Controllersare used to expand ImagePlus MVS/ESA to remote locations.andP;  Each remote sitewill have a 3725 or 3745 controller linked to the central ImagePlus hostthrough one or more high-speed data circuits (typically 256 kilobits persecond).andP;  The remote sites may also be linked to each other to allow directinterlocation communication without having to go through the central sitehost.andM;Standard build and line macros will be used when the Network Control Program(NCP) is generated for each 3725 or 3745 controller.andP;  Currently, the NCPrecognizes each token-ring workstation as a switched virtual circuit, eventhough a dedicated connection exists.andP;  As a result, NCP must &quot;dial&quot; eachworkstation when it wishes to communicate.andP;  This requirement affects thenaming convention for the workstations in that their address must containdecimal characters only, since NCP cannot dial an address containing hexcharacters.andM;Software.andP;  The system architectures (Figures 6 and 7) of both the MVS/ESA andAS/400 ImagePlus systems are based on standard IBM products.andP;  Image-handlingand work-flow applications both run under the OS/400[R] operating system inthe AS/400.andP;  Image-handling runs as a Customer Information Control System(CICS) application under MVS/ESA in the large system, and work flow can beordered as either a CICS or Information Management System (IMS) application.andM;Image host-to-workstation communication is handled by the AdvancedPeer-to-Peer Networking (APPN) and PC Support software products in theAS/400, providing LU 6.2 connectivity across the Token-Ring Network.andP;  In theMVS/ESA system, the image host communicates with the workstations via LU 6.2sessions through the Virtual Telecommunications Access Method (VTAM).andP;  Theapplication programs in the PS/2 workstations are supported by standard IBMtoken-ring software, Advanced Program-to-Program Communications/PersonalComputer (APPC/PC) and Disk Operating System (DOS) 4.0.andM;When 3725 or 3745 Communication Controllers are installed to support remotecommunications in the MVS/ESA system, each will run under NCP Version 4Release 2 or higher, and will have LU 6.2 connectivity with the otherlocations.andM;Communications network management.andP;  The network management function for theImagePlus systems is supported by a full range of IBM standard products.andP;  TheMVS/ESA system uses the host-based NetView[R] product, supported byNetView/PC[TM] and the Token-Ring Network Manager, to monitor network statusand collect performance data.andM;The Token-Ring Network Trace and Performance Program can be used by eithersystem to gain insight into the utilization of the ring by all or a subset ofthe workstation population.andP;  The trace function enables applicationdevelopers to analyze data on Token-Ring Networks, and facilitates theidentification of data errors on production networks.andP;  The performancefunction presents a real-time window into ring utilization to the operatorand provides statistics on the traffic handled by different workstations onthe ring.andP;  The information generated by this tool may be used to determinewhether a requirement exists to split a single ring into two or more rings,or to redistribute some of the workstations to other rings.andM;Communication performance considerations.andP;  The current IBM token-ringarchitecture supports communication between devices on the ring, as well asthrough the token-rin gateway to the host.andP;  ImagePlus currently supports onlyworkstation-to-host communications, so all traffic on the token ring passesthrough the 3174 Control Unit.andP;  It is therefore important that thecommunication network components be configured to ensure efficient handlingof the large image objects.andM;Performance of the 3174 controller can be enhanced by selecting large datablock sizes when configuring the ImagePlus system.andP;  In general, datathroughput increases with increasing block sizes, with the curve flatteningout around a block size of 4 KB, which is the maximum size supported by the16-megabit token ring.andP;  This ring will support a data throughput rateapproximately 30 percent higher than the 4-megabit token ring, which has amaximum block size of 2 KB.andP;  However, the 4-megabit ring can run on the lessexpensive unshieleded twisted pair cabling, so a cost-versus-throughputevaluation may be needed to select the correct cabling medium.andM;Because of the large block sizes needed to maintain high through rates, it isrecommended that ImagePlus run on its own VTAM, rather than share the user'sproduction VTAM.andP;  In most cases, the production VTAM will be using buffersizes of 300 bytes or less, which is appropriate for a 3270-orientedenvironment.andP;  To take advantage of the large block sizes needed to optimizethe movement of image objects, the VTAM buffers should be set to around 2000bytes (2 KB), which will dramatically increase the amount of host memoryneeded for buffer space, assuming the number of buffers for nonimageproduction is held relatively constant.andM;Without the larger VTAM buffer sizes, image throughput performance will beseverely affected.andP;  The throughput rate with 1 KB buffers is one-half of whatcan be expected with the buffers set at 2 KB, and performance continues todrop off rapidly for buffer sizes below 1 KB.andM;Figure 8 depicts the maximum block size that can be used on the 4-megabittoken ring.andP;  During throughput evaluations, pacing of 17 was found to be themost efficient factor.andP;  The pacing factor multiplied by the block size setsthe CICS buffer sizes.andM;Pacing controls the flow of data through a communications network.andP;  Thiscapability is needed because different network nodes can have differentcapacities for receiving, processing, and storing message data.andP;  Properchoice of pacing parameters for inbound and outbound traffic will reducecongestion that can result when a network node's processing and bufferstorage capacities are exceeded.andM;SummaryandM;The movement of image objects through a communications network requirescareful planning and selection of system components and operating parameters.andO;This paper has described how IBM standard products are used in thecommunications architecture needed to support the ImagePlus products and hasidentified some of the important factors that should guide the network designprocess.andM;Effective implementation of ImagePlus in a user's data-processing complexwill require tradeoff analyses of performance, cost, and impact to the user'scurrent operating environment.andM;Cited referenceandM;[1] C. A. Plesums and R. W. Bartels, &quot;Large-Scale Image Systems: USAA CaseStudy,&quot; IBM Systems Journal 29, No.andP;  3, 343-355 (1990, this issue).andM;General referencesandM;Advanced Program-to-Program Communications, GC24-1584, IBM Corporatioan;available through IBM branch offices.andM;AS/400 System Handbook, GA19-5486, IBM Corporation; available through IBMbranch offices.andM;&quot;CCITT Red Book,&quot; CCITT T Series, Volume VII -- Fascicle VII.3,Recommendations T.4 and T.6.andP;  International Telecommunication Union, Geneva(1985), pp.andP;  16-31 and 40-48.andM;MVS/ESA ImagePlus General Information Manual, GC38-2024, IBM Corporatiaon;available through IBM branch offices.andM;Network Program Products Planning, SC30-3351, IBM Corporation; availablethrough IBM branch offices.andM;SNA Concepts and Products, GC30-3072, IBM Corporation; available through IBMbranch offices.andM;SNA Technical Overview, GC30-3073, IBM Corporation; available through IBMbranch offices.andM;3174 Establishment Controller, GA23-0337, IBM Corporation: available throughIBM branch offices.andM;Token-Ring Network Introduction and Planning Guide, GA27-3677, IBMCorporation; available through IBM branch offices.andM;Hugh M. Morris IBM Application Solutions Division, 101 Orchard Ridge Drive,Gaithersburg, Maryland 20878.andP;  Mr. Morris joined IBM in Cleveland, Ohio, in1954.andP;  The majority of his first 20 years were spent in hardware developmentin Endicott, New York, Raleigh, North Carolina, and Gaithersburg, Maryland.andO;In 1975, Mr. Morris was assigned to systems engineering and worked on avariety of government contracts.andP;  Most of these assignments involved customhardware development to interface between IBM and non-IBM products.andP;  In 1986he was assigned to the area that became the Image-Plus Systems Engineeringsupport group.andP;  Since then he has served as an Image-Plus architect andsystems engineer supporting both the host and workstation requirements.andP;  Mr.andO;Morris received his B.S.E.E.andP;  from Fenn College, now Cleveland StateUniversity, in Cleveland, Ohio, and his M.S.andP;  in management from AmericanUniversity in Washington, D.C.andM;Richard H. Orth IBM Application Solution Division, 6905 Rockledge Drive,Bethesada Maryland 20317.andP;  Mr. Orth is currently a senior development managerin the Image Solutions Development organization, where he is responsible forthe integration of FAX capabilities with the ImagePlus platforms.andP;  Hereceived a B.Eng.andP;  in mechanical engineering and metallurgy from StevensInstitute of Technology in 1962, and an M.S.andP;  in management from FloridaState University in 1968.andP;  Priors to joining IBM, he held technical andmanagement positions in the aeros, ace and financial services industries.andP;  Asa senior systems engineering in the Finance, Insurance, and Retail Systemsgroup of Federal systems Division, he initially worked on the design of adial-up X.25 communications network for an insurance customer.andP;  Subsequently,he worked on the design of the communications networks for the firstImagePlus MVS installation, and supported the marketing effort for theImagePlus midrange system.andP;  In 1988, he was named program manager for thesecond ImagePlus MVS installation, and in 1989 he assumed concurredresponsibility as program manager for the development of the first ImagePlusFAX Server prototype.andP;  He received a Systems Integration Division (SID)Outstanding Achievement Award in 1989 and was selected for SID's 1990 GoldenCircle event in recognition of his work on ImagePlus implementation.andO;</TEXT></DOC>