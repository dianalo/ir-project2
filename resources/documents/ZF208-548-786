<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF208-548-786  </DOCNO><DOCID>08 548 786.andM;</DOCID><JOURNAL>LAN Magazine  Nov 1989 v4 n11 p28(4)* Full Text COPYRIGHT Telecon Library Inc. 1989.andM;</JOURNAL><TITLE>Bob Muglia: SQL Server's head speaks his mind. (interview)</TITLE><AUTHOR>Greenfield, David.andM;</AUTHOR><SUMMARY>Bob Muglia, who headed the Microsoft Corp team that brought SQLServer to market, discusses the critical issues of database serverdevelopment, stored procedures and triggers, SQL Server,distributed databases and how they relate to database servers; andthe future of databases.andM;</SUMMARY><DESCRIPT>Topic:     InterviewData Base ServersStructured Query LanguageLocal Area NetworksData Bases.andO;Person:    Muglia, Bob (interviews).andM;</DESCRIPT><TEXT>Bob MugliaandM;The database server is at the cutting edge of LAN technology.andP;  It is anapplication that takes advantage of the LAN's distributed architecture,rather than merely coexisting with the LAN operating system.andP;  Traditionaldatabases use the file server model, in which the entire database isimplemented in each user's PC.andP;  Under the client-server model, a database isdivided into a front end and a back end.andP;  The back end resides on a powerfulmachine and is responsible for number crunching, data integrity, and securityissues.andP;  The front end resides on the user's PC and is largely responsiblefor displaying data and sending the user's queries to the back end.andM;Front ends often are, but do not have to be, a database.andP;  They can be, forexample, a spreadsheet, a document manager, or electronic mail.andP;  Today,however, database servers are in their infancy.andP;  Users are evaluating thetechnology and deciding how to integrate it into their corporate computingstrategy.andM;Microsoft (Redmond, Wash.) and Ashton-Tate (Torrance, calif.) used basetechnology from the minicomputer database veteran Sybase (Emeryville, Calif.)andO;to create a database server for OS/2 LAN Manager networks called SQL Server.andO;It is currently one of the most publicized database engines.andM;Bob Muglia headed the Microsoft team that brought SQL Server to market.andO;Here's what he has to say about SQL Server and the future of databases.andM;LAN Magazine: What are the critical issues of database server development?andM;Bob Muglia: First of all, it is hard.andP;  Today, a number of database serversare on the market.andP;  Gupta Technologies has one, Oracle has one, IBM has one,and obviously we have one.andP;  Most of these have been created by veterans;people who have done database work for a number of years.andM;In SQL Server's case, its main architect, Bob Epstein, developed the originalIngres Project at Berkeley.andP;  He also developed and directed the project atBritton Lee.andP;  [Editor's note: Sharebase, formerly Britton Lee, is alongstanding player in the minicomputer database server market.]  Both Ingresand Britton Lee are relational databases.andP;  SQL Server was Epstein's thirdrelational database.andP;  And again, that kind of experience is normal whenspeaking about database servers because they are that complicated.andM;A number of factors affect a database's performance.andP;  First, look at how thedatabase is written.andP;  The main question is whether or not it was built aroundthe client-server environment.andP;  Many databases were built for mainframes andare just now being ported to the client-server architecture.andP;  Since theseprograms were originally written as a single program, separating them isdifficult.andP;  Often the separation is anything but clean, making it difficultto develop front ends for the product.andM;A second consideration is how data is stored on disk.andP;  This determines howquickly the server can access the data.andP;  Most database server applicationsare disk-bound.andP;  Thus, well-organized data can greatly increase the system'sspeed.andP;  SQL Server, for example, has Clustered Index, which stores data inthe order it was retrieved.andP;  Normally, data appears to be storedsequentially.andP;  In reality, the data may be spread across the disk.andP;  Bystoring the data sequentially, the Clustered Index shortens the time toretrieve data.andM;You also have to be concerned with ensuring a database's referential andbusiness integrity.andP;  Mainframes used DB2 or something else running with aCOBOL front end.andP;  Data was always assessed through the COBOL application.andP;  Itdid not matter where integrity checks were done.andP;  They could have been donein the COBOL application just fine.andP;  Given that a mainframe was locked in aroom, the only way to access the data was through the COBOL application.andM;The database server is different.andP;  Along with other server manufacturers, weencourage the development of multiple front ends.andP;  There is no single frontend through which users access data.andP;  It makes no sense to write theintegrity rules into each application.andP;  A program written with Clipper isvery different from one using Paradox.andP;  It may not even be possible in 1-2-3to implement the rules.andM;Consequently, it is important for the server to enforce data integrity.andP;  Buthow?andP;  SQL Server is the only database server to use stored procedures andtriggers.andP;  By manipulating stored procedures and triggers, the user canconstruct rules for insuring referential and business integrity.andM;LAN: What are stored procedures and triggers?andM;Muglia: A stored procedure is a precompiled program stored in a database.andP;  Inaddition to SQL statements, a stored procedure uses our Transact-SQL.andO;Transact-SQL is a series of SQL extensions like IF-THEN-ELSE, WHILE, andPRINT to the SQL language.andM;A trigger is a special form of a stored procedure.andP;  It is associated with aparticular table.andP;  When the table is updated, inserted or deleted, thecorresponding trigger fires.andP;  Anything that can be done in a stored procedurecan be done in a trigger.andP;  You can check or modify other tables and evenrollback the transaction if certain issues are not met.andP;  The triggermaintains the temporary tables inserted and deleted, which explain why thetrigger fired.andM;By using these two mechanisms, database integrity can be maintained at theserver.andP;  A bank program, for example, uses a variety of rules to maintain itsaccounts.andP;  One rule governing checking accounts may require a five dollarminimum.andP;  That's a business rule, not an SQL or database rule.andP;  Other rulesapply to the structure of the database tables.andP;  You want, for example, toensure that customers with outstanding orders are not deleted.andP;  That is areferential integrity check.andM;LAN: Since these procedures and triggers are proprietary to your version ofSQL, is it true that a program written with Transact-SQL could not run on adifferent database engine?andM;Muglia: Correct, but every database engine has discrepancies.andP;  It is fallacythat a DB2 program will run on every other engine.andP;  The only exception is XDBSystems' XDB, which is a DB2 clone.andP;  All the others differ.andP;  A programwritten for one engine needs modifications to run on a different engine.andP;  Inall cases, a generic SQL program written to the bare minimum (ANSI I SQL) isportable among all databases.andM;LAN: How does invisible SQL differ from Transact-SQL?andM;Muglia: Transact-SQL is a series of SQL extensions.andP;  Invisible SQL isdifferent.andP;  Prior to the development of SQL, dBASE was, and still is,extremely popular among database programmers.andP;  Today, many companies arerunning databases written in dBASE.andP;  When we developed SQL Server,Ashton-Tate wanted to provide a migration path for these companies.andO;Invisible SQL is that path.andM;With invisible SQL, a dBASE application is mapped into SQL.andP;  Typical databaseapplication developers will find that their products will function withlittle or no changes.andP;  Then, over time, they may choose to make theirapplications more efficient by moving a larger percentage of the applicationinto explicit SQL.andM;LAN: So you'll be able to run your old dBASE program with SQL Server.andM;Muglia: Right.andM;LAN: Umang Gupta, the creator of SQLBase, a major competitor of SQL Server,contends that in three instances, efficient mapping between dBASE and SQL isimpossible--multitable joins, SQL's GROUP BY command, and SQL's use of nestedqueries.andP;  Is Gupta's contention true?andM;Muglia: To understand what Gupta is saying, you need to understand howdatabase applications access their data.andP;  Some front ends, such as dBASE, usea record-by-record approach.andP;  The dBASE programmer must programrecord-by-record access.andP;  Suppose you wanted to search a database for acustomer living in California, with dBASE you would say, 'OK, fetch therecord.andP;  Does the person live in California?andP;  If so display if, otherwiseskip and go to the next record.'andM;Other products, like Paradox, use a set approach.andP;  Instead of a loop, theuser asks for a query.andP;  the query is expressed in a familiar language, notSQL.andP;  Paradox uses Querly By Example (QBE).andP;  QBE looks much like a Lotus1-2-3 display.andP;  The user indicates STATE=CA and retrieves all records equalto CA.andM;Well, SQL is also set-oriented; it is a trivial mapping between Paradox's QBEand SQL.andP;  Similarly, 1-2-3 and Excel have database operations working in aset-oriented approach.andP;  A person selects a criteria written in the product'slanguage, which translates into a set of results.andP;  In fact, a year ago wedemonstrated a program running with Excel, mapped from Excel's criterialanguage to SQL using Excel's macro language.andM;When the programmer does not know SQL, front-end vendors such as Revelation,Paradox, and DataEase can use Transparent SQL.andP;  Transparent SQL maps directlyfrom the dBASE language into SQL.andP;  The programmer can still work in aparticular language such as dBASE and QBE.andP;  In set-oriented databases such as1-2-3, Paradox, or Revelation, the mapping is fairly straightforward.andM;The area that Umang is speaking about is when mapping between applicationsusing the record-by-record (that is, dBASE) and the set (that is, SQL)approaches.andP;  Some features found in dBASE are not found in SQL and viceversa.andP;  For example, indexing.andP;  In dBASE you can index on an expression.andP;  SQLdoes not express that directly.andP;  To map the two together, some work by theback end is required.andM;So Gupta is correct, because in some occasions it is difficult to map dBASEto SQL.andP;  However, his mistake is in seeing Transparent SQL as an end-allsolution.andP;  It is not; it is a migration path.andP;  Companies need to move intoSQL with the least pain.andP;  Transparent SQL provides that flexibility.andP;  TheirdBASE applications can be immediately run over SQL Server and then modifiedas the need arises.andP;  Sometimes the programs mapped to SQL will be veryefficient, other times they will be less efficient.andP;  The nice thing is thatthey will always work.andM;Distributed DatabasesandM;Lan: Distributed databases are a hot topic today.andP;  Yet, it seems everyone hastheir own definition.andP;  How do they relate to database servers?andM;Muglia: Database servers will evolve into distributed databases.andP;  In a trulytransparent distributed database environment, data can be distributed overmultiple machines.andP;  The data can be updated transparently and queried as ifcentrally located.andP;  As far as the application and users are concerned, youare connecting to a single, local database.andP;  That is beyond what mainstreamdatabase servers can do.andP;  SQL Server can do a distributed update.andP;  It doesnot have the ability to do a distributed query.andP;  Oracle, on the other hand,can do a distributed query but not a distributed update.andM;LAN: What are the problems involved with creating a distributed database?andM;Muglia: There are a couple problems.andP;  For example, you've used automaticteller machines (ATMs) like MAC, Cirrus, and Treasurer before, right?andP;  Well,suppose I'm writing a distributed program to handle an ATM.andP;  Remember now,this is a truly distributed application so the data by may reside across anynumber of machines.andP;  Imagine you go to an ATM and transfer $100 from yourchecking account which resides on one computer to your savings account whichresides on another computer.andP;  Simple, right?andP;  Just move the data between theaccounts.andP;  Well, what happens if in the middle of the transaction, thecomputer fails?andP;  You've withdrawn the money from one account but haven't beenable to deposit it in the other account.andP;  I promise you, you will not be veryhappy.andM;On today's system we have insured transaction integrity with the committransaction.andP;  But in a distributed environment you need a two-phase commitprotocol.andP;  The first phase sets up the transaction to either commit orrollback.andP;  The second phase does the transaction.andM;The problem is the timing.andP;  There is always a timing differential before thefirst and second phase.andP;  If the first phase is pulling the money out of thechecking account and the second phase is depositing it into the savingsaccount, what happens if the server crashes before the second phase iscompleted?andP;  The crash could happen in a fraction of a second.andM;With multiple transactions processed per second, a transaction is likely toget screwed up if the server crashes.andP;  A sophisticated recovery mechanism isneeded for a failure of a two-phase commit.andP;  The solution is to prevent thedowned server from entering onto the network until it synchronizes with thepending transactions.andM;SQL Server supports a two-phase commit but, in the first release, it is nottransparent to the client.andP;  Currently with SQL Server, the client issuescommands for establishing the transaction.andP;  However, the protocol isidentical with a transparent two-phase commit.andM;The next problem is the distributed query.andP;  When executing a distributedquery involving tables or separate machine, you need to account for tablesize, machine and network types, and network speed.andP;  The last thing you wantwhile joining a 100 record table with a one million record table is to movethe one million records across the network.andP;  You want to move the 100 recordtable.andM;It gets more complicated.andP;  If you have two 10,000 row tables, a slow network,and two machines (a mainframe and an OS/2 server), what do you do?andP;  Itwouldn't pay to overload the OS/2 machine.andM;Like distributed updates, some vendors have moved toward a distributed query.andO;Oracle, for example, does support  a distributed join.andP;  However, Oracle doesnot have a cost-based optimizer to do the join efficiently.andP;  With Oracle youcan end up moving a million records across the network.andP;  Thus, no one hasarrived at a complete solution.andM;The last point is about referential and business integrity.andP;  We talkedearlier about the necessity of constructing integrity checks into thedatabase server.andP;  In the distributed environment, it is even more importantthat the checks are included on the different database servers.andP;  Otherwisehow do you maintain a server's data integrity across the country when someoneanywhere can call up and use 1-2-3 to update that data?andP;  As in theclient-server architecture, you must have data integrity maintained on theserver.andM;Nobody in the distributed world supports transparent distributed updates andqueries using a cost-based optimizer and server-enforced integrity.andP;  Thesesolutions still need to be worked out.andM;Lan: What types of front ends do you think we'll see for the database?andM;Muglia: The trend will be towards graphic-oriented from ends, which will takeadvantage of Presentation Manager.andP;  You'll be able to store graphics in thedatabase as well.andM;I think you'll see more object-oriented technology.andP;  With object-orientedtechnology, programs are written oriented around data, not procedural code.andO;It allows programs and program segments to be reused easily.andP;  It's easy tobuild on the existing base of code.andP;  With graphic-oriented applications andobject-oriented technology, things are simplified.andM;Looking far ahead, there are all sorts of database models being talked about.andO;These include the object-oriented database, which extends beyond SQL andwhere SQL is today.andP;  However, the world has not caught up to full relationaltechnology.andP;  I think it will be a good five years before they take advantageobject-oriented technology.andM;Even if Microsoft had all of this in the product, could you use it?andP;  Peopleare struggling to figure out what we have now.andP;  Some are still using COBOLflat files.andP;  We have much to learn about relational technology that it willbe some time before we get to object-oriented programming.andM;LAN: If there was one area in SQL Server you would like to improve or change,what might that be?andM;Muglia: Let me just tell you the direction we are heading.andP;  We are increasingour distributed capabilities.andP;  You will be able to perform a distributed joinand a transparent distributed update.andP;  Sysbase has good technology in thisarea.andP;  The next release of SQL Server will allow you to call a storedprocedure on a remote machine.andM;The second area of change is the ability to extend beyond the database world.andO;Until now databases have just answered questions from programmers.andP;  In thenext SQL Server release, we will maintain a library of programs to interfacewith SQL Server.andP;  Instead of calling a stored procedure on another SQLServer, you could call a subroutine written in a different language thatmight implement an electronic mail or printing application.andM;LAN: When do you expect the next version of SQL Server to be released?andM;Muglia: Early 1990.andP;  And then you will see things like full internationalsupport.andP;  That was the one feature I wanted in the first release.andP;  With fullinternational support, we'll be able to handle all sorting and collatingsequences.andP;  In addition, you can expect to see DB2 support and diskmirroring.andP;  The next release is fairly major.andO;</TEXT></DOC>