<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-486-496  </DOCNO><DOCID>07 486 496.andM;</DOCID><JOURNAL>Data Based Advisor  August 1989 v7 n8 p88(5)* Full Text COPYRIGHT Data Based Solutions 1989.andM;</JOURNAL><TITLE>Step IVward does the moon walk. (Software Review) (Ashton-Tate'sdatabase translation software) (evaluation)</TITLE><AUTHOR>Schnapp, Marc.andM;</AUTHOR><SUMMARY>Ashton-Tate Corp's $49.95 Step IVward is a useful software packagefor performing most of the routine processes in the conversion ofClipper, FoxBASE+, and Quicksilver database applications to dBASEIV, but the user will still have to spend hours rewriting theconverted code to enable the application to function properly indBASE.andP;  The greater value of Step IVward may be as a trainingsystem for dBASE IV developers.andP;  The package features a pull-downmenu interface, files that simulate features of the competing database management system (DBMS) environments, but little direct userintervention in the code analysis, indentation, and conversionprocess.andP;  The major problem, as demonstrated in three conversiontest examples, is the inability to adequately convert manyuser-defined functions.andM;</SUMMARY><DESCRIPT>Ticker:    TATE.andO;Product:   Step IVward (Utility program).andO;Topic:     Code ConversionSoftware PackagesRelational DBMSEvaluationSystem DesignCompatible SoftwareData Base Restructuring.andO;Feature:   illustrationprogram.andO;Caption:   Function call and UDF before Step IVward. (program)Function call and UDF after Step IVward with comments. (program)Quicksilver AUTOMEM: calls before and after. (program)andM;</DESCRIPT><TEXT>Step IVward Does the Moon WalkandM;Porting an application isn't any fun.andP;  You've got to compile a list ofincompatibilities and conflicts, anticipate the gray areas, and decidewhether to optimize the code for the new environment.andP;  It's drudgery, plainand simple.andM;Ashton-Tate's Step IVward is designed to help port applications from Clipper,FoxBASE+, and Quicksilver to dBASE IV by doing the most routine aspects ofthe conversion.andP;  It ambles into this territory with less grace than a ballettroupe but more precision than a jackhammer.andP;  But don't fool yourself--whenStep IVward has finished its tasks, your labors have just begun.andM;Once you've transferred the code into the netherworld of dBASE IV, expect tostumble around a lot.andP;  Code that in theory should work generates mystifyingerros.andP;  Murphy's Law dictates that the errors be undocumented.andP;  You'll haveto decode these enigmas and address the underlying problems.andP;  It takes a tollon your morale--but forge ahead if you must.andM;Putting on a friendly faceandM;The Step IVward menu system is straightforward, with pull-down just likeFramework and dBASE IV (See Fig.andP;  1).andP;  You can make choices using the firstletter of each menu option.andP;  There are five menus: Setup, Options, Print,Translate, and Exit.andP;  The Setup menu allows you to insert a copyright noticeand your name into the converted files.andP;  This is also where you can indicatethe input and output file names.andP;  The Translate menu is where you indicatethe dialect to convert from and, most importantly, where you start theconversion process.andM;KeystrokesandM;Once Step IVward starts chewing on your code, the screen is taken over by thescrolling code.andP;  There aren't any onscreen prompts to help you if you want tocancel the processing, and Esc doesn't work.andP;  A hearty Ctrl-C pulled theplug, and I was relieved when the prompt appeared, asking me to press a keyto continue.andM;Using Step IVwardandM;Once you start the translation process, Step IVward opens a file that holdsthe various messages and chronicles the changes made to your programs.andP;  Thenit analyzes, indents, and changes your code.andP;  While it's doing this, StepsIVward includes line numbers and graphic characters that identify the nestingof control structures (Fig.andP;  2).andP;  The view of the code should remind you ofmany more full-fleged dBASE documentation utilities.andP;  If you direct hisoutput to a printer or to another  disk file, you can save thesedocumentation aids.andP;  What Step IVward gives you won't rival products like TheDocumentor, Scan-A- Lyzer, or fine shareware products like Snap! and dCode.andO;Buzzwords International clearly used its experience writing dAnalyst as thebasis for this product.andP;   (Step IVward was developed by Buzzwords but isbeing marketed by Ashton-Tate.)andM;Step IVward has several quirks.andP;  It assumes you want the input and outputfiles to have the same name.andP;  I don't know about you, but I'm leery aboutmodifying the original file (or even a copy with the same file name).andP;  I liketo compare the pre- and post-conversion code.andP;  You're free to override thisdefault by giving Step IVward a unique output file name.andP;  Why it doesn'tadopt the approach pioneered by Quickcode (a product from the now defunctfirm of Fox andamp; Geller) is beyond me.andP;  You could configure Quickcode to usedistinct file extensions for the input and output files.andP;  So, if you enterBUDGET.PRG, Quickcode could output BUDGET.NEW.andP;  Not a revolutionary concept,but it works.andM;The story gets even more absurd--if you accept the Step IVward defaults.andP;  Notonly will the input and output files have the same anme, but Step IVwardwon't put the changes into the file.andP;  That's right, folks.andP;  The productgrinds away analyzing UDFs and arrays, indenting and commenting the code.andO;And the screens look earnest enough--until you examine the code in yourfavorite text editor.andP;  You'll find yourself looking at an untouched PRG file.andM;Step IVward generates a separate log file of warnings and changes while ittransforms your application, but the implementation is lazy.andP;  The warningfile name is hard-coded (WARNING.TXT), and its always written to thedirectory containing Step IVward.andP;  If you want the log file in a differentdirectory (maybe along with your source code), you have to put Step IVwardthere as well.andP;  The manual suggests you do just that (you can also includeStep IVward in your DOS path).andP;  You can't append warnings to an existingwarning file.andM;When you begin translating your code, you'll be asked if it's okay tooverwrite the existing file.andP;  If you answer no, the process is aborted.andP;  Ipropose that they expand the options menu to let the user specify the logfile name and path with a way to append to that log file.andP;  This would allowusers to process several PRG files separately and retain records for all ofthem.andM;On the sensible side of the scale, Step IVward can navigate the entire treeof programs.andP;  Just supply the highest level program as the input file, andStep IVward goes through all the routines flagged with DO and SET PROCEDURETO.andP;  Messages are appropriate though sometimes ungrammatical, such as&quot;Warning: UDF contains not allowed commands or macros--converted toprocedure.&quot;andP;  There were times I wished that Step IVward had been morespecific about what the &quot;not allowed&quot; features were, but you can always trackthose down by looking for comments in the UDF and referring to the user'smanual.andM;VCFs (Vendor-Constrained Functions)andM;The biggest frustration comes when you want to transport existinguser-defined functions (UDFs) as part of your application.andP;  The problem is indBASE IV's design limitations.andP;  Step IVward is just the messenger deliveringthe bad news.andP;  You can't do very much with a dBASE IV IDF.andP;  Among theprohibited activities are: macro expansion, file I/O (including, but notlimited to, USE, APPEND, EDIT, COPY, BROWSE, SEEK, and INDEX), and proceduresbound to keys, windows, and menus.andM;Many developers commonly use at least one of these features in their UDFs.andO;Step IVward does the best it can within dBASE IV's limitations.andP;  The firsttime it scans your code, Step IVward evaluates your UDFs and arrays.andP;  At thisstage, it identifies the offending commands within your IDFs.andP;  Step IVwardthen makes another pass through your code and generates a dBASE IV version ofeverything.andP;  The output file includes a very general notation whenever theinput file includes problems, incompatibilities or gray areas.andM;Because UDFs are a problem, Step IVward treats them differently.andP;  Calls tononconforming IDFs in your programs are commented out.andP;  They're replaced withprocedure calls and flagged.andP;  The UDFs are also flagged.andP;  &quot;Function call andUDF before (Clipper).&quot;andP;  Functions are designed to return values, so StepIVward accommodates that logic.andP;  For each UDF turned procedure, a dummyreturn variable is initialized before the procedure call.andP;  A variableinitialized at a higher level (and not declared PRIVATE) is available toroutines below it and can be changed at the lower level.andP;  At the conclusionof the called procedure, a return value is stored to that dummy variable.andO;The new value is available to the calling procedure as if the UDF hadexecuted.andM;A ladder up the tower of BabelandM;Ashton-Tate supplies several files to simulate their competitors' features.andO;If one of these makes your conversion effort easier, it'll justify thepurchase.andP;  These come in the form of dBASE code (PRGs) and binary load files(BINs).andP;  BIN files emulate the Clipper low-level I/O functions FOPEN(),FCREATE(), FCLOSE(), FREAD, FSEEK(), and FWRITE().andP;  If you're a dBASE IVdeveloper, get hold of Step IVward for the CURSOR.BIN file that lets you setthe cursor on and off--something everyone else has been doing for more than ayear.andP;  Taking a page from FoxBASE+, the TMPNAME.BIN gives you uniquetemporary file names on the fly.andM;Other goodies are loadable routines that determine the current directory anddrive and scroll data on the screen.andP;  The source code replicates theQuicksilver BITSET(), HTOI(), ITOH(), SINKEY(), and CENTER() functions andClipper's DBEIT(), ADIR(), and ASORT().andP;  While dBASE IV lacks the rich set oftools provided by Fox BASE+'s SYS() family, its SYS.PRG makes a noble attemptat echoing this capability.andM;Although Step IVward properly inserts calls to BIN files, it neglects toinclude the LOAD command.andP;  When you try to execute programs with calls to BINfiles, dBASE IV aborts.andP;  This oversight is relatively easy to workaround--just put the LOAD command in manually.andM;TestsandM;I torture-tested Step IVward with three working applications, one each forClipper, FoxBASE+, and Quicksilver.andP;  The latter two systems were supplied byPat Adams and Marshall Ewig of the International Dbase Users Group.andP;  Icreated the Clipper application.andP;  Despite the varied authorship, each ofthese contained non-compatible UDFs.andM;ClipperandM;Unlike Clipper, dBASE IV requires a fixed number of parameters for everyroutine.andP;  Step IVward adds null values, filling out the parameter list in thecalling routine, and disables any PCOUNT() test you may have included in thatmodule.andM;Like Lenny in Of Mice and Men, Step IVward can mangle your code, though itdoesn't intend any harm.andP;  Clipper's modulus operator (%) has no equal indBASE IV, so Step IVward replaces that with a MOD() function.andP;  But if the %appears in a control structure, funny things can happen.andM;Modulus operator before IF mvar%5=0 DO andless;routineandgt; ENDIFandM;Modulus operator after IF MOD (mvar,5=0) DO andless;routineandgt; ENDIFandM;However, Step IVward did improve the appearance of a Clipper menu (Fig.andP;  4).andM;FoxBASE+andM;A t wo-line REPLACE command was subjected to the Steinbeck treatment, and thesecond line was lost in the output file.andP;  Step IVward was confused byFoxBASE+'s halfhearted UDFs and mangled RETURN TO MASTER (converted tos4_ret005 =TO) when it appeared in a UDF.andP;  The code for the menus in Fig.andP;  4shows what Step IVward can do with FoxBASE+ code.andM;QuicksilverandM;The elegant AUTOMEM features were addressed by Step IVward with workable,though less elegant code.andP;  Before I ran this test, I figured it would be asnap--the windowing in Quicksilver would naturally map to dBASE IV.andP;  I wasonly half right.andP;  Step IVward has a methodology that sounds good on paper.andO;According to the manual, &quot;Step IVward translates Quicksilver windowingcommands by building an array to maintain the window names and select areas.&quot;andO;The translated code did include array manipulation where WSELECT and WUSEcommands once appeared, but dBASE IV complained bitterly that arrays hadn'tbeen declared or that windows weren't defined.andP;  Quicksilver AUTOMEM Quicksilver AUTOMEM calls before  calls after IF partrec  IF partrec SELECT 2SELECT 2 STORE AUTOMEM  s4_index = 1 1trdate = lastdate  DO WHILE LEN (FIELD(s4_indes) andgt; 0 ELSE  s4_temp = FIELD (s4_index) CLEAR AUTOMEM  STORE andamp;s4_tempTO m-andgt;andamp;s4_temp 1trdate = lastdate  s4_index = s4_index + 1 ENDIF  ENDDO1trdate = lastdate ELSE s4_rec = 0 IF .NOT.andP;  EOF() s4_rec = RECNO() GOTOBOTTOM SKIP ENDIF s4_index = 1 DO WHILE LEN (FIELD (s4_index)) andgt; 0 s4_temp =FIELD (s4_index) STORE andamp;s4_temp TO m-andgt;andamp;s4_temp s4_index = s4_index + 1 ENDDOIF s4_rec andgt; 0 GOTO s4_rec ENDIF 1trdate = lastdate ENDIFandM;You be the judgeandM;Step IVward is a useful, if less than stunning, tool--if you absolutely mustconvert your application to dBASE IV.andP;  If your needs aren't time critical,Step IVward can give you a leisurely introduction to dBASE UV syntax.andM;But don't use Step IVward if you haven't already mastered another dBASEdialect.andP;  Clipper, FoxBASE+, and Quicksilver users will find Step IVward'smanual a lengthy documentation in implementing the differences between theirproducts and Ashton-Tate's database manager.andP;  This constitutes the lion'sshare of the book.andP;  I give Ashton-Tate credit for their strategy--they layout the major discrepancies in black and white.andP;  Commands that you'refamiliar with in your favorite product are mapped to their dBASE IVequivalents (or a warning is added where equivalents don't exist).andM;Step IVward is a training wheel for budding dBASE IV developers--and that'sits strongest recommendation.andP;  Once you ran the code from your existingsystems through the StepIVward hopper, you'll have a good feel for how dBASEIV departs from the dBASE language capabilities you've come to know if notlove.andP;  If you're evaluating the efficacy of dBASE IV, Step IVward (thesoftware and manual) will help you come to a decision.andM;Step IVward does a reasonable job of analyzing your code and creatingprograms ready for your attention--you will have to intervene.andP;  Any codetranslator can make one-for-one substitutions--new commands for old--thebetter ones make intelligent changes for you.andP;  Step IVward is not a miracleproduct.andP;  You should expect to spend many hours reworking the code itconverts.andP;  Not all the program logic will be acceptable straight from thetranslator and even uncommented sections of your code may benefit from theadjustments.andP;  Although it's a small and unassuming utility, it has roughedges everywhere.andP;  If you're contemplating moving an existing application todBASE IV, take a deep breath, and then, if you must.andP;  Step IVward with careand watch where you step.andM;Step IVward costs $49.95 and is available from AshtonTate, 20101 HamiltonAve., Torrance, Calif.andP;  90502, phone (213) 329-8000.andM;Marc Schnapp operates Micro Business Services, Inc., a Queens, New York firmengaged in applications development, training, and technical writing.andP;  Heintroduces new user and developers to the nuances of Clipper, FoxBASE+/Mac,dBASE IV, and Framework III.andP;  Marc founded the NY Metro Clipper User Groupand was elected president of the Professional Association of DatabaseDevelopers.andO;</TEXT></DOC>