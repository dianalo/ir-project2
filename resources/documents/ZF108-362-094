<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF108-362-094  </DOCNO><DOCID>08 362 094.andM;</DOCID><JOURNAL>Systems Integration  April 1990 v23 n4 p23(1)* Full Text COPYRIGHT Cahners Publishing Co. 1990.andM;</JOURNAL><TITLE>UNIX directory tree revamped.andO;</TITLE><AUTHOR>Padovano, Michael.andM;</AUTHOR><SUMMARY>The directory tree in the latest versions of SunOS and UNIX SystemV has been restructured, making it easier to share files innetworks.andP;  A number of files have been moved and new filescreated.andP;  All of the old locations are symbolically linked to thenew locations to ensure compatibility.andP;  Files are partitioned into'private', non-sharable files; sharable, architecture-dependentfiles; and sharable, architecture-independent files.andP;  There arefive file systems: root, /usr, /stand, /var, and /home.andP;  Examplesare provided of how the symbolic linking works.andM;</SUMMARY><DESCRIPT>Topic:     Operating SystemsUNIXProgramming Instruction.andM;</DESCRIPT><TEXT>UNIX directory tree revampedandM;When you integrate the latest SunOS and UNIX System V into your systems,you'll find the directory tree ain't what it used to be.andP;  Many files anddirectories have been moved, and new directories have been created.andM;The restructuring makes file sharing easier in networks, particularlynetworks containing diskless workstations.andP;  It partitions UNIX System filesinto &quot;sharable&quot; and &quot;non-sharable&quot; sets, categorized as follows:andM;* &quot;Private&quot; files (i.e.andP;  files that should not be shared among machines);andM;* Architecture-dependent sharable files;andM;* Architecture-independent sharable files.andM;Sun Microsystems originated this idea for its SunOS 4.0 version of the UNIXOperating System, and ATandamp;T followed suit in its UNIX System V Release 4.0.andO;Since the Network File System (NFS) shares files on a file-system basis, thesets are partitioned on a file-system basis.andM;The new structuresandM;Under the new arrangement, there are five file systems: root, /usr, /stand,/var, and /home.andM;The root file system contains machine private files.andP;  Two familiardirectories, /bin and /lib, have both been removed, and their contents movedto /usr/bin and /usr/lib, respectively.andP;  And, the system contains several new(or modified) directories:andM;* /etc, which contains configuration files (the passwd file, configurationfiles for cron, uucp, etc.).andP;  No executable files that can be invokeddirectly by a user are in this directory.andM;* /sbin, which contains the minimal set of executable files needed to get the/usr file system mounted (i.e.andP;  fsck, mount, etc.).andM;* /export, which contains the root file system of diskless workstations; thisdirectory is not used in any environment lacking diskless workstations.andM;The /usr file system contains machine architecture-dependent and machinearchitecture-independent sharable files.andP;  There is nothing machine-specificin this file system, including home directories and /usr/tmp.andP;  In fact, the/usr file system can be mounted read-only.andP;  The /usr file system has severalnew directories of interest:andM;* /usr/sbin contains all of the administrative commands.andP;  Even the commandsin /sbin have exact copies here so diskless clients can access them.andM;* /usr/share contains the architecture-independent sharable files.andP;  Manualpages, sharable read-only databases and other such files are found here.andM;* /usr/ucb contains commands from the University of California, Berkeley.andO;The parallel directories /usr/ucbinclude and /usr/ucblib are also present.andM;The /stand file system contains the &quot;boot&quot; file system, which is independentof the new directory-tree layout.andM;The /var file system contains machine-specific files, which vary in size fromtime to time.andP;  Log files, the /usr/news, /usr/mail and /usr/spooldirectories, along with accounting files have been moved here.andP;  This filesystem's directories include the following:andM;* /var/cron, which contains log files used by the cron facility;andM;* /var/news, formerly /usr/news;andM;* /var/mail, formerly /usr/mail;andM;* /var/spool, formerly /usr/spool;andM;* /var/uucp, which contains log files used by the uucp facility;andM;* /var/tmp, formerly /usr/tmp.andM;The /home file system contains the home directories of users on the system.andO;As a whole, /home is not sharable, although it can be shared if theadministrator chooses to do so.andM;How do you find things?andM;For compatibility, all of the old locations will be symbolically linked tothe new locations.andP;  If a directory has moved, then the entire directory issymbolically linked to the new location (i.e.andP;  /bin is symbolically linked to/usr/bin, /lib is symbolically linked to /usr/lib, /usr/tmp is symbolicallylinked to /var/tmp, etc.).andM;If a command exists in both /sbin and in /usr/sbin, then the old location issymbolically linked to the executable in /sbin.andM;The new directory-tree layout causes several problems to existingapplications.andP;  Example: Since /bin is symbolically linked to /usr/bin, a PATHvariable that contains both /bin and /usr/bin will cause /usr/bin to besearched twice.andP;  This slows down search time if an executable is not in/usr/bin.andM;Currently, many application developers place all files associated with anapplication in a single directory.andP;  In the new layout, developers will haveto distribute the application's log files to /var, the executable files to/usr/bin and the configuration files to /etc.andM;Even though old locations are symbolically linked to new ones, someapplications will not work if the old tree is assumed.andM;Example: A problem arises because /usr/tmp is no longer on the /usr filesystem (it is symbolically linked to /var/tmp).andP;  If a file in the /usr filesystem is moved to /usr/tmp, it will cause a move across file systems(causing the move to fail in certain situations).andM;Because the semantics of symbolic links are different than those ofdirectories, some operations on symbolically linked directories will not workas they did on ordinary directories (i.e.andP;  ls-l /bin will not produce thesame output as it did in previous releases).andP;  Similar problems arise with &quot;cd..&quot; and using ed on a symbolic link (since ed destroys symbolic links).andO;Users and application developers must be aware of the new layout to avoidproblems.andM;In an environment with diskless workstations using NFS to obtain file space,the administrator can now share /usr among diskless clients and not worryabout the client modifying log and spool files.andP;  The new layout is alsowell-structured in that it clearly defines which file systems contain whichtypes of files.andM;Michael Padovano is a UNIX system engineer at ATandamp;T Bell Laboratories inSummit, N.J., with an M.S.andP;  in computer science from the University ofWaterloo.andP;  He teaches at Rutgers University and Montclair (N.J.) StateCollege.andO;</TEXT></DOC>