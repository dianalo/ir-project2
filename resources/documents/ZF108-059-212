<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF108-059-212  </DOCNO><DOCID>08 059 212.andM;</DOCID><JOURNAL>PC Magazine  Jan 30 1990 v9 n2 p295(4)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1990.andM;</JOURNAL><TITLE>Environments: a follow-up on font technology for the PresentationManager.andO;</TITLE><AUTHOR>Petzold, Charles.andM;</AUTHOR><SUMMARY>Microsoft issued two important announcements at the SeyboldComputer Publishing Conference in Sep 89 that will affect futurefont technology for Presentation Manager.andP;  The GraphicsProgramming Interface (GPI) portion of Presentation Managersupports both raster and vector font formats.andP;  Only the vectorformat offers actual WYSIWYG images in desktop publishing and wordprocessing.andP;  Vector has two major problems with legibility andperformance.andP;  The performance problem is eased somewhat with fontcaching, which means that once a character is rastorized it issaved for future display.andP;  The problem with legibility is moredifficult.andP;  GPI needs intelligent scaling.andP;  What Microsoftannounced was that it had signed an agreement with Apple, whichhad created an intelligent font-scaling technology for theMacintosh, code-named Royal.andP;  Royal will also be part ofPresentation Manager.andM;</SUMMARY><DESCRIPT>Product:   OS/2 Presentation Manager (Graphical user interface) (computerprograms).andO;Topic:     OS-2Graphics SoftwareProgramming.andM;</DESCRIPT><TEXT>Environments The three-month lapse between the time I write these columns andthe time you read them is a long time in this industry.andP;  And try as I do tostay ahead of events, they sometimes overtake me.andM;The Environments columns in our October 17 and October 31, 1989, issues are acase in point.andP;  When I wrote those columns in July, Microsoft had notofficially acknowledged or addressed may problems with rendering text onvideo displays and printers under the OS/2 Presentation Manager.andP;  At theSeybold Computer Publishing Conference in September, however, Microsoft madetwo major announcements that affect the future fonts of the PresentationManager.andM;A QUICK BACKGROUNDERandM;The Graphics Programming Interface (GPI) component of the PresentationManager supports two very different font formats.andP;  With the raster (or image)format, each character in a font is defined by a small bitmap; and with thevector (or outline) format, each character is defined by a series of linesand curves that the GPI fills when it displays the character.andM;Vector fonts are much more versatile than raster fonts.andP;  They can be scaledto any size and used on any output device (video display or printer) of anyresolution.andP;  Raster fonts, by contrast, are limited to one size and onedisplay resolution.andP;  Only with vector fonts can we begin to realize trueWYSIWYG (&quot;what you see is what you get&quot;) in PM word processing and desktoppublishing programs.andM;Currently, however, vector fonts have two major problems: performance andlegibility.andP;  The performance problem results from the lenghty processing step(sometimes called &quot;rasterization&quot;) required to convert an outline into adisplayable character.andP;  This problem can be somewhat alleviated by using atechnique called &quot;font caching.&quot;andP;  With font caching, once a character israsterized it is saved in a cache for future display.andM;The legibility problem is more difficult.andP;  Each character in a vector font isdefined by a series of lines and curves based on an arbitrary coordinatesystem.andP;  When scaling the font to a desired size and device resolution, GPImust adjust each coordinate point.andP;  It's unlikely that the resultingcoordinate points will coincide exactly with the pixels of the output device.andO;This causes rounding errors that can make the characters nearly unreadable atthe normal font sizes on common video displays, such as the VGA.andP;  The problemis much less serious on laser printers, but it still exists.andM;What the GPI desperately needs in intelligent scaling.andP;  The vector font mustconsist of more than a collection of lines and curves: it must include a setof &quot;hints&quot; (specialized algorithms) that ensure that the scaled coordinatepoints coincide with pixels in a consistent manner that preserves fidelity tothe original font design.andM;Intelligent font-scaling technology already exists.andP;  Adobe has used it foryears in PostScript, and other font manufacturers (for example, Bitstream andAgfa/Compugraphics) have developed their own &quot;hinted&quot; vector fonts, as well.andM;TWO PROBLEMS: TWO SOLUTIONSandM;Back in July, the betting in the industry was that Microsoft would shortlyannounce an &quot;installable font&quot; specification for the Presentation Manager.andO;This would have allowed font manufacturers to sell PM font files thatincluded intelligent scaling algorithms.andP;  Thus, each font manufacturer couldhandle intelligent scaling in its own way.andP;  It seemed to me an ideal solutionthat favored no single font manufacturer.andM;What Microsoft actually announced at Seybold, however, was not the predictedinstallable font specification.andP;  Instead, Microsoft revealed that it hadstruck a very interesting deal with Apply, which had designed an intelligentfont-scaling technology for its forthcoming Macintosh System 7 operatingsystem.andP;  This technology (code-named &quot;Royal&quot;) will now be made part of thePresentation Manager, as well.andM;Nor was that all.andP;  Not content with a single solution to the font problem,Microsoft presented a second, as well, announcing that a differentintelligent font-scaling technology (specifically, Compugraphics'Intellifont) would be made part of a future version of the PresentationManager printer driver for the Hewlett-Pack LaserJet.andM;Why two different solutions?andP;  Because there are two problems.andP;  Once youidentify them it becomes fairly obvious why each requires a differentsolution.andP;  At the Seybold Conference, the Microsoft-Apple deal greatlyovershadowed the news about the LaserJet printer driver.andP;  Here, however, Ithink the dual-solution approach will make more sense if I discuss theprinter driver issue first.andM;FONTS AND LASER PRINTERSandM;In recent years, two companies have set the standards for laser printers:Adobe (the creator of the page description language known as PostScript) andHewlett-Packard (manufacturer of the popular LaserJet series, which uses aprinter control language known as PCL).andM;PostScript printers nowadays usually come with 35 built-in, scalable fonts.andO;Adobe also sells over 500 downloadable fonts for PostScript printers.andP;  Forthe LaserJet, font cartridges and downloadable fonts from a wide variety ofvendors are available to supplement its built-in fonts.andM;Many PC users have made a considerable investment in laser printers, eitherdirectly by buying LaserJet font cartridges and downloadable fonts, and/orindirectly by paying Adobe for the use of PostScript.andP;  Owners of theseprinters naturally want their PM programs to use the fonts that are availableon their printers.andP;  In the graphical world of the PM, word processingprograms, drawing programs, and desktop publishing programs will all need toshow on the video display what a document will look like when it is printed.andM;So, the first problem Microsoft had to solve is this: how can thePresentation Manager provide screen fonts that correspond to fonts that areavailable on the printer?andP;  And how can this be done in a manner that istransparent to both the user and to the application program?andM;To answer these questions, let's take a look at the piece of PresentationManager software that knows the most about a particular printer: the printerdriver.andM;THE PRINTER DRIVERandM;Each printer that can be used from the Presentation Manager must have aprinter driver, which is actually a dynamic link library with the filenameextension .DRV.andP;  The printer driver is principally responsible fortranslating GPI drawing commands into a protocol that the particular printercan understand.andP;  All the code specific to a particular printer isencapsulated in the printer driver.andM;When you configure a printer from the Control Panel in OS/2 1.1 or from thePrint Manager in OS/2 1.2, the printer driver displays one or more dialogboxes that let you tell it about your printer.andM;For example, you have to tell the PostScript printer driver which specificprinter you have, since different PostScript printers have different fonts.andO;The printer driver knows what fonts are available on each PostSCript printerthat it supports.andP;  The driver also knows the &quot;metrics&quot; (for example, thecharacter widths) for each of these fonts.andP;  When you configure a LaserJet,you tell the printer driver what font cartridge you're using.andP;  The printerdriver knows about the fonts that are available on each cartridge.andP;  Printerdrivers can also be made responsible for downloading software fonts to theprinter, so they know about these fonts also.andM;All this information is available to Presentation Manager applications.andP;  A PMprogram can determine the fonts available on a particular printer and themetrics of these fonts.andP;  This is fine for using the fonts on the printer, butwhat if the program also wants to use these same fonts on the video display?andO;Where will the matching screen fonts come from?andM;The printer driver knows the printer more intimately than any other softwarein the system.andP;  It makes sense, therefore, to make the printer driverresponsible for creating screen fonts that duplicate the fonts available onthe printer.andM;This is the basis, then, of Microsoft's first solution to the font problem.andO;The Presentation Manager will allow printer drivers to make avaulablevector-based screen fonts that duplicate printer fonts.andP;  Specifically,Microsoft will work with Hewlett-Packard to create a new printer driver forthe LaserJet that will do this.andP;  In the same vein, Microsoft has alsoexpressed an interest in working with Adobe to create a new PostScript driverthat generates screen fonts that duplicate PostScript printer fonts.andP;  Howthese fonts are actually generated by the printer driver will be the concernof the driver, not of the PM.andM;To recap, then, the first problem involves obtaining screen fonts thatduplicate existing printer fonts.andP;  The solution is to let the printer drivergenerate these fonts for the Presentation Manager.andM;BEYOND PRINTER FONTSandM;The second problem is this: How do we get Presentation Manager screen andprinter fonts that go beyond what is available on the printer itself?andM;For this solution, Microsoft went to Apple.andP;  Apple had been developing anintelligent vector font-scaling technology known internally as &quot;Royal.&quot;andO;(I'll keep calling it Royal, even though the system may eventually be given adifferent name.)andP;  Royal is slated for inclusion in the Macintosh System 7,which is expected sometime in 1990.andP;  The deal between Microsoft and Appleallows Microsoft to include this technology in a future version of thePresentation Manager.andM;From everything I've heard, Royal is hot stuff.andP;  It is actually a programminglanguage designed for intelligent vector font scaling.andP;  Apple worked withmany font manufacturers to determine which algorithms and programmingcapabilities they needed to do their jobs.andP;  Royal includes everything thatanybody needs and even a little more.andP;  Thus, it should be fairly easy forfont manufacturers to create fonts in the Royal format.andM;Moreover, Royal fonts for the Macintosh will be basically the same as Royalfonts for the Presentation Manager.andP;  (The main difference involves Apple'suse of a single 256-character set and the Presentation Manager's use ofmultiple codepages, each of which uses 256 characters selected from a largercharacter set.)andM;Achieving font compatibility between the PM and the Mac creates an instant defacto standard.andP;  Font manufacturers can be assured of two markets when theycreate fonts in the Royal format.andP;  The result?andP;  We're going to be up to oureyeballs in third-party Royal fonts--and we'll love every minute of it!andM;When the Royal technology is first implemented in the Presentation Manager,it will probably include 14 standard fonts: Courier, Helvetica, and TimesRoman in normal, bold, italic, and bold italic versions, plus a symbol fontand a dingbat font.andP;  (Dingbats are the little asterisks and bullets and otherdesigns commonly used to dress up documents.)andP;  It's likely that Apple willinclude the same fonts in System 7.andP;  This means that any documents that usesthese 14 standard fonts will be interchangeable between the Mac and PM.andM;These fonts can be used on all graphics output devices (video displays, laserprinters, dot matrix printers, and plotters) that the Presentation Managersupports.andP;  They will probably not be as fast as the printer's built-in fonts,but that's a tradeoff we may have to learn to live with.andM;DUMB PRINTERSandM;The inclusion of sophisticated vector font technology in the PresentationManager may also open up a market for another type of hardware: the dumblaser printer.andM;Why do we need fonts built into our laser printers if we have fonts in theRoyal format stored on our hard disks and usable by any Presentation Managerprogram on any graphics output device?andP;  Why do we need intelligent printersthat understand incompatible programming languages and control codes?andP;  Itshould be possible for a printer driver to perform an entire printer pageimaging operation entirely in the PC.andP;  This involves creating a large bitmap(about 1MB for an 8-1/2-by 11-inch page on a 300-dot-per-inch laser printer),drawing everything on this bitmap, and then sending it out to the printer.andM;Indeed, this is what is done in the NeXT machine.andP;  The NeXT laser printer ischeap because it doesn't have to do anything except print a page that hasalready been composed by the computer.andM;Of course, we'll probably want a high-speed link between the PC and printerso that megabyte bitmap can be transferred quickly.andP;  But imagine a laserprinter without lots of software and fonts in ROM, no font cartridges, noteven an on/off switch.andP;  Such a machine could easily have a list price under$1,000.andM;DEVICE INDEPENDENCE IMPLICATIONSandM;Every move away from built-in printer fonts towards GPI software fonts meansgetting that much closer to the goal of device independence.andM;Fonts have always been a major problem in device-independent graphics.andO;Raster fonts are device-dependent because they must be designed for theparticular resolution of an output device.andP;  Using built-in fonts isdevice-dependent because different printers support different fonts.andM;For example, suppose you create a document in a desktop publishing program.andO;Before you begin, you must select a destination printer.andP;  You pick aPostScript printer.andP;  The program lets you use PostScript fonts in thedocument, and it will use the PostScript font metric information to calculateline breaks and spacing.andM;Now you gie that document file to somebody with a LaserJet.andP;  A problemarises.andP;  The program has to substitute LaserJet fonts for the PostScriptfonts (either by itself or with your assistance), and it must thenrecalculate all of the line breaks--perhaps disturbing crucial elements ofthe document layout in the process.andM;Now suppose you create a document that uses only Royal fonts.andP;  It doesn'tmatter what the destination priter is because the same Royal fonts are usedregardless of the printer.andP;  You could even give the document to someone whohas the equivalent desktop publishing program running on a Macintosh withSystem 7.andM;Getting a good standard vector font technology into the graphics system ofthe Presentation Manager and the Macintosh will finally give us a way todisplay the same text and graphics on any video display and any graphicsprinter usable with either of the two machines.andM;WHY A NEW STANDARD?andM;Is Royal really necessary?andP;  After all, there already is a graphics systemcalled PostScript that includes a good vector font technology.andM;There is no question that PostScript is a remarkable conception andimplementation of a device-independent page composition language.andP;  Althoughmost programmers find its Forth-like syntax awkward, PostScript is a completeand versatile language.andP;  PostScript has been very influential in sparking thedesktop publishing revolution, and Adobe is likely to remain a significantforce in the industry.andM;But PostScript was designed for the printed page, not for the video display.andO;Video displays impose different requirements on a graphics system.andP;  Printergraphics don't have to move; screen graphics do.andP;  You need much better bitmapsupport and raster operations than currently exist in PostScript.andP;  AndAdobe's attempt to bring PostScript into the video realm with DisplayPostScript has not met with much enthusiasm in the industry, Steve Jobs andhis NeXT machine notwithstanding.andM;What's worse, Adobe simply did not play by the rules.andP;  Although third-partyfont manufacturers could create fonts for PostScript printers, Adobe kept toitself the ability to creat the &quot;Type 1&quot; fonts that use PostScript'sproprietary algorithms.andP;  The rules of this industry say: you can make moneywith your product, but you must let third-party manufacturers of productadd-ons (such as fonts) play on the same-level field.andM;After the announcement that Microsoft would be using Royal fonts in thePresentation Manager, of course, Adobe pledged to open up the Type 1 format.andO;But I suspect it's a little too late.andP;  The industry has been recently inchingaway from Adobe for many reasons: Adobe's proprietary &quot;hinting&quot; algorithms,licensing fees widely considered to be excessive, the company's reluctance toextend the graphics capabilities of PostScript, and the emergence ofPostScript clones and better vector font technology.andM;Of course, nobody is suggesting that PostScript or PostScript printers willbecome useless.andP;  The Presentation Manager already has a PostScript driverthat can generate PostScript code for PostScript printers and typesetters.andO;It's also quite likely that Royal fonts will have the same metrics (characterwidths and so forth) as PostScript fonts.andP;  Thus, you can use Royal fonts onthe screen and print with PostScript fonts on a PostScript printer andachieve both device-independence and reasonable printing speed.andM;Still, Adobe's dominance in the font and desktop publishing arena is on thewane.andP;  The world has a new font standard.andM;THE TIME FRAMEandM;And now for the bad news.andP;  When will we see the Royal font technologyimplemented in the PM?andP;  That, I'm afraid, is still not yet clear.andP;  It willikely not appear in the first release of OS/2 2.0, but in a later release,possibly by the end of 1990.andP;  (Of course, by the time you read this column,you may know more than I do now!)andM;So once again we wait, as we have waited for OS/2 2.0, tantalized by thepotential of this technology, eager to face this new decade of computing,seeing into the future but not yet able to grasp it.andO;</TEXT></DOC>