<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-241-986  </DOCNO><DOCID>07 241 986.andM;</DOCID><JOURNAL>Digital Review  May 1 1989 v6 n17 p39(3)* Full Text COPYRIGHT Ziff-Davis Publishing Co. 1989.andM;</JOURNAL><TITLE>FPS stands alone. (FPS Computing) (evaluation)</TITLE><AUTHOR>Haskin, Denis W.andM;</AUTHOR><SUMMARY>FPS Computing's Model 500 ($638,000) multiprocessingminisupercomputer is designed for scientific and technical userswho need powerful vector processing.andP;  The Model 500 is designed tohandle vector processing applications that involve fluid dynamicsand seismic processing, modeling, structural analysis,computer-aided software engineering, mathematics libraries andgraphics.andP;  The Model 500 is recommended for high vectorperformance, 1 Gbyte of main memory, synchronous multiprocessing,automatic vectorization of Fortran programs, and the ability to beconfigured from one to four scalar and-or vector processors.andP;  The500 is faulted for its weak scalar performance and for the factthat it requires a computer-room environment.andM;</SUMMARY><DESCRIPT>Company:   Floating Point Systems Inc. (products).andO;Product:   Floating Point Systems FPS 500 (Supercomputer).andO;Topic:     EvaluationMinisupercomputersScientific ResearchStructural AnalysisFluid MechanicsSeismologyModelingComputer-Aided Software EngineeringMathematical SystemsGraphics Systems.andO;Feature:   illustrationchart.andO;Caption:   System architecture. (chart)Scalar processor architecture. (chart)Vector processor architecture. (chart)andM;</DESCRIPT><TEXT>FPS STANDS ALONEandM;As the computer industry abandons proprietary systems in favor of openstandards, computer manufacturers are adopting a variety of strategies tokeep up with the changing times.andP;  Floating Point Systems has changed its nameto FPS Computing and is moving into a new market.andM;Although FPS will continue to produce and sell attached minisupercomputersthat are designed to piggyback onto VAXes and other computers, the company'srecent purchase of Celerity Computing has enabled FPS to jump into the Unixminisupercomputer market.andM;FPS' multiprocessing minisupercomputer, the Model 500, is based on Celeritytechnology and is completely compatible with Celerity's 1200 series ofminisupercomputers.andP;  A RISC-based 64-bit machine, the Model 500 uses emittercoupled logic (ECL) technology and is designed for scientific and technicalusers who need a lot of computing power, particularly vector processing.andM;DR Labs traveled northwest to FPS Computing's headquarters in the heart ofthe Silicon Forest in Beaverton, Ore., to put the Model 500 through its pacesusing DR Labs' CPU 2 Fortran benchmark suite.andM;FPS' Model 500 is designed specifically for large applications.andP;  It can haveas much as 1GB of main memory and supports a high number of I/O channels and44GB of disk storage.andM;The machine is most adept at handling vector processing applications thatinvolve structural analysis, fluid dynamics and seismic processing, modeling,computer-aided software engineering, graphics, and mathematics libraries.andO;Thanks to FPS' considerable experience in the minisupercomputer field, thecompany has developed extensive expertise in designing math and vectorlibraries for these kinds of applications.andM;The Model 500 is not a batch-oriented number cruncher.andP;  Its architecture isdesigned to provide excellent interactive performance even while largecompute jobs are in progress.andM;FPS' Model 500 can be configured with a minimum of one scalar processor andcan include four scalar and/or vector processors.andP;  Each vector processor isactually a co-processor to a scalar processor, so one scalar processor isrequired for each vector processor.andM;The Model 500's operating system, FPX, is a synchronous, multiprocessing Unixsystem and is based on the Berkeley 4.3 distribution.andP;  Each scalar processorruns its own copy of the operating system, and concurrency betwen theprocessors is maintained by 1,024 32-bit registers that are independent ofany of the processors.andP;  Any process can run on any processor, assuming thatthere are no inhibiting resource constraints.andM;Unfortunately, the current version of FPX doesn't permit multiprocessingwithin a single Unix process.andM;The machine's system architecture is relatively straightforward (Fig.andP;  1).andO;At the conceptual heart of the unit is the address translation andmultiprocessing concurrency hardware.andM;The system uses two logical buses to connect all of its components.andP;  Theprocessors communicate via the Virtual Bus, which translates virtualaddresses to physical addresses via the address translation cache (ATC).andO;These physical addresses are used on the system's other logical bus, theRealBus, which connects the processors to the main memory and I/O ports.andM;In reality, the two logical buses each consist of two physical buses.andP;  TheVirtualBus consists of a 36-bit bus that sends virtual addresses to the ATCand a 30-bit bus that moves the translated physical addresses back to theprocessors.andP;  (FPS rates the former at 150MB per second and the latter at125MB per second.)andP;  The RealBus incorporates a 32-bit address bus that israted at 133MB per second and a 64-bit data bus that is rated at 267 MB persecond.andM;The Model 500's 64-bit scalar processor holds quite firmly to the basictenets of reduced instruction set computing: It uses onlyregister-to-register operations, incorporates a very large number ofregisters, and utilizes a pipeline to perform various types of CPUinstructions in a single clock cycle.andP;  (The machine is based on a30-nanosecond system clock.)andM;Each scalar processor includes 16 general-purpose registers, a 64KBinstruction cache, a 64KB data cache, a 64KB register stack cache and a 16KBfloating-point register cache (Fig.andP;  2).andM;These caches, as well as the use of a virtual address bus, enhance the Model500's interactive performance.andP;  All user processes that execute on a Model500 have a 16-bit process ID tag that is used to speed virtual addresstranslations.andM;The instruction  cache, for example, is referenced using virtual addressesrather than real addresses, eliminating the need for address translation.andO;However, thedata cache is referenced using real addresses that have beentranslated for the processor by the ATC.andP;  This cache uses write-throughsynchronization to ensure that it is synchronized with other processors' datacaches and main memory.andM;FPS' register stack cache uses another technique of RISC technology thatresembles the &quot;rolling register windows&quot; found in Sun's Sparc architecture:The 64KB register stack cache is organized into banks and frames.andM;Banks are allocated on a process-by-process basis, while frames are allocatedwhen a process enters a procedure.andP;  (Similarly, banks are deallocated when aprocess exists, and frames are deallocated when a procedure is exited.)andM;32 BY 32andM;Each frame holds 32 32-bit registers.andP;  Users can combine these registers torepresent 64-bit values.andP;  The first 16 registers of a frame can be addressedby a process that is currently using the previous frame.andP;  This feature makesit easier to pass arguments to a procedure.andM;The organization of the register stack cache facilitates the frequentswitching of contexts that is inherent to interactive computer systems.andO;Rather than flushing a cache to accommodate a switch in processes orprocedures, pointers are simply adjusted to point to the current bank andframe.andM;Unix processes that are running under FPX aren't allocated to a particularprocessor, but FPX takes advantage of the Model 500's two-dimensional cachesby trying to keep any process that is using a cache on that processor.andP;  Ofcourse, if a process is scheduled for execution and no cache space isavailable, a process that is already loaded will be flushed to allow the newprocess to be executed.andM;The organization of the floating-point register cache is similar to that ofthe register stack cache.andP;  Each frame holds 16 64-bit registers.andM;The Model 500's vector processor is a co-processor to a scalar processor.andO;The scalar processor tells the vector processor what data to load, whatoperations to perform, and where to store data when the operations arecompleted.andM;Although it is a co-processor, the vector processor operates fairlyindependently of the scalar processor.andP;  The vector processor has its ownbuses and interfaces to theandM;Model 500's real and virtual buses.andM;The vector unit consists of a vector move processor that loads or unloads,the vector registers, the vector operate processor that performs the actualvector operations (which are always register-to-register) and the vectorregister (Fig.andP;  3).andM;The vector processor supports 32- and 64-bit integers, floating-point numbersand boolean values.andM;The operations that the vector operate processor supports include arithmeticoperations such as add, subtract, multiply, divide, negate and square root;boolean operations, shifts and population counts; minimum, maximum andabsolute value; compare and set masks; and conversion between integer andfloating-point numbers.andM;The vector register consists of eight banks of 1,024 32-bit values.andP;  Eachbank operates as a single unit--that is, a bank can't be divided betweenmultiple processes.andP;  However, multiple processes can use the vector processorsimultaneously: Vector registers can be loaded or unloaded by the vector moveprocessor while the vector operate processor is performing calculations onother banks.andM;The Model 500 supports 1GB of main memory, which is organized in eightboards.andP;  The system has a virtual address space of 4GB, and each fPX processcan address 2GB of virtual memory.andM;FAST REFERENCINGandM;Because the Model 500's processors operate with virtual addresses, the ATCtakes the 32-bit virtual memory address and the 16-bit process ID tag andconverts them to a physical address, resolving the reference via theinstruction or data caches and then referencing main memory.andM;The address translation process involves both the processor and the ATC,however.andP;  Each processor maintains a look-aside buffer that contains the lastreference that was made t o each of the 16 general-purpose registers, as wellas a processor-specific &quot;mini-ATC&quot; that contains the 16 most recently usedvirtual addresses.andM;IF the FPS checks the look-aside buffer and the mini-ATC and still doesn'tfind the translation, it proceeds to check the 16,384 entries in the completeATC.andP;  If no translation is found, FPS consults a table in the main memory tolocate the address.andP;  If the table doesn't contain the address, then theportion of virtual memory that contains that address is paged out, and a pagefault occurs to signal the system to retrieve the address from the disk.andM;Unlike many Unix implementations, FPX uses a dynamic rather than a fixed-sizedatabase of disk-mapped memory.andP;  This flexibility helps make efficient use ofmemory.andM;Main memory can be inter-leaved to allow multiple, parallel data paths.andP;  Thisarrangement speeds that overall transfer rate.andM;In addition to the memory, one or two I/O ports reside on the Real-Bus.andP;  Eachport supports as many as four bus adapters to which users can attachMultibuses or VME buses.andP;  One bus adapter is reserved for an IBM PC ATcomputer that serves as the Extended Service Processor (ESP).andM;Each bus adapter can support a separate bus type, allowing users to combineMultibuses and VME buses on a single I/O port.andM;Each Multibus and VME bus includes 10 interface slots.andP;  Users can choose froma variety of controllers, including disk, tape, network, parallel I/O, andsynchronous and asynchronous serial I/O controllers.andM;The ESP, which runs System V Unix, is attached to one of the bus adapters onan I/O port.andP;  Just as the Pro/350 computer that accompanies VAXes in the vAX8000 series controls and minitors those machines, the ESP controls andmonitors the Model 500.andM;The ESP handles start-up and shutdown of the machine, performs systemdiagnostics, logs hardware and software errors, and monitors environmentalconditions such as power supply and temperature.andM;Users can also monitor hardware performance quite precisely by using the ESPin conjunction with a set of graphic screen displays.andP;  These displays showoverall system performance, the instruction execution rate for a scalar orvector processor, cache and ATC hit rates for address translations, and busutilization.andM;Service personnel can use the ESP to perform remote system diagnostics via aphone line and a modem.andM;The Model 500 requires at least two cabinets, one to contain the processorsand memory as well as an additional cabinet for I/O expan sion.andP;  Each cabinetis 62 inches high, 28 inches wide and 42 inches deep.andP;  More cabinets can beadded if necessary.andM;The system is air-coole but does require the special environment of acomputer room as well as a special power supply that is used for most systemsof this size.andM;BERKELEY WITH SVID, TOOandM;Although FPX is based on Berkeley 4.3, it conforms to the ATandamp;T System VInterface Definition and includes such System V features as interprocesscommunication and file and record locking.andM;FPS' Unix implementation has been modified to support the large jobs that theModel 500 is designed to handle.andP;  The enhancements include an increase in themaximum file size, which is 2GB on FPX; disk block sizes of as much as 256KB;large disk caches of as much as 512 MB; and the provision for disk stripingof as many as eight disks.andP;  (Disk striping allows multiple physical disks tobecome part of a single logical disk.)andM;In addition, Sun Microsystems' Network File System (NFS) is implemented inthe FPX kernel.andP;  Systems that implement NFS in the kernel can be  moreefficient than those that don't implement it as part of the kernel.andM;FPX supports C, Fortran, Pascal and Modula-2.andP;  Particular attention has beenpaid to FPS' Fortran, an implementation that reflects the company's manyyears of experience with attached vector and array processors.andM;FPS Fortran includes VAX extensions such as additional intrinsic functions,system subroutines, %VAL and %LOC functions to pass arguments by value orreference, additional data types, and the DO WHILE construct.andP;  The inclusionof these extensions makes it easy to transport programs from VMS machines.andM;FPS, like many other vector computer manufacturers, uses the VASTpreprocessor from Pacific-Sierra Research to analyze Fortran-77 source codeand optimize it to take advantage of the Model 500's vector processor.andM;VAST--which is incorporated within the compilation process and requireslittle, if any, user intervention --operates by changing Fortran-77 code intoFortan-8x vector notation whenever possible (Fig.andP;  4).andM;An interesting feature that we haven't seen in any other Fortran compiler isthe use of C-style compiler directives in the source code.andP;  These directivesinclude #define, #if and #include, which are used for conditionalcompilation.andM;Programming tools include the familiar dbx debugger, xref for source codecross-referencing, and the RCS, SCCS and make source code control utilities.andM;FPX includes the srcprof profiling tool.andP;  This tool, which is similar toDEC's Performance Coverage Analyzer, provides the user with a lot ofinformation regarding the performance characteristics of a program.andP;  Thesrcprof tool reports execution information detailing how many times eachsubroutine or line of a program was executed and how much time was spent inthat subroutine or line.andM;Other pluses included with FPX include a software RAM disk that allows a fastdisk to be &quot;constructed&quot; in the Model 500's main memory; a mon utility(similar to but not as extensive as VMS' Monitor utility) that provides ascreen display of system activity, including load averages, CPU, memory,cache, paging and disk statistics; and the config utility, which helps themanager set up I/O adapters and the devices on them.andM;X Window System client software is available for the Model 500, so themachine can display graphics on X Window System servers.andM;An EDT editor and a DCL shell, available from EPS and supplied by BostonBusiness Computing, are available for users migrating from VMS.andP;  A Model 500can be introduced into a DECnet network via FPSnet/DNI, which is a port ofTCI's Community DECnet software.andM;VECTOR INTENSIVEandM;The Model 500 on which we ran DR Labs' benchmark suite had a single scalarprocessor and a single vector processor, 128MB of main memory with eight-wayinterleaving, and two Multibuses.andP;  Each Multibus had one disk controller andtwo disks, so there were a total of four disks.andP;  (Each disk provided 700MB offormatted disk space.)andP;  One Multibus had a quarter-inch tape cartridge drive.andM;The CPU 2 benchmark suite is an ideal tool with which to measure the Model500's performance because it models typical scientific and engineeringapplications--, which the Model 500 is designed to target.andM;DR Labs' CPU 2 benchmark suite is dominated by floating-point operations, andseveral of the kernels lend themselves very well to vectorizing.andP;  Thus, weexpected the Model 500 to turn in some good results.andM;We were not disappointed.andP;  Using only the automatic vectorizations providedby the VAST pre-processor that is included with the Fortran compiler (addingonly a compile-time command line option), the Model 500 delivered 28.07MicroVAX II units of processing (MVUPs) (Fig.andP;  5).andM;We achieved this performance without making any changes to the CPU 2 sourcecode: The kernels were compiled using the -O switch that turns on source codeoptimization, --Oc pi+, which turns on the procedure integration feature, and-Oc vec, which implements basic vectorization.andM;When we inspected the listings produced by the Fortran compiler--whichindicate which optimizations VAST can accomplish--we determined that, exceptfor the ALAM18 subroutine, none of the kernels used vectors that were longerthan a single 1,024-element vector register bank.andP;  We added the -Ocvec=shortnocheck option to pass this information along to the compiler.andM;When we ran the benchmarks again, we learned that our tweaks had pushed theModel 500's performance up to 28.99 MVUPs.andM;We then noticed that when it was processing the EGYPT and EGYPTD kernels ofthe benchmark suite, the optimizer was prevented from making somevectorizations because of possible data dependencies between subsequentiterations of loops.andP;  Adding the -Kv=-optoff=D option turned offdata-dependency checking for those two kernels, boosting the Model 500'sperformance to 30.97 MVUPs.andM;When we measured straight scalar processor performance--excluding anyvectorization--the Model 500 turned in 13.07 MVUPs.andM;Observant readers may note that one of DR Labs' standard kernels--LAMAPR--ismissing from these benchmark results.andP;  We omitted this kernel because theresults that we would achieve using this benchmark would not berepresentative of the Model 500's overall performance.andM;When we ran the kernel on the Model 500, we reduced the kernel's operations--normally consisting of a simple matrix multiplication operation, three DOloops and the multiplication operation--to a single call to the vectorprocessor: VEC$MATMUL_XX.andM;PRIME ENDandM;Suitably reduced, the LAMAPR kernel ran 224.68 times faster on the Model 500than it had previously run on a MicroVAX II.andM;At the other end of the spectrum, the PRIME kernel (which calculates primenumbers) ran quite slowly on the Model 500, performing only 5.03 times asfast as a MicroVAX II.andP;  PRIME is an integer benchmark that affords no vectoroptimization and thus gains very little from the Model 500's architecture.andO;We ran this benchmark along with the others because it is important torecognize the limitations of a machine like the Model 500.andM;An &quot;entry-level&quot; Model 500 starts at $ 217,000 for a single scalar processorand 16MB of memory.andP;  The minimal vector configuration--including one scalarprocessor, one vector processor and 64MB of memory--is priced at $477,000.andP;  Afully configured Model 500 with two scalar and two vector processors plus128MB of memory runs $867,000.andM;FPS Computing's first foray into the world of stand-alone computing appearsto be a good one.andP;  The combination of Celerity's technological expertise andFPS' experience in the vector and array processing arena yields a Unixminisupercomputer of formidable power.andP;  The Model 500 will be particularlyappealing to technical and scientific users who require substantial vectorprocessing power.andO;</TEXT></DOC>