<?xml version='1.0' encoding='UTF-8'?>
<DOC><DOCNO>  ZF207-242-502  </DOCNO><DOCID>07 242 502.andM;</DOCID><JOURNAL>Software Magazine  April 1989 v9 n5 p60(6)* Full Text COPYRIGHT Sentry Publishing Corp. 1989.andM;</JOURNAL><TITLE>Twists of SQL access continue DBMS babel. (Structured QueryLanguage, data base management system) (buyers guide)</TITLE><AUTHOR>Edelstein, Herb.andM;</AUTHOR><SUMMARY>The acceptance of the Standard Query Language (SQL) by mostdatabase management system (DBMS) vendors was supposed to enablethe easy transfer of data from one DBMS to another, but variancesin both SQL versions and the underlying DBMS has diminished thatportability.andP;  The American National Standards Institute (ANSI) hasdeveloped an SQL standard, SQL1.andP;  No DBMS vendor conforms exactlyto the standard, and several lapses in SQL1 specifications requirethe vendors to devise their own syntax.andP;  Major differences betweenSQL DBMSs include syntactical differences, semantic differences,variations in dictionary tables, error return codes may vary, andthere are several host language interfaces.andP;  A revision of SQL1,called SQL2, is expected to debut in about 18 months.andP;  It will bemore complete, with several extensions and more completereferential integrity.andM;</SUMMARY><DESCRIPT>Topic:     Structured Query LanguageCompatibilityComparisonImplementationData Base Management SystemsCompatible SoftwareProduct DevelopmentOutlook.andO;Feature:   illustrationtableprogram.andO;Caption:   Representative database management systems. (table)Embedded SQL example. (program)Sybase CALL example. (program)andM;</DESCRIPT><TEXT>TWISTS OF SQL ACCESS CONTINUE DBMS BABELandM;The age of SQL is upon us.andP;  No longer is it enough for a database managementsystem to be relational, it must also use SQL as its language for workingwith the database.andP;  Many vendors of older systems have scrambled to add SQLin one form or another to their DBMSs.andP;  Ideal from Computer AssociatesInternational, Garden City, N.Y., and Natural 2 from Software AG, Reston Va.,andO;are examples of fourth-generation languages that have added an SQLcapability.andM;We are told by vendors that the DBMS Babel has ended.andP;  Since all DBMSs eitherunderstand SQL now or will soon, since the risk of not understanding it istheir own commercial viability, applications written in SQL will betransportable across DBMSs.andP;  In othre words, SQL is supposed to behaveuniformly from vendor to vendor, and each vendor's SQL is similar.andM;DBMSs are becoming commondities, differentiated by their front-end tools andthe degree of hype used to extoll their performance.andM;What is the truth of the matter?andP;  Is SQL a true lingua franca of the DBMSworld, or are there dialects that contain hidden traps for the unwary?andP;  And,of what benefit is SQL transportability?andM;SQL is not a complete programming language or DBMS, but is what sometimes iscalled a sub-language.andP;  It does not contain all the constructs of a completeprogramming language such as Cobol.andM;For example, the language contains no conditional execution such as an IFstatement, or an assignment statement.andP;  Rather, it contains statements fordefining the database, such as Create Table, or manipulating the data, suchas Select for retrieval and Update for modification.andM;A clear benefit to a uniform language is the ability to transfer knowledgefrom one SQL DBMS to another.andP;  Whether you know IBM's DB2 SQL, SQL Plus fromOracle Corp., Belmont, Calif., or Transact SQL from Sybase, Emeryville,Calif., you can quickly learn the differences.andP;  Moving among dialects of thesame language is much easier than moving to a totally different language.andM;The major differences in SQL DBMSs are not in the SQL per se, but in thedifferent DBMSs.andP;  For example, DB2 allows the database deisgner to placetables in table spaces and specify some index parameters to improveperformance.andM;Ingres from Relational Technology, Inc., Alameda, Calif., allows the user tochoose among two types of index structure and hashed access.andP;  At the syntaxlevel, these differences are minor; but the decisions necessary to correctlydesign the database require experience in the particular DBMS.andM;The key benefit that most users are looking for is applicationtransportability.andP;  There are five general areas where SQL DBMS differencescan affect transportability:andM;1.andP;  Syntactical differences in the SQL.andP;  The syntax to express an operationmay differ.andM;2.andP;  Semantic differences.andP;  The actions carried out by a particular staementmay differ.andM;3.andP;  Dictionary tables.andP;  the database tables that make up the data dictionarymay be different.andM;4.andP;  Return codes.andP;  The error return codes may not be the same.andM;5.andP;  Host language interface.andP;  Database access from a programming language,such as Cobol or C, may be different.andM;To minimize these differences, the American National Standards Institute(Ansi) has promulgated a standard for SQL, often called SQL1.andM;Most vendors pay at least lip service to conforming to this standard,although no vendor does exactly what the standard specifies and nothing else.andM;In fact, so many important things are missing from the standard that thevendors are left to come up with their own syntax.andP;  For example, while thestandard provides syntax for defining a table, there is no syntax fordropping a table.andP;  A standard system could grant privileges to access atable, but must go beyond the standard to drop a table.andM;Consequently, DB2 has become a de factor standard in that they many areas theAnsi standard has not addressed, vendors follow IBM's syntactical lead.andO;There will soon be available from the National Institute of Standards andTechnology (formerly the national Bureau of Standards) a test suite of SQLthat will flag all non-standard SQL with warning messages.andM;To rectify these opinions, Ansi proposes new standards.andP;  In the near term,Ansi suggests a modification (referred to as addendum 1) that provides forsome protection against referential integrity problems.andM;A more complete revision called SQL2 will be out in about 18 months to twoyears.andP;  Not only will this version completely address referential integrity,but it will add many features for which vendors have had to implementextensions.andP;  One such possible inclusion is the outer join.andM;Most vendors conform reasonably well to the Ansi syntax for SQL.andP;  Theproblems arise in the extensions to the standard.andP;  For example, the standarddoes not provide for an outer join.andM;The requirement comes up in situations where one has two tables in aone-to-many (or hierarchical) relationship, such as Customers and Orders.andP;  Ifa user wanted to produce a list of customers and their orders, includingthose customers who have made no orders, the standard join does not work.andP;  Itloses the information about the customers who have not made an order, whereasthe outer join does not lose this data.andM;Oracle's syntax for the outer join is: SELECT NAME, ORDER__NUMBER FROMCUSTOMERS, ORDERS WHERE CUSTOMER.andP;  CUSTOMERS__ NUMBER=*ORDERS.CUSTOMER__NUMBER(+) Sybase's syntax for the same operation is: SELECTNAME, ORDER__NUMBER FROM CUSTOMERS, ORDERS WHERE CUSTOMER.CUSTOMERS-- NUMBER=*ORDERS.CUSTOMERS__NUMBERandM;A major source of syntactic difference arises in the definition of thedatabase.andP;  DBMSs may have different data types, such as a date and time datatype.andP;  Not only is the definition of the datatype different, but the internalrepresentations will differ, and the manipulations may differ.andP;  For example,performing interval arithmetic with dates may vary between implementations.andM;Another example is in how the DBMSs deal with referential integrity problems[January, Software Magazine].andM;In the latest release of DB2, IBM has extended the Create statement withsyntax for controlling many of the problems associated with referentialintegrity.andP;  Sybase and Interbase have addressed this problem with a mechanismcalled triggers that allows procedures for controlling referential integrity(as well as serving other functions) to be stored in th data dictionary.andO;Most other vendors are waiting for Ansi to tell them how to deal with theproblem.andM;The user who wishes to conform to standards is faced with a tough choice--usethese extensions and risk incompatibility with the standard or do not usethem and give up the producitivity gains they provide.andM;What should the poor programmer do, considering his/her job depends onsticking to standards, and must meet a deadline that will be tough even usingavailable extensions?andM;The overwhelming majority of people choose to use extensions.andM;The syntax incompatibilities, while causing some problems, are not leastobvious.andP;  The semantic differences can be subtle and cause the same SQL toproduce different answers from the same data.andP;  For example, standard SQLrequires that in a Select clause containing summaries such as SUM or MAX, anycolumns not part of a summary must appear in a Group by clause.andM;For example, a count of all the orders made on each date would be: SELECTORDER__DATE, COUNT(*) FROM ORDERS GROUP BY ORDER__DATEandM;To add Customer__Number would be considered meaningless and generate an errorcondition.andP;  Sybase's Transact SQL, however, considers this to be meaningful,and has a reasonable semantic interpretation.andP;  They would list each orderdate and the total number of orders on that date, as a standard system would,but would also print a line for each Customer__Number, repeating the date andcount.andM;There are other, more subtle differences that deal with such things ashandling nulls or updating a table based on values found in that same table.andM;It is clear that moving from one DBMS to another, even when the SQL has thesame syntax, can cause an application to stop working; or worse, continue towork but produce erroneous results.andM;PORTABLE DICTIONARY NEEDEDandM;In most SQL relational DBMSs, the data dictionary tables (or catalogs) arejust ordinary database tables that contain information about the database,such as the names and definitions of the tables.andM;Organizations that are developing interactive applications use this data toprovide a help function.andP;  For example, the application may prompt the userwith a list of legitimate column names for creating a report.andM;Unfortunately, these dictionary tables do not have standard names, let alonestandard contents.andP;  Therefore, any applications that use the dictionarytables explicitly have made moving the application to another DBMS moredifficult.andM;SQL DBMSs provide a way to use SQL from a host language program, such asCobol or C, to access the database.andP;  There are three main approaches towriting these programs.andM;The first approach is to use what is called embedded SQL.andP;  This approach isused in most relational DBMSs, including IBM's DB2 and SQL/DS, Oracle andRelational Technology's Inges.andM;The program containing embedded SQL is processed by a precompiler, which is aprogram that translates SQL statements into Calls.andP;  The modified source iscompiled to object code, linked and executed.andM;The problem with using SQL in a host language is that SQL returns tables, butCobol and other host languages expect records.andP;  Therefore, a way to pickrecords from the table one at a time is needed.andP;  The mechanism used inembedded SQL is the cursor, which is a pointer to the current row of the dataretrieved.andP;  (See Figure 1.)andM;TYPES OF EMBEDDED SQLandM;There are two types of embedded SQL: static SQL and dynamic SQL.andP;  Mostcommonly, the SQL statement to be executed is known and the columns to beoperated on are known.andP;  In these cases, static SQL is used.andP;  But for someinteractive programs where SQL statements are constructed based on userinput, dynamic SQL is necessary.andM;The second method is to use a call interface that passes SQL statements as astring to the DBMS.andM;Sybase (and its derivative, the Microsoft/Ashton-Tate SQL Server), SQLBasefrom Gupta Technologies, Menlo Park, Calif., and XDB from XDB Systems Inc.,andO;College Park, Md., are some of the DBMSs that use variations of thisapproach.andP;  (Figure 2 shows the Sybase Calls equivalent to the embedded SQL inFigure 1.)andM;Because the SQL to be run is processed during program execution, thisapproach is similar to dynamic SQL.andP;  Consequently, the database access pathis optimized when the SQL is sent to the server.andM;However, Sybase adds stored procedures so that the optimization can be doneprior to program execution.andP;  A named collection of SQL statements can becompiled and stored on the server.andP;  Programs can invoke these procedures byname, saving the cost of interpretation and optimization.andM;Programs written to either of these two approaches cannot be moved withoutrecoding the database access.andP;  Even when embedded SQL is used, there are somedifferences in the implementations.andP;  To address the variability in embeddedSQL, Ansi will soon promulgate an embedded SQL standard.andM;ERROR RETURN CODESandM;The problems of host language programming are exacerbated by the fact thatDBMSs usually do not have a standard set of error return codes.andM;Typically, after every database operation, a programmer will check to seethat the command was completed successfully.andP;  The program will performcertain actions, such as rolling back a transaction, based on a code that theDBMS returns to the progra.andP;  Moving to another DBMS requires that programmerschange return codes that are different.andM;How do the vendors cope with these problems?andM;IBM's strategy is embodied in System Applications Architecture (SAA).andP;  It isIBM's intention that all programs written to the SAA standard betransportable across all SAA environments and DBMSs.andM;This means an application written for DB2 on the mainframe should run on theAS/400 with SQL/400 or on the PC with OS/2 Extended Edition Data Manager.andO;The SQL syntax and semantics will be the same, the embedded SQL the same,even the error return codes will be the same.andM;IN TIME, CONVERGENCEandM;However, current releases of these products don't live up to this promise.andO;For example, Data Manager does not support the referential integrity featuresof the DB2 Create Table, and does not support the union operator.andP;  However,over time these systems will converge.andM;Oracle's strategy is to offer the same DBMS on a wide variety of platforms.andM;According to Ken Jacobs, director of RDBMS marketing for Oracle, and arepresentative to the Ansi SQL committee, users are moving to a heterogeneouscomputing environment.andP;  The best way to ensure transportability ofapplications across the various hardware and operating systems platforms isto use the same DBMS on all of them, he said.andM;One of the advantages of this approach is that the same vendor's applicationdevelopment tools will run on all platforms.andP;  A disadvantage is that someDBMSs are optimized for certain operating environments.andP;  In addition, manyorganizations would find it difficult to enforce a &quot;consesus&quot; DBMS,especially companies built by acquisitions of firms with a DBMS in place.andO;Getting users to change their DBMS is roughly equivalent to getting them tochange religions.andM;INTEROPERABILITY REQUIREMENTandM;RTI's &quot;let's live together&quot; approach to transportability differs fromOracle's.andP;  Scott Hildreth, group manager for distributed technology atRelational Technology, sees interoperability of different DBMSs as animportant requirement for many of its users.andP;  (Interoperability here isdefined as the SQL and tools from one vendor which work with another vendor'sSQL-based DBMS.)andM;Ingres Gateways is designed to allow RTI's application development tools torun with other DBMSs, including IBM's DB2, SQL/DS, and DEC's Rdb and RMS, aswell as Ingres.andM;To  account for SQL syntactic and semantic differences, RTI has definedCommon SQL, a large subset of SQL that allows SQL access to non-Ingres DBMSsfrom the Ingres Tools.andP;  Ingres Gateways also automatically does translationsfor data types and error codes to increase application transportability.andM;Hildreth points out that to make application development tools work well in aheterogeneous database environment, the vendor must accommodate hardwaredifferences and provide system tools that help debugging across differentsystems.andP;  For example, Ingres will translate the IBM mainframe sort sequenceto the VAX or PC sort sequence.andM;In addition they provide a trace tool that follows the progress of a SQLstatement from the issuing program to the executing database, including howit was translated, and the access plan generated.andM;Interbase Software, Tyngsborough, Mass., takes a different approach to supplyheterogeneous interconnect to a variety of DBMSs in addition to their own.andO;Its scheme is based on a set of low-level protocols called BLR and a set ofdictionary tables that are part of DEC's DSRI (DEC Standard RelationalInterface).andM;Through this interface, any SQL application is mapped into DSRI and will workwith both the Interbase DBMS and Rdb as well as RMS files (and Oracle laterthis year).andM;ACCESS TO NON-DEC DBMSsandM;Jim Starkey, president of Interbase points out that this means, for example,Datatrieve (a DEC fourth-generation language) could access non-DEC DBMSs suchas InterBase, or, through a gateway, Oracle.andM;Focus From Information Builders, New York City, works with a very largenumber of DBMSs, including the SQL-oriented DB2, SQL/DS, Sybse, Oracle,Ingres and Rdb.andM;Jon Deutsch, product manager for Information Builders' SQL Interfaces, saysthat to port to a new SQL-oriented DBMS, they use an existing port close tothe new target.andM;For example, DB2 is close to Extended Edition Data Manager because they bothuse embdedded SQL, and Data Manager is close to the SAA standard.andP;  Theinterface must then be modified to accommodate the sytactic and semanticidiosyncrasies of the new system.andM;In summary, we can see that application transportability is not automaticallyensured simply because the target DBMS uses SQL.andM;For end users, the solution to this problem comes from applicationdevelopment front ends engineered to work with a variety of DBMSs from usingthe same DBMS, or waiting for standards to catch up.andM;For software vendors who want to run against a variety of DBMSs, the solutionrequires much work and careful attention to detail.andO;</TEXT></DOC>